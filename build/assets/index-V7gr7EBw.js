function GC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Kw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gw={exports:{}},Xc={},qw={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=Symbol.for("react.element"),qC=Symbol.for("react.portal"),QC=Symbol.for("react.fragment"),YC=Symbol.for("react.strict_mode"),XC=Symbol.for("react.profiler"),JC=Symbol.for("react.provider"),ZC=Symbol.for("react.context"),eR=Symbol.for("react.forward_ref"),tR=Symbol.for("react.suspense"),nR=Symbol.for("react.memo"),rR=Symbol.for("react.lazy"),gy=Symbol.iterator;function iR(t){return t===null||typeof t!="object"?null:(t=gy&&t[gy]||t["@@iterator"],typeof t=="function"?t:null)}var Qw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yw=Object.assign,Xw={};function rs(t,e,n){this.props=t,this.context=e,this.refs=Xw,this.updater=n||Qw}rs.prototype.isReactComponent={};rs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jw(){}Jw.prototype=rs.prototype;function tm(t,e,n){this.props=t,this.context=e,this.refs=Xw,this.updater=n||Qw}var nm=tm.prototype=new Jw;nm.constructor=tm;Yw(nm,rs.prototype);nm.isPureReactComponent=!0;var yy=Array.isArray,Zw=Object.prototype.hasOwnProperty,rm={current:null},ex={key:!0,ref:!0,__self:!0,__source:!0};function tx(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Zw.call(e,r)&&!ex.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:qa,type:t,key:o,ref:s,props:i,_owner:rm.current}}function oR(t,e){return{$$typeof:qa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function im(t){return typeof t=="object"&&t!==null&&t.$$typeof===qa}function sR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vy=/\/+/g;function pf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sR(""+t.key):e.toString(36)}function _u(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case qa:case qC:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+pf(s,0):r,yy(i)?(n="",t!=null&&(n=t.replace(vy,"$&/")+"/"),_u(i,e,n,"",function(c){return c})):i!=null&&(im(i)&&(i=oR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(vy,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",yy(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+pf(o,a);s+=_u(o,e,n,u,i)}else if(u=iR(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+pf(o,a++),s+=_u(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ol(t,e,n){if(t==null)return t;var r=[],i=0;return _u(t,r,"","",function(o){return e.call(n,o,i++)}),r}function aR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},wu={transition:null},lR={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:wu,ReactCurrentOwner:rm};function nx(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Ol,forEach:function(t,e,n){Ol(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ol(t,function(){e++}),e},toArray:function(t){return Ol(t,function(e){return e})||[]},only:function(t){if(!im(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=rs;oe.Fragment=QC;oe.Profiler=XC;oe.PureComponent=tm;oe.StrictMode=YC;oe.Suspense=tR;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lR;oe.act=nx;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Yw({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=rm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Zw.call(e,u)&&!ex.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:qa,type:t.type,key:i,ref:o,props:r,_owner:s}};oe.createContext=function(t){return t={$$typeof:ZC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:JC,_context:t},t.Consumer=t};oe.createElement=tx;oe.createFactory=function(t){var e=tx.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:eR,render:t}};oe.isValidElement=im;oe.lazy=function(t){return{$$typeof:rR,_payload:{_status:-1,_result:t},_init:aR}};oe.memo=function(t,e){return{$$typeof:nR,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=wu.transition;wu.transition={};try{t()}finally{wu.transition=e}};oe.unstable_act=nx;oe.useCallback=function(t,e){return xt.current.useCallback(t,e)};oe.useContext=function(t){return xt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return xt.current.useEffect(t,e)};oe.useId=function(){return xt.current.useId()};oe.useImperativeHandle=function(t,e,n){return xt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return xt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return xt.current.useReducer(t,e,n)};oe.useRef=function(t){return xt.current.useRef(t)};oe.useState=function(t){return xt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return xt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return xt.current.useTransition()};oe.version="18.3.1";qw.exports=oe;var v=qw.exports;const xr=Kw(v),uR=GC({__proto__:null,default:xr},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR=v,dR=Symbol.for("react.element"),fR=Symbol.for("react.fragment"),hR=Object.prototype.hasOwnProperty,pR=cR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mR={key:!0,ref:!0,__self:!0,__source:!0};function rx(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)hR.call(e,r)&&!mR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dR,type:t,key:o,ref:s,props:i,_owner:pR.current}}Xc.Fragment=fR;Xc.jsx=rx;Xc.jsxs=rx;Gw.exports=Xc;var b=Gw.exports,ix={exports:{}},$t={},ox={exports:{}},sx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,j){var W=F.length;F.push(j);e:for(;0<W;){var re=W-1>>>1,ie=F[re];if(0<i(ie,j))F[re]=j,F[W]=ie,W=re;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],W=F.pop();if(W!==j){F[0]=W;e:for(var re=0,ie=F.length,ge=ie>>>1;re<ge;){var Ve=2*(re+1)-1,ze=F[Ve],Me=Ve+1,Ie=F[Me];if(0>i(ze,W))Me<ie&&0>i(Ie,ze)?(F[re]=Ie,F[Me]=W,re=Me):(F[re]=ze,F[Ve]=W,re=Ve);else if(Me<ie&&0>i(Ie,W))F[re]=Ie,F[Me]=W,re=Me;else break e}}return j}function i(F,j){var W=F.sortIndex-j.sortIndex;return W!==0?W:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],d=1,h=null,p=3,g=!1,w=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=F)r(c),j.sortIndex=j.expirationTime,e(u,j);else break;j=n(c)}}function k(F){if(E=!1,x(F),!w)if(n(u)!==null)w=!0,Y(O);else{var j=n(c);j!==null&&ce(k,j.startTime-F)}}function O(F,j){w=!1,E&&(E=!1,y(T),T=-1),g=!0;var W=p;try{for(x(j),h=n(u);h!==null&&(!(h.expirationTime>j)||F&&!N());){var re=h.callback;if(typeof re=="function"){h.callback=null,p=h.priorityLevel;var ie=re(h.expirationTime<=j);j=t.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(u)&&r(u),x(j)}else r(u);h=n(u)}if(h!==null)var ge=!0;else{var Ve=n(c);Ve!==null&&ce(k,Ve.startTime-j),ge=!1}return ge}finally{h=null,p=W,g=!1}}var M=!1,I=null,T=-1,R=5,A=-1;function N(){return!(t.unstable_now()-A<R)}function D(){if(I!==null){var F=t.unstable_now();A=F;var j=!0;try{j=I(!0,F)}finally{j?P():(M=!1,I=null)}}else M=!1}var P;if(typeof _=="function")P=function(){_(D)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,pe=J.port2;J.port1.onmessage=D,P=function(){pe.postMessage(null)}}else P=function(){C(D,0)};function Y(F){I=F,M||(M=!0,P())}function ce(F,j){T=C(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,Y(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var W=p;p=j;try{return F()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=p;p=F;try{return j()}finally{p=W}},t.unstable_scheduleCallback=function(F,j,W){var re=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,F){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,F={id:d++,callback:j,priorityLevel:F,startTime:W,expirationTime:ie,sortIndex:-1},W>re?(F.sortIndex=W,e(c,F),n(u)===null&&F===n(c)&&(E?(y(T),T=-1):E=!0,ce(k,W-re))):(F.sortIndex=ie,e(u,F),w||g||(w=!0,Y(O))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var j=p;return function(){var W=p;p=j;try{return F.apply(this,arguments)}finally{p=W}}}})(sx);ox.exports=sx;var gR=ox.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR=v,jt=gR;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ax=new Set,ha={};function $i(t,e){jo(t,e),jo(t+"Capture",e)}function jo(t,e){for(ha[t]=e,t=0;t<e.length;t++)ax.add(e[t])}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yh=Object.prototype.hasOwnProperty,vR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_y={},wy={};function _R(t){return yh.call(wy,t)?!0:yh.call(_y,t)?!1:vR.test(t)?wy[t]=!0:(_y[t]=!0,!1)}function wR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xR(t,e,n,r){if(e===null||typeof e>"u"||wR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var om=/[\-:]([a-z])/g;function sm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(om,sm);it[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(om,sm);it[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(om,sm);it[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function am(t,e,n,r){var i=it.hasOwnProperty(e)?it[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xR(e,n,i,r)&&(n=null),r||i===null?_R(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var dr=yR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ll=Symbol.for("react.element"),mo=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),lm=Symbol.for("react.strict_mode"),vh=Symbol.for("react.profiler"),lx=Symbol.for("react.provider"),ux=Symbol.for("react.context"),um=Symbol.for("react.forward_ref"),_h=Symbol.for("react.suspense"),wh=Symbol.for("react.suspense_list"),cm=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),cx=Symbol.for("react.offscreen"),xy=Symbol.iterator;function Ms(t){return t===null||typeof t!="object"?null:(t=xy&&t[xy]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,mf;function Bs(t){if(mf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mf=e&&e[1]||""}return`
`+mf+t}var gf=!1;function yf(t,e){if(!t||gf)return"";gf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{gf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bs(t):""}function ER(t){switch(t.tag){case 5:return Bs(t.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 2:case 15:return t=yf(t.type,!1),t;case 11:return t=yf(t.type.render,!1),t;case 1:return t=yf(t.type,!0),t;default:return""}}function xh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case go:return"Fragment";case mo:return"Portal";case vh:return"Profiler";case lm:return"StrictMode";case _h:return"Suspense";case wh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ux:return(t.displayName||"Context")+".Consumer";case lx:return(t._context.displayName||"Context")+".Provider";case um:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cm:return e=t.displayName||null,e!==null?e:xh(t.type)||"Memo";case Tr:e=t._payload,t=t._init;try{return xh(t(e))}catch{}}return null}function TR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xh(e);case 8:return e===lm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bR(t){var e=dx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vl(t){t._valueTracker||(t._valueTracker=bR(t))}function fx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Eh(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ey(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hx(t,e){e=e.checked,e!=null&&am(t,"checked",e,!1)}function Th(t,e){hx(t,e);var n=Gr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bh(t,e.type,n):e.hasOwnProperty("defaultValue")&&bh(t,e.type,Gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ty(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bh(t,e,n){(e!=="number"||Gu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ws=Array.isArray;function Co(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ih(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function by(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Ws(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gr(n)}}function px(t,e){var n=Gr(e.value),r=Gr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Iy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fl,gx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fl=Fl||document.createElement("div"),Fl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IR=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(t){IR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zs[e]=Zs[t]})});function yx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zs.hasOwnProperty(t)&&Zs[t]?(""+e).trim():e+"px"}function vx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var SR=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ch(t,e){if(e){if(SR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Rh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=null;function dm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ph=null,Ro=null,Ao=null;function Sy(t){if(t=Xa(t)){if(typeof Ph!="function")throw Error($(280));var e=t.stateNode;e&&(e=nd(e),Ph(t.stateNode,t.type,e))}}function _x(t){Ro?Ao?Ao.push(t):Ao=[t]:Ro=t}function wx(){if(Ro){var t=Ro,e=Ao;if(Ao=Ro=null,Sy(t),e)for(t=0;t<e.length;t++)Sy(e[t])}}function xx(t,e){return t(e)}function Ex(){}var vf=!1;function Tx(t,e,n){if(vf)return t(e,n);vf=!0;try{return xx(t,e,n)}finally{vf=!1,(Ro!==null||Ao!==null)&&(Ex(),wx())}}function ma(t,e){var n=t.stateNode;if(n===null)return null;var r=nd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var kh=!1;if(Zn)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){kh=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{kh=!1}function CR(t,e,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ea=!1,qu=null,Qu=!1,Nh=null,RR={onError:function(t){ea=!0,qu=t}};function AR(t,e,n,r,i,o,s,a,u){ea=!1,qu=null,CR.apply(RR,arguments)}function PR(t,e,n,r,i,o,s,a,u){if(AR.apply(this,arguments),ea){if(ea){var c=qu;ea=!1,qu=null}else throw Error($(198));Qu||(Qu=!0,Nh=c)}}function Bi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cy(t){if(Bi(t)!==t)throw Error($(188))}function kR(t){var e=t.alternate;if(!e){if(e=Bi(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Cy(i),t;if(o===r)return Cy(i),e;o=o.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function Ix(t){return t=kR(t),t!==null?Sx(t):null}function Sx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sx(t);if(e!==null)return e;t=t.sibling}return null}var Cx=jt.unstable_scheduleCallback,Ry=jt.unstable_cancelCallback,NR=jt.unstable_shouldYield,DR=jt.unstable_requestPaint,Le=jt.unstable_now,MR=jt.unstable_getCurrentPriorityLevel,fm=jt.unstable_ImmediatePriority,Rx=jt.unstable_UserBlockingPriority,Yu=jt.unstable_NormalPriority,OR=jt.unstable_LowPriority,Ax=jt.unstable_IdlePriority,Jc=null,In=null;function LR(t){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Jc,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:jR,VR=Math.log,FR=Math.LN2;function jR(t){return t>>>=0,t===0?32:31-(VR(t)/FR|0)|0}var jl=64,Ul=4194304;function Hs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Hs(a):(o&=s,o!==0&&(r=Hs(o)))}else s=n&~i,s!==0?r=Hs(s):o!==0&&(r=Hs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dn(e),i=1<<n,r|=t[n],e&=~i;return r}function UR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-dn(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=UR(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function Dh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Px(){var t=jl;return jl<<=1,!(jl&4194240)&&(jl=64),t}function _f(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=n}function $R(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function hm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function kx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nx,pm,Dx,Mx,Ox,Mh=!1,zl=[],Dr=null,Mr=null,Or=null,ga=new Map,ya=new Map,Ir=[],BR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ay(t,e){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":ga.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ya.delete(e.pointerId)}}function Ls(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Xa(e),e!==null&&pm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function WR(t,e,n,r,i){switch(e){case"focusin":return Dr=Ls(Dr,t,e,n,r,i),!0;case"dragenter":return Mr=Ls(Mr,t,e,n,r,i),!0;case"mouseover":return Or=Ls(Or,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ga.set(o,Ls(ga.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ya.set(o,Ls(ya.get(o)||null,t,e,n,r,i)),!0}return!1}function Lx(t){var e=Ei(t.target);if(e!==null){var n=Bi(e);if(n!==null){if(e=n.tag,e===13){if(e=bx(n),e!==null){t.blockedOn=e,Ox(t.priority,function(){Dx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ah=r,n.target.dispatchEvent(r),Ah=null}else return e=Xa(n),e!==null&&pm(e),t.blockedOn=n,!1;e.shift()}return!0}function Py(t,e,n){xu(t)&&n.delete(e)}function HR(){Mh=!1,Dr!==null&&xu(Dr)&&(Dr=null),Mr!==null&&xu(Mr)&&(Mr=null),Or!==null&&xu(Or)&&(Or=null),ga.forEach(Py),ya.forEach(Py)}function Vs(t,e){t.blockedOn===e&&(t.blockedOn=null,Mh||(Mh=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,HR)))}function va(t){function e(i){return Vs(i,t)}if(0<zl.length){Vs(zl[0],t);for(var n=1;n<zl.length;n++){var r=zl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dr!==null&&Vs(Dr,t),Mr!==null&&Vs(Mr,t),Or!==null&&Vs(Or,t),ga.forEach(e),ya.forEach(e),n=0;n<Ir.length;n++)r=Ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)Lx(n),n.blockedOn===null&&Ir.shift()}var Po=dr.ReactCurrentBatchConfig,Ju=!0;function KR(t,e,n,r){var i=ve,o=Po.transition;Po.transition=null;try{ve=1,mm(t,e,n,r)}finally{ve=i,Po.transition=o}}function GR(t,e,n,r){var i=ve,o=Po.transition;Po.transition=null;try{ve=4,mm(t,e,n,r)}finally{ve=i,Po.transition=o}}function mm(t,e,n,r){if(Ju){var i=Oh(t,e,n,r);if(i===null)Af(t,e,r,Zu,n),Ay(t,r);else if(WR(i,t,e,n,r))r.stopPropagation();else if(Ay(t,r),e&4&&-1<BR.indexOf(t)){for(;i!==null;){var o=Xa(i);if(o!==null&&Nx(o),o=Oh(t,e,n,r),o===null&&Af(t,e,r,Zu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Af(t,e,r,null,n)}}var Zu=null;function Oh(t,e,n,r){if(Zu=null,t=dm(r),t=Ei(t),t!==null)if(e=Bi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zu=t,null}function Vx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MR()){case fm:return 1;case Rx:return 4;case Yu:case OR:return 16;case Ax:return 536870912;default:return 16}default:return 16}}var Pr=null,gm=null,Eu=null;function Fx(){if(Eu)return Eu;var t,e=gm,n=e.length,r,i="value"in Pr?Pr.value:Pr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Eu=i.slice(t,1<r?1-r:void 0)}function Tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $l(){return!0}function ky(){return!1}function Bt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$l:ky,this.isPropagationStopped=ky,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),e}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ym=Bt(is),Ya=Pe({},is,{view:0,detail:0}),qR=Bt(Ya),wf,xf,Fs,Zc=Pe({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fs&&(Fs&&t.type==="mousemove"?(wf=t.screenX-Fs.screenX,xf=t.screenY-Fs.screenY):xf=wf=0,Fs=t),wf)},movementY:function(t){return"movementY"in t?t.movementY:xf}}),Ny=Bt(Zc),QR=Pe({},Zc,{dataTransfer:0}),YR=Bt(QR),XR=Pe({},Ya,{relatedTarget:0}),Ef=Bt(XR),JR=Pe({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),ZR=Bt(JR),eA=Pe({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tA=Bt(eA),nA=Pe({},is,{data:0}),Dy=Bt(nA),rA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oA[t])?!!e[t]:!1}function vm(){return sA}var aA=Pe({},Ya,{key:function(t){if(t.key){var e=rA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vm,charCode:function(t){return t.type==="keypress"?Tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lA=Bt(aA),uA=Pe({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),My=Bt(uA),cA=Pe({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vm}),dA=Bt(cA),fA=Pe({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),hA=Bt(fA),pA=Pe({},Zc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mA=Bt(pA),gA=[9,13,27,32],_m=Zn&&"CompositionEvent"in window,ta=null;Zn&&"documentMode"in document&&(ta=document.documentMode);var yA=Zn&&"TextEvent"in window&&!ta,jx=Zn&&(!_m||ta&&8<ta&&11>=ta),Oy=" ",Ly=!1;function Ux(t,e){switch(t){case"keyup":return gA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yo=!1;function vA(t,e){switch(t){case"compositionend":return zx(e);case"keypress":return e.which!==32?null:(Ly=!0,Oy);case"textInput":return t=e.data,t===Oy&&Ly?null:t;default:return null}}function _A(t,e){if(yo)return t==="compositionend"||!_m&&Ux(t,e)?(t=Fx(),Eu=gm=Pr=null,yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jx&&e.locale!=="ko"?null:e.data;default:return null}}var wA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wA[t.type]:e==="textarea"}function $x(t,e,n,r){_x(r),e=ec(e,"onChange"),0<e.length&&(n=new ym("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var na=null,_a=null;function xA(t){Zx(t,0)}function ed(t){var e=wo(t);if(fx(e))return t}function EA(t,e){if(t==="change")return e}var Bx=!1;if(Zn){var Tf;if(Zn){var bf="oninput"in document;if(!bf){var Fy=document.createElement("div");Fy.setAttribute("oninput","return;"),bf=typeof Fy.oninput=="function"}Tf=bf}else Tf=!1;Bx=Tf&&(!document.documentMode||9<document.documentMode)}function jy(){na&&(na.detachEvent("onpropertychange",Wx),_a=na=null)}function Wx(t){if(t.propertyName==="value"&&ed(_a)){var e=[];$x(e,_a,t,dm(t)),Tx(xA,e)}}function TA(t,e,n){t==="focusin"?(jy(),na=e,_a=n,na.attachEvent("onpropertychange",Wx)):t==="focusout"&&jy()}function bA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ed(_a)}function IA(t,e){if(t==="click")return ed(e)}function SA(t,e){if(t==="input"||t==="change")return ed(e)}function CA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pn=typeof Object.is=="function"?Object.is:CA;function wa(t,e){if(pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yh.call(e,i)||!pn(t[i],e[i]))return!1}return!0}function Uy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zy(t,e){var n=Uy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uy(n)}}function Hx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kx(){for(var t=window,e=Gu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gu(t.document)}return e}function wm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RA(t){var e=Kx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Hx(n.ownerDocument.documentElement,n)){if(r!==null&&wm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=zy(n,o);var s=zy(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AA=Zn&&"documentMode"in document&&11>=document.documentMode,vo=null,Lh=null,ra=null,Vh=!1;function $y(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vh||vo==null||vo!==Gu(r)||(r=vo,"selectionStart"in r&&wm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ra&&wa(ra,r)||(ra=r,r=ec(Lh,"onSelect"),0<r.length&&(e=new ym("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vo)))}function Bl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _o={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},If={},Gx={};Zn&&(Gx=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function td(t){if(If[t])return If[t];if(!_o[t])return t;var e=_o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gx)return If[t]=e[n];return t}var qx=td("animationend"),Qx=td("animationiteration"),Yx=td("animationstart"),Xx=td("transitionend"),Jx=new Map,By="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(t,e){Jx.set(t,e),$i(e,[t])}for(var Sf=0;Sf<By.length;Sf++){var Cf=By[Sf],PA=Cf.toLowerCase(),kA=Cf[0].toUpperCase()+Cf.slice(1);si(PA,"on"+kA)}si(qx,"onAnimationEnd");si(Qx,"onAnimationIteration");si(Yx,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(Xx,"onTransitionEnd");jo("onMouseEnter",["mouseout","mouseover"]);jo("onMouseLeave",["mouseout","mouseover"]);jo("onPointerEnter",["pointerout","pointerover"]);jo("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function Wy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PR(r,e,void 0,t),t.currentTarget=null}function Zx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Wy(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Wy(i,a,c),o=u}}}if(Qu)throw t=Nh,Qu=!1,Nh=null,t}function Ee(t,e){var n=e[$h];n===void 0&&(n=e[$h]=new Set);var r=t+"__bubble";n.has(r)||(e1(e,t,2,!1),n.add(r))}function Rf(t,e,n){var r=0;e&&(r|=4),e1(n,t,r,e)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function xa(t){if(!t[Wl]){t[Wl]=!0,ax.forEach(function(n){n!=="selectionchange"&&(NA.has(n)||Rf(n,!1,t),Rf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wl]||(e[Wl]=!0,Rf("selectionchange",!1,e))}}function e1(t,e,n,r){switch(Vx(e)){case 1:var i=KR;break;case 4:i=GR;break;default:i=mm}n=i.bind(null,e,n,t),i=void 0,!kh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Af(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ei(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Tx(function(){var c=o,d=dm(n),h=[];e:{var p=Jx.get(t);if(p!==void 0){var g=ym,w=t;switch(t){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":g=lA;break;case"focusin":w="focus",g=Ef;break;case"focusout":w="blur",g=Ef;break;case"beforeblur":case"afterblur":g=Ef;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=YR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=dA;break;case qx:case Qx:case Yx:g=ZR;break;case Xx:g=hA;break;case"scroll":g=qR;break;case"wheel":g=mA;break;case"copy":case"cut":case"paste":g=tA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=My}var E=(e&4)!==0,C=!E&&t==="scroll",y=E?p!==null?p+"Capture":null:p;E=[];for(var _=c,x;_!==null;){x=_;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,y!==null&&(k=ma(_,y),k!=null&&E.push(Ea(_,k,x)))),C)break;_=_.return}0<E.length&&(p=new g(p,w,null,n,d),h.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Ah&&(w=n.relatedTarget||n.fromElement)&&(Ei(w)||w[er]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?Ei(w):null,w!==null&&(C=Bi(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(E=Ny,k="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(E=My,k="onPointerLeave",y="onPointerEnter",_="pointer"),C=g==null?p:wo(g),x=w==null?p:wo(w),p=new E(k,_+"leave",g,n,d),p.target=C,p.relatedTarget=x,k=null,Ei(d)===c&&(E=new E(y,_+"enter",w,n,d),E.target=x,E.relatedTarget=C,k=E),C=k,g&&w)t:{for(E=g,y=w,_=0,x=E;x;x=ro(x))_++;for(x=0,k=y;k;k=ro(k))x++;for(;0<_-x;)E=ro(E),_--;for(;0<x-_;)y=ro(y),x--;for(;_--;){if(E===y||y!==null&&E===y.alternate)break t;E=ro(E),y=ro(y)}E=null}else E=null;g!==null&&Hy(h,p,g,E,!1),w!==null&&C!==null&&Hy(h,C,w,E,!0)}}e:{if(p=c?wo(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var O=EA;else if(Vy(p))if(Bx)O=SA;else{O=bA;var M=TA}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=IA);if(O&&(O=O(t,c))){$x(h,O,n,d);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&bh(p,"number",p.value)}switch(M=c?wo(c):window,t){case"focusin":(Vy(M)||M.contentEditable==="true")&&(vo=M,Lh=c,ra=null);break;case"focusout":ra=Lh=vo=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,$y(h,n,d);break;case"selectionchange":if(AA)break;case"keydown":case"keyup":$y(h,n,d)}var I;if(_m)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else yo?Ux(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(jx&&n.locale!=="ko"&&(yo||T!=="onCompositionStart"?T==="onCompositionEnd"&&yo&&(I=Fx()):(Pr=d,gm="value"in Pr?Pr.value:Pr.textContent,yo=!0)),M=ec(c,T),0<M.length&&(T=new Dy(T,t,null,n,d),h.push({event:T,listeners:M}),I?T.data=I:(I=zx(n),I!==null&&(T.data=I)))),(I=yA?vA(t,n):_A(t,n))&&(c=ec(c,"onBeforeInput"),0<c.length&&(d=new Dy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=I))}Zx(h,e)})}function Ea(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ec(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ma(t,n),o!=null&&r.unshift(Ea(t,o,i)),o=ma(t,e),o!=null&&r.push(Ea(t,o,i))),t=t.return}return r}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hy(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=ma(n,o),u!=null&&s.unshift(Ea(n,u,a))):i||(u=ma(n,o),u!=null&&s.push(Ea(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var DA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function Ky(t){return(typeof t=="string"?t:""+t).replace(DA,`
`).replace(MA,"")}function Hl(t,e,n){if(e=Ky(e),Ky(t)!==e&&n)throw Error($(425))}function tc(){}var Fh=null,jh=null;function Uh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zh=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,LA=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(t){return Gy.resolve(null).then(t).catch(VA)}:zh;function VA(t){setTimeout(function(){throw t})}function Pf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),va(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);va(e)}function Lr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var os=Math.random().toString(36).slice(2),Tn="__reactFiber$"+os,Ta="__reactProps$"+os,er="__reactContainer$"+os,$h="__reactEvents$"+os,FA="__reactListeners$"+os,jA="__reactHandles$"+os;function Ei(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[er]||n[Tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qy(t);t!==null;){if(n=t[Tn])return n;t=qy(t)}return e}t=n,n=t.parentNode}return null}function Xa(t){return t=t[Tn]||t[er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function nd(t){return t[Ta]||null}var Bh=[],xo=-1;function ai(t){return{current:t}}function be(t){0>xo||(t.current=Bh[xo],Bh[xo]=null,xo--)}function we(t,e){xo++,Bh[xo]=t.current,t.current=e}var qr={},mt=ai(qr),Rt=ai(!1),Pi=qr;function Uo(t,e){var n=t.type.contextTypes;if(!n)return qr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function At(t){return t=t.childContextTypes,t!=null}function nc(){be(Rt),be(mt)}function Qy(t,e,n){if(mt.current!==qr)throw Error($(168));we(mt,e),we(Rt,n)}function t1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,TR(t)||"Unknown",i));return Pe({},n,r)}function rc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qr,Pi=mt.current,we(mt,t),we(Rt,Rt.current),!0}function Yy(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=t1(t,e,Pi),r.__reactInternalMemoizedMergedChildContext=t,be(Rt),be(mt),we(mt,t)):be(Rt),we(Rt,n)}var zn=null,rd=!1,kf=!1;function n1(t){zn===null?zn=[t]:zn.push(t)}function UA(t){rd=!0,n1(t)}function li(){if(!kf&&zn!==null){kf=!0;var t=0,e=ve;try{var n=zn;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zn=null,rd=!1}catch(i){throw zn!==null&&(zn=zn.slice(t+1)),Cx(fm,li),i}finally{ve=e,kf=!1}}return null}var Eo=[],To=0,ic=null,oc=0,Wt=[],Ht=0,ki=null,Wn=1,Hn="";function vi(t,e){Eo[To++]=oc,Eo[To++]=ic,ic=t,oc=e}function r1(t,e,n){Wt[Ht++]=Wn,Wt[Ht++]=Hn,Wt[Ht++]=ki,ki=t;var r=Wn;t=Hn;var i=32-dn(r)-1;r&=~(1<<i),n+=1;var o=32-dn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Wn=1<<32-dn(e)+i|n<<i|r,Hn=o+t}else Wn=1<<o|n<<i|r,Hn=t}function xm(t){t.return!==null&&(vi(t,1),r1(t,1,0))}function Em(t){for(;t===ic;)ic=Eo[--To],Eo[To]=null,oc=Eo[--To],Eo[To]=null;for(;t===ki;)ki=Wt[--Ht],Wt[Ht]=null,Hn=Wt[--Ht],Wt[Ht]=null,Wn=Wt[--Ht],Wt[Ht]=null}var Vt=null,Lt=null,Se=!1,sn=null;function i1(t,e){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Lt=Lr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ki!==null?{id:Wn,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Lt=null,!0):!1;default:return!1}}function Wh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hh(t){if(Se){var e=Lt;if(e){var n=e;if(!Xy(t,e)){if(Wh(t))throw Error($(418));e=Lr(n.nextSibling);var r=Vt;e&&Xy(t,e)?i1(r,n):(t.flags=t.flags&-4097|2,Se=!1,Vt=t)}}else{if(Wh(t))throw Error($(418));t.flags=t.flags&-4097|2,Se=!1,Vt=t}}}function Jy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function Kl(t){if(t!==Vt)return!1;if(!Se)return Jy(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uh(t.type,t.memoizedProps)),e&&(e=Lt)){if(Wh(t))throw o1(),Error($(418));for(;e;)i1(t,e),e=Lr(e.nextSibling)}if(Jy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Lt=Lr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=Vt?Lr(t.stateNode.nextSibling):null;return!0}function o1(){for(var t=Lt;t;)t=Lr(t.nextSibling)}function zo(){Lt=Vt=null,Se=!1}function Tm(t){sn===null?sn=[t]:sn.push(t)}var zA=dr.ReactCurrentBatchConfig;function js(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Gl(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zy(t){var e=t._init;return e(t._payload)}function s1(t){function e(y,_){if(t){var x=y.deletions;x===null?(y.deletions=[_],y.flags|=16):x.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=Ur(y,_),y.index=0,y.sibling=null,y}function o(y,_,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<_?(y.flags|=2,_):x):(y.flags|=2,_)):(y.flags|=1048576,_)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,_,x,k){return _===null||_.tag!==6?(_=Ff(x,y.mode,k),_.return=y,_):(_=i(_,x),_.return=y,_)}function u(y,_,x,k){var O=x.type;return O===go?d(y,_,x.props.children,k,x.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Tr&&Zy(O)===_.type)?(k=i(_,x.props),k.ref=js(y,_,x),k.return=y,k):(k=Pu(x.type,x.key,x.props,null,y.mode,k),k.ref=js(y,_,x),k.return=y,k)}function c(y,_,x,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=jf(x,y.mode,k),_.return=y,_):(_=i(_,x.children||[]),_.return=y,_)}function d(y,_,x,k,O){return _===null||_.tag!==7?(_=Ri(x,y.mode,k,O),_.return=y,_):(_=i(_,x),_.return=y,_)}function h(y,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ff(""+_,y.mode,x),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ll:return x=Pu(_.type,_.key,_.props,null,y.mode,x),x.ref=js(y,null,_),x.return=y,x;case mo:return _=jf(_,y.mode,x),_.return=y,_;case Tr:var k=_._init;return h(y,k(_._payload),x)}if(Ws(_)||Ms(_))return _=Ri(_,y.mode,x,null),_.return=y,_;Gl(y,_)}return null}function p(y,_,x,k){var O=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(y,_,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ll:return x.key===O?u(y,_,x,k):null;case mo:return x.key===O?c(y,_,x,k):null;case Tr:return O=x._init,p(y,_,O(x._payload),k)}if(Ws(x)||Ms(x))return O!==null?null:d(y,_,x,k,null);Gl(y,x)}return null}function g(y,_,x,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(x)||null,a(_,y,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ll:return y=y.get(k.key===null?x:k.key)||null,u(_,y,k,O);case mo:return y=y.get(k.key===null?x:k.key)||null,c(_,y,k,O);case Tr:var M=k._init;return g(y,_,x,M(k._payload),O)}if(Ws(k)||Ms(k))return y=y.get(x)||null,d(_,y,k,O,null);Gl(_,k)}return null}function w(y,_,x,k){for(var O=null,M=null,I=_,T=_=0,R=null;I!==null&&T<x.length;T++){I.index>T?(R=I,I=null):R=I.sibling;var A=p(y,I,x[T],k);if(A===null){I===null&&(I=R);break}t&&I&&A.alternate===null&&e(y,I),_=o(A,_,T),M===null?O=A:M.sibling=A,M=A,I=R}if(T===x.length)return n(y,I),Se&&vi(y,T),O;if(I===null){for(;T<x.length;T++)I=h(y,x[T],k),I!==null&&(_=o(I,_,T),M===null?O=I:M.sibling=I,M=I);return Se&&vi(y,T),O}for(I=r(y,I);T<x.length;T++)R=g(I,y,T,x[T],k),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?T:R.key),_=o(R,_,T),M===null?O=R:M.sibling=R,M=R);return t&&I.forEach(function(N){return e(y,N)}),Se&&vi(y,T),O}function E(y,_,x,k){var O=Ms(x);if(typeof O!="function")throw Error($(150));if(x=O.call(x),x==null)throw Error($(151));for(var M=O=null,I=_,T=_=0,R=null,A=x.next();I!==null&&!A.done;T++,A=x.next()){I.index>T?(R=I,I=null):R=I.sibling;var N=p(y,I,A.value,k);if(N===null){I===null&&(I=R);break}t&&I&&N.alternate===null&&e(y,I),_=o(N,_,T),M===null?O=N:M.sibling=N,M=N,I=R}if(A.done)return n(y,I),Se&&vi(y,T),O;if(I===null){for(;!A.done;T++,A=x.next())A=h(y,A.value,k),A!==null&&(_=o(A,_,T),M===null?O=A:M.sibling=A,M=A);return Se&&vi(y,T),O}for(I=r(y,I);!A.done;T++,A=x.next())A=g(I,y,T,A.value,k),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?T:A.key),_=o(A,_,T),M===null?O=A:M.sibling=A,M=A);return t&&I.forEach(function(D){return e(y,D)}),Se&&vi(y,T),O}function C(y,_,x,k){if(typeof x=="object"&&x!==null&&x.type===go&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ll:e:{for(var O=x.key,M=_;M!==null;){if(M.key===O){if(O=x.type,O===go){if(M.tag===7){n(y,M.sibling),_=i(M,x.props.children),_.return=y,y=_;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Tr&&Zy(O)===M.type){n(y,M.sibling),_=i(M,x.props),_.ref=js(y,M,x),_.return=y,y=_;break e}n(y,M);break}else e(y,M);M=M.sibling}x.type===go?(_=Ri(x.props.children,y.mode,k,x.key),_.return=y,y=_):(k=Pu(x.type,x.key,x.props,null,y.mode,k),k.ref=js(y,_,x),k.return=y,y=k)}return s(y);case mo:e:{for(M=x.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(y,_.sibling),_=i(_,x.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=jf(x,y.mode,k),_.return=y,y=_}return s(y);case Tr:return M=x._init,C(y,_,M(x._payload),k)}if(Ws(x))return w(y,_,x,k);if(Ms(x))return E(y,_,x,k);Gl(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,x),_.return=y,y=_):(n(y,_),_=Ff(x,y.mode,k),_.return=y,y=_),s(y)):n(y,_)}return C}var $o=s1(!0),a1=s1(!1),sc=ai(null),ac=null,bo=null,bm=null;function Im(){bm=bo=ac=null}function Sm(t){var e=sc.current;be(sc),t._currentValue=e}function Kh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ko(t,e){ac=t,bm=bo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ct=!0),t.firstContext=null)}function Xt(t){var e=t._currentValue;if(bm!==t)if(t={context:t,memoizedValue:e,next:null},bo===null){if(ac===null)throw Error($(308));bo=t,ac.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var Ti=null;function Cm(t){Ti===null?Ti=[t]:Ti.push(t)}function l1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Cm(e)):(n.next=i.next,i.next=n),e.interleaved=n,tr(t,r)}function tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var br=!1;function Rm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,tr(t,n)}return i=r.interleaved,i===null?(e.next=e,Cm(r)):(e.next=i.next,i.next=e),r.interleaved=e,tr(t,n)}function bu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hm(t,n)}}function ev(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lc(t,e,n,r){var i=t.updateQueue;br=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;s=0,d=c=u=null,a=o;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,E=a;switch(p=e,g=n,E.tag){case 1:if(w=E.payload,typeof w=="function"){h=w.call(g,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=E.payload,p=typeof w=="function"?w.call(g,h,p):w,p==null)break e;h=Pe({},h,p);break e;case 2:br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,u=h):d=d.next=g,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Di|=s,t.lanes=s,t.memoizedState=h}}function tv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Ja={},Sn=ai(Ja),ba=ai(Ja),Ia=ai(Ja);function bi(t){if(t===Ja)throw Error($(174));return t}function Am(t,e){switch(we(Ia,e),we(ba,t),we(Sn,Ja),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sh(e,t)}be(Sn),we(Sn,e)}function Bo(){be(Sn),be(ba),be(Ia)}function c1(t){bi(Ia.current);var e=bi(Sn.current),n=Sh(e,t.type);e!==n&&(we(ba,t),we(Sn,n))}function Pm(t){ba.current===t&&(be(Sn),be(ba))}var Ce=ai(0);function uc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nf=[];function km(){for(var t=0;t<Nf.length;t++)Nf[t]._workInProgressVersionPrimary=null;Nf.length=0}var Iu=dr.ReactCurrentDispatcher,Df=dr.ReactCurrentBatchConfig,Ni=0,Re=null,$e=null,qe=null,cc=!1,ia=!1,Sa=0,$A=0;function ut(){throw Error($(321))}function Nm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pn(t[n],e[n]))return!1;return!0}function Dm(t,e,n,r,i,o){if(Ni=o,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Iu.current=t===null||t.memoizedState===null?KA:GA,t=n(r,i),ia){o=0;do{if(ia=!1,Sa=0,25<=o)throw Error($(301));o+=1,qe=$e=null,e.updateQueue=null,Iu.current=qA,t=n(r,i)}while(ia)}if(Iu.current=dc,e=$e!==null&&$e.next!==null,Ni=0,qe=$e=Re=null,cc=!1,e)throw Error($(300));return t}function Mm(){var t=Sa!==0;return Sa=0,t}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Re.memoizedState=qe=t:qe=qe.next=t,qe}function Jt(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=qe===null?Re.memoizedState:qe.next;if(e!==null)qe=e,$e=t;else{if(t===null)throw Error($(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},qe===null?Re.memoizedState=qe=t:qe=qe.next=t}return qe}function Ca(t,e){return typeof e=="function"?e(t):e}function Mf(t){var e=Jt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=$e,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var d=c.lane;if((Ni&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,s=r):u=u.next=h,Re.lanes|=d,Di|=d}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,pn(r,e.memoizedState)||(Ct=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Re.lanes|=o,Di|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Of(t){var e=Jt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);pn(o,e.memoizedState)||(Ct=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function d1(){}function f1(t,e){var n=Re,r=Jt(),i=e(),o=!pn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ct=!0),r=r.queue,Om(m1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,Ra(9,p1.bind(null,n,r,i,e),void 0,null),Qe===null)throw Error($(349));Ni&30||h1(n,e,i)}return i}function h1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function p1(t,e,n,r){e.value=n,e.getSnapshot=r,g1(e)&&y1(t)}function m1(t,e,n){return n(function(){g1(e)&&y1(t)})}function g1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pn(t,n)}catch{return!0}}function y1(t){var e=tr(t,1);e!==null&&fn(e,t,1,-1)}function nv(t){var e=xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=HA.bind(null,Re,t),[e.memoizedState,t]}function Ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function v1(){return Jt().memoizedState}function Su(t,e,n,r){var i=xn();Re.flags|=t,i.memoizedState=Ra(1|e,n,void 0,r===void 0?null:r)}function id(t,e,n,r){var i=Jt();r=r===void 0?null:r;var o=void 0;if($e!==null){var s=$e.memoizedState;if(o=s.destroy,r!==null&&Nm(r,s.deps)){i.memoizedState=Ra(e,n,o,r);return}}Re.flags|=t,i.memoizedState=Ra(1|e,n,o,r)}function rv(t,e){return Su(8390656,8,t,e)}function Om(t,e){return id(2048,8,t,e)}function _1(t,e){return id(4,2,t,e)}function w1(t,e){return id(4,4,t,e)}function x1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function E1(t,e,n){return n=n!=null?n.concat([t]):null,id(4,4,x1.bind(null,e,t),n)}function Lm(){}function T1(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function b1(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function I1(t,e,n){return Ni&21?(pn(n,e)||(n=Px(),Re.lanes|=n,Di|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=n)}function BA(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=Df.transition;Df.transition={};try{t(!1),e()}finally{ve=n,Df.transition=r}}function S1(){return Jt().memoizedState}function WA(t,e,n){var r=jr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},C1(t))R1(e,n);else if(n=l1(t,e,n,r),n!==null){var i=wt();fn(n,t,r,i),A1(n,e,r)}}function HA(t,e,n){var r=jr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(C1(t))R1(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,pn(a,s)){var u=e.interleaved;u===null?(i.next=i,Cm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=l1(t,e,i,r),n!==null&&(i=wt(),fn(n,t,r,i),A1(n,e,r))}}function C1(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function R1(t,e){ia=cc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function A1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hm(t,n)}}var dc={readContext:Xt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},KA={readContext:Xt,useCallback:function(t,e){return xn().memoizedState=[t,e===void 0?null:e],t},useContext:Xt,useEffect:rv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Su(4194308,4,x1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Su(4194308,4,t,e)},useInsertionEffect:function(t,e){return Su(4,2,t,e)},useMemo:function(t,e){var n=xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WA.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=xn();return t={current:t},e.memoizedState=t},useState:nv,useDebugValue:Lm,useDeferredValue:function(t){return xn().memoizedState=t},useTransition:function(){var t=nv(!1),e=t[0];return t=BA.bind(null,t[1]),xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,i=xn();if(Se){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Qe===null)throw Error($(349));Ni&30||h1(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,rv(m1.bind(null,r,o,t),[t]),r.flags|=2048,Ra(9,p1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=xn(),e=Qe.identifierPrefix;if(Se){var n=Hn,r=Wn;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$A++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GA={readContext:Xt,useCallback:T1,useContext:Xt,useEffect:Om,useImperativeHandle:E1,useInsertionEffect:_1,useLayoutEffect:w1,useMemo:b1,useReducer:Mf,useRef:v1,useState:function(){return Mf(Ca)},useDebugValue:Lm,useDeferredValue:function(t){var e=Jt();return I1(e,$e.memoizedState,t)},useTransition:function(){var t=Mf(Ca)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:d1,useSyncExternalStore:f1,useId:S1,unstable_isNewReconciler:!1},qA={readContext:Xt,useCallback:T1,useContext:Xt,useEffect:Om,useImperativeHandle:E1,useInsertionEffect:_1,useLayoutEffect:w1,useMemo:b1,useReducer:Of,useRef:v1,useState:function(){return Of(Ca)},useDebugValue:Lm,useDeferredValue:function(t){var e=Jt();return $e===null?e.memoizedState=t:I1(e,$e.memoizedState,t)},useTransition:function(){var t=Of(Ca)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:d1,useSyncExternalStore:f1,useId:S1,unstable_isNewReconciler:!1};function rn(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Gh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var od={isMounted:function(t){return(t=t._reactInternals)?Bi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wt(),i=jr(t),o=Qn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Vr(t,o,i),e!==null&&(fn(e,t,i,r),bu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wt(),i=jr(t),o=Qn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Vr(t,o,i),e!==null&&(fn(e,t,i,r),bu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wt(),r=jr(t),i=Qn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vr(t,i,r),e!==null&&(fn(e,t,r,n),bu(e,t,r))}};function iv(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!wa(n,r)||!wa(i,o):!0}function P1(t,e,n){var r=!1,i=qr,o=e.contextType;return typeof o=="object"&&o!==null?o=Xt(o):(i=At(e)?Pi:mt.current,r=e.contextTypes,o=(r=r!=null)?Uo(t,i):qr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=od,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ov(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&od.enqueueReplaceState(e,e.state,null)}function qh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Rm(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Xt(o):(o=At(e)?Pi:mt.current,i.context=Uo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Gh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&od.enqueueReplaceState(i,i.state,null),lc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wo(t,e){try{var n="",r=e;do n+=ER(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Lf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QA=typeof WeakMap=="function"?WeakMap:Map;function k1(t,e,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hc||(hc=!0,op=r),Qh(t,e)},n}function N1(t,e,n){n=Qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Qh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Qh(t,e),typeof r!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function sv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=u2.bind(null,t,e,n),e.then(t,t))}function av(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qn(-1,1),e.tag=2,Vr(n,e,1))),n.lanes|=1),t)}var YA=dr.ReactCurrentOwner,Ct=!1;function _t(t,e,n,r){e.child=t===null?a1(e,null,n,r):$o(e,t.child,n,r)}function uv(t,e,n,r,i){n=n.render;var o=e.ref;return ko(e,i),r=Dm(t,e,n,r,o,i),n=Mm(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nr(t,e,i)):(Se&&n&&xm(e),e.flags|=1,_t(t,e,r,i),e.child)}function cv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Wm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,D1(t,e,o,r,i)):(t=Pu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:wa,n(s,r)&&t.ref===e.ref)return nr(t,e,i)}return e.flags|=1,t=Ur(o,r),t.ref=e.ref,t.return=e,e.child=t}function D1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(wa(o,r)&&t.ref===e.ref)if(Ct=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ct=!0);else return e.lanes=t.lanes,nr(t,e,i)}return Yh(t,e,n,r,i)}function M1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(So,Mt),Mt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(So,Mt),Mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,we(So,Mt),Mt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,we(So,Mt),Mt|=r;return _t(t,e,i,n),e.child}function O1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yh(t,e,n,r,i){var o=At(n)?Pi:mt.current;return o=Uo(e,o),ko(e,i),n=Dm(t,e,n,r,o,i),r=Mm(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nr(t,e,i)):(Se&&r&&xm(e),e.flags|=1,_t(t,e,n,i),e.child)}function dv(t,e,n,r,i){if(At(n)){var o=!0;rc(e)}else o=!1;if(ko(e,i),e.stateNode===null)Cu(t,e),P1(e,n,r),qh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xt(c):(c=At(n)?Pi:mt.current,c=Uo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&ov(e,s,r,c),br=!1;var p=e.memoizedState;s.state=p,lc(e,r,s,i),u=e.memoizedState,a!==r||p!==u||Rt.current||br?(typeof d=="function"&&(Gh(e,n,d,r),u=e.memoizedState),(a=br||iv(e,n,a,r,p,u,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,u1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rn(e.type,a),s.props=c,h=e.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Xt(u):(u=At(n)?Pi:mt.current,u=Uo(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==u)&&ov(e,s,r,u),br=!1,p=e.memoizedState,s.state=p,lc(e,r,s,i);var w=e.memoizedState;a!==h||p!==w||Rt.current||br?(typeof g=="function"&&(Gh(e,n,g,r),w=e.memoizedState),(c=br||iv(e,n,c,r,p,w,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Xh(t,e,n,r,o,i)}function Xh(t,e,n,r,i,o){O1(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Yy(e,n,!1),nr(t,e,o);r=e.stateNode,YA.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=$o(e,t.child,null,o),e.child=$o(e,null,a,o)):_t(t,e,a,o),e.memoizedState=r.state,i&&Yy(e,n,!0),e.child}function L1(t){var e=t.stateNode;e.pendingContext?Qy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qy(t,e.context,!1),Am(t,e.containerInfo)}function fv(t,e,n,r,i){return zo(),Tm(i),e.flags|=256,_t(t,e,n,r),e.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function Zh(t){return{baseLanes:t,cachePool:null,transitions:null}}function V1(t,e,n){var r=e.pendingProps,i=Ce.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we(Ce,i&1),t===null)return Hh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ld(s,r,0,null),t=Ri(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Zh(n),e.memoizedState=Jh,t):Vm(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return XA(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ur(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ur(a,o):(o=Ri(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Zh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Jh,r}return o=t.child,t=o.sibling,r=Ur(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vm(t,e){return e=ld({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ql(t,e,n,r){return r!==null&&Tm(r),$o(e,t.child,null,n),t=Vm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XA(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Lf(Error($(422))),ql(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=ld({mode:"visible",children:r.children},i,0,null),o=Ri(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&$o(e,t.child,null,s),e.child.memoizedState=Zh(s),e.memoizedState=Jh,o);if(!(e.mode&1))return ql(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error($(419)),r=Lf(o,r,void 0),ql(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ct||a){if(r=Qe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,tr(t,i),fn(r,t,i,-1))}return Bm(),r=Lf(Error($(421))),ql(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=c2.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Lt=Lr(i.nextSibling),Vt=e,Se=!0,sn=null,t!==null&&(Wt[Ht++]=Wn,Wt[Ht++]=Hn,Wt[Ht++]=ki,Wn=t.id,Hn=t.overflow,ki=e),e=Vm(e,r.children),e.flags|=4096,e)}function hv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kh(t.return,e,n)}function Vf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function F1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(_t(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hv(t,n,e);else if(t.tag===19)hv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&uc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vf(e,!0,n,null,o);break;case"together":Vf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Di|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Ur(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ur(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JA(t,e,n){switch(e.tag){case 3:L1(e),zo();break;case 5:c1(e);break;case 1:At(e.type)&&rc(e);break;case 4:Am(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;we(sc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?V1(t,e,n):(we(Ce,Ce.current&1),t=nr(t,e,n),t!==null?t.sibling:null);we(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return F1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,M1(t,e,n)}return nr(t,e,n)}var j1,ep,U1,z1;j1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ep=function(){};U1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bi(Sn.current);var o=null;switch(n){case"input":i=Eh(t,i),r=Eh(t,r),o=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),o=[];break;case"textarea":i=Ih(t,i),r=Ih(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tc)}Ch(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ha.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ha.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ee("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};z1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Us(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ZA(t,e,n){var r=e.pendingProps;switch(Em(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return At(e.type)&&nc(),ct(e),null;case 3:return r=e.stateNode,Bo(),be(Rt),be(mt),km(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Kl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sn!==null&&(lp(sn),sn=null))),ep(t,e),ct(e),null;case 5:Pm(e);var i=bi(Ia.current);if(n=e.type,t!==null&&e.stateNode!=null)U1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return ct(e),null}if(t=bi(Sn.current),Kl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Tn]=e,r[Ta]=o,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<Ks.length;i++)Ee(Ks[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Ey(r,o),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ee("invalid",r);break;case"textarea":by(r,o),Ee("invalid",r)}Ch(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Hl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Hl(r.textContent,a,t),i=["children",""+a]):ha.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Vl(r),Ty(r,o,!0);break;case"textarea":Vl(r),Iy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=tc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Tn]=e,t[Ta]=r,j1(t,e,!1,!1),e.stateNode=t;e:{switch(s=Rh(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),i=r;break;case"iframe":case"object":case"embed":Ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ks.length;i++)Ee(Ks[i],t);i=r;break;case"source":Ee("error",t),i=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),i=r;break;case"details":Ee("toggle",t),i=r;break;case"input":Ey(t,r),i=Eh(t,r),Ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":by(t,r),i=Ih(t,r),Ee("invalid",t);break;default:i=r}Ch(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?vx(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gx(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&pa(t,u):typeof u=="number"&&pa(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ha.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ee("scroll",t):u!=null&&am(t,o,u,s))}switch(n){case"input":Vl(t),Ty(t,r,!1);break;case"textarea":Vl(t),Iy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Co(t,!!r.multiple,o,!1):r.defaultValue!=null&&Co(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ct(e),null;case 6:if(t&&e.stateNode!=null)z1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=bi(Ia.current),bi(Sn.current),Kl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tn]=e,(o=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Hl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=e,e.stateNode=r}return ct(e),null;case 13:if(be(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&Lt!==null&&e.mode&1&&!(e.flags&128))o1(),zo(),e.flags|=98560,o=!1;else if(o=Kl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error($(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($(317));o[Tn]=e}else zo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),o=!1}else sn!==null&&(lp(sn),sn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Be===0&&(Be=3):Bm())),e.updateQueue!==null&&(e.flags|=4),ct(e),null);case 4:return Bo(),ep(t,e),t===null&&xa(e.stateNode.containerInfo),ct(e),null;case 10:return Sm(e.type._context),ct(e),null;case 17:return At(e.type)&&nc(),ct(e),null;case 19:if(be(Ce),o=e.memoizedState,o===null)return ct(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Us(o,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=uc(t),s!==null){for(e.flags|=128,Us(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Ce,Ce.current&1|2),e.child}t=t.sibling}o.tail!==null&&Le()>Ho&&(e.flags|=128,r=!0,Us(o,!1),e.lanes=4194304)}else{if(!r)if(t=uc(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Us(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Se)return ct(e),null}else 2*Le()-o.renderingStartTime>Ho&&n!==1073741824&&(e.flags|=128,r=!0,Us(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Le(),e.sibling=null,n=Ce.current,we(Ce,r?n&1|2:n&1),e):(ct(e),null);case 22:case 23:return $m(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mt&1073741824&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function e2(t,e){switch(Em(e),e.tag){case 1:return At(e.type)&&nc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bo(),be(Rt),be(mt),km(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pm(e),null;case 13:if(be(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));zo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Ce),null;case 4:return Bo(),null;case 10:return Sm(e.type._context),null;case 22:case 23:return $m(),null;case 24:return null;default:return null}}var Ql=!1,ht=!1,t2=typeof WeakSet=="function"?WeakSet:Set,K=null;function Io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(t,e,r)}else n.current=null}function tp(t,e,n){try{n()}catch(r){De(t,e,r)}}var pv=!1;function n2(t,e){if(Fh=Ju,t=Kx(),wm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(u=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=s),p===o&&++d===r&&(u=s),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(jh={focusedElem:t,selectionRange:n},Ju=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var E=w.memoizedProps,C=w.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?E:rn(e.type,E),C);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(k){De(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return w=pv,pv=!1,w}function oa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&tp(e,n,o)}i=i.next}while(i!==r)}}function sd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function np(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $1(t){var e=t.alternate;e!==null&&(t.alternate=null,$1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[Ta],delete e[$h],delete e[FA],delete e[jA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function B1(t){return t.tag===5||t.tag===3||t.tag===4}function mv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tc));else if(r!==4&&(t=t.child,t!==null))for(rp(t,e,n),t=t.sibling;t!==null;)rp(t,e,n),t=t.sibling}function ip(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ip(t,e,n),t=t.sibling;t!==null;)ip(t,e,n),t=t.sibling}var et=null,on=!1;function yr(t,e,n){for(n=n.child;n!==null;)W1(t,e,n),n=n.sibling}function W1(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Jc,n)}catch{}switch(n.tag){case 5:ht||Io(n,e);case 6:var r=et,i=on;et=null,yr(t,e,n),et=r,on=i,et!==null&&(on?(t=et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&(on?(t=et,n=n.stateNode,t.nodeType===8?Pf(t.parentNode,n):t.nodeType===1&&Pf(t,n),va(t)):Pf(et,n.stateNode));break;case 4:r=et,i=on,et=n.stateNode.containerInfo,on=!0,yr(t,e,n),et=r,on=i;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&tp(n,e,s),i=i.next}while(i!==r)}yr(t,e,n);break;case 1:if(!ht&&(Io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){De(n,e,a)}yr(t,e,n);break;case 21:yr(t,e,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,yr(t,e,n),ht=r):yr(t,e,n);break;default:yr(t,e,n)}}function gv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new t2),e.forEach(function(r){var i=d2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:et=a.stateNode,on=!1;break e;case 3:et=a.stateNode.containerInfo,on=!0;break e;case 4:et=a.stateNode.containerInfo,on=!0;break e}a=a.return}if(et===null)throw Error($(160));W1(o,s,i),et=null,on=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){De(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)H1(e,t),e=e.sibling}function H1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nn(e,t),wn(t),r&4){try{oa(3,t,t.return),sd(3,t)}catch(E){De(t,t.return,E)}try{oa(5,t,t.return)}catch(E){De(t,t.return,E)}}break;case 1:nn(e,t),wn(t),r&512&&n!==null&&Io(n,n.return);break;case 5:if(nn(e,t),wn(t),r&512&&n!==null&&Io(n,n.return),t.flags&32){var i=t.stateNode;try{pa(i,"")}catch(E){De(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&hx(i,o),Rh(a,s);var c=Rh(a,o);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];d==="style"?vx(i,h):d==="dangerouslySetInnerHTML"?gx(i,h):d==="children"?pa(i,h):am(i,d,h,c)}switch(a){case"input":Th(i,o);break;case"textarea":px(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Co(i,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?Co(i,!!o.multiple,o.defaultValue,!0):Co(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ta]=o}catch(E){De(t,t.return,E)}}break;case 6:if(nn(e,t),wn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){De(t,t.return,E)}}break;case 3:if(nn(e,t),wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{va(e.containerInfo)}catch(E){De(t,t.return,E)}break;case 4:nn(e,t),wn(t);break;case 13:nn(e,t),wn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Um=Le())),r&4&&gv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(c=ht)||d,nn(e,t),ht=c):nn(e,t),wn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(h=K=d;K!==null;){switch(p=K,g=p.child,p.tag){case 0:case 11:case 14:case 15:oa(4,p,p.return);break;case 1:Io(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(E){De(r,n,E)}}break;case 5:Io(p,p.return);break;case 22:if(p.memoizedState!==null){vv(h);continue}}g!==null?(g.return=p,K=g):vv(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,u=h.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=yx("display",s))}catch(E){De(t,t.return,E)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(E){De(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:nn(e,t),wn(t),r&4&&gv(t);break;case 21:break;default:nn(e,t),wn(t)}}function wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(B1(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pa(i,""),r.flags&=-33);var o=mv(t);ip(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=mv(t);rp(t,a,s);break;default:throw Error($(161))}}catch(u){De(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function r2(t,e,n){K=t,K1(t)}function K1(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ql;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||ht;a=Ql;var c=ht;if(Ql=s,(ht=u)&&!c)for(K=i;K!==null;)s=K,u=s.child,s.tag===22&&s.memoizedState!==null?_v(i):u!==null?(u.return=s,K=u):_v(i);for(;o!==null;)K=o,K1(o),o=o.sibling;K=i,Ql=a,ht=c}yv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,K=o):yv(t)}}function yv(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||sd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&tv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&va(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ht||e.flags&512&&np(e)}catch(p){De(e,e.return,p)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function vv(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function _v(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sd(4,e)}catch(u){De(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){De(e,i,u)}}var o=e.return;try{np(e)}catch(u){De(e,o,u)}break;case 5:var s=e.return;try{np(e)}catch(u){De(e,s,u)}}}catch(u){De(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var i2=Math.ceil,fc=dr.ReactCurrentDispatcher,Fm=dr.ReactCurrentOwner,qt=dr.ReactCurrentBatchConfig,he=0,Qe=null,je=null,rt=0,Mt=0,So=ai(0),Be=0,Aa=null,Di=0,ad=0,jm=0,sa=null,St=null,Um=0,Ho=1/0,Un=null,hc=!1,op=null,Fr=null,Yl=!1,kr=null,pc=0,aa=0,sp=null,Ru=-1,Au=0;function wt(){return he&6?Le():Ru!==-1?Ru:Ru=Le()}function jr(t){return t.mode&1?he&2&&rt!==0?rt&-rt:zA.transition!==null?(Au===0&&(Au=Px()),Au):(t=ve,t!==0||(t=window.event,t=t===void 0?16:Vx(t.type)),t):1}function fn(t,e,n,r){if(50<aa)throw aa=0,sp=null,Error($(185));Qa(t,n,r),(!(he&2)||t!==Qe)&&(t===Qe&&(!(he&2)&&(ad|=n),Be===4&&Sr(t,rt)),Pt(t,r),n===1&&he===0&&!(e.mode&1)&&(Ho=Le()+500,rd&&li()))}function Pt(t,e){var n=t.callbackNode;zR(t,e);var r=Xu(t,t===Qe?rt:0);if(r===0)n!==null&&Ry(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ry(n),e===1)t.tag===0?UA(wv.bind(null,t)):n1(wv.bind(null,t)),LA(function(){!(he&6)&&li()}),n=null;else{switch(kx(r)){case 1:n=fm;break;case 4:n=Rx;break;case 16:n=Yu;break;case 536870912:n=Ax;break;default:n=Yu}n=eE(n,G1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G1(t,e){if(Ru=-1,Au=0,he&6)throw Error($(327));var n=t.callbackNode;if(No()&&t.callbackNode!==n)return null;var r=Xu(t,t===Qe?rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mc(t,r);else{e=r;var i=he;he|=2;var o=Q1();(Qe!==t||rt!==e)&&(Un=null,Ho=Le()+500,Ci(t,e));do try{a2();break}catch(a){q1(t,a)}while(!0);Im(),fc.current=o,he=i,je!==null?e=0:(Qe=null,rt=0,e=Be)}if(e!==0){if(e===2&&(i=Dh(t),i!==0&&(r=i,e=ap(t,i))),e===1)throw n=Aa,Ci(t,0),Sr(t,r),Pt(t,Le()),n;if(e===6)Sr(t,r);else{if(i=t.current.alternate,!(r&30)&&!o2(i)&&(e=mc(t,r),e===2&&(o=Dh(t),o!==0&&(r=o,e=ap(t,o))),e===1))throw n=Aa,Ci(t,0),Sr(t,r),Pt(t,Le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:_i(t,St,Un);break;case 3:if(Sr(t,r),(r&130023424)===r&&(e=Um+500-Le(),10<e)){if(Xu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zh(_i.bind(null,t,St,Un),e);break}_i(t,St,Un);break;case 4:if(Sr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-dn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i2(r/1960))-r,10<r){t.timeoutHandle=zh(_i.bind(null,t,St,Un),r);break}_i(t,St,Un);break;case 5:_i(t,St,Un);break;default:throw Error($(329))}}}return Pt(t,Le()),t.callbackNode===n?G1.bind(null,t):null}function ap(t,e){var n=sa;return t.current.memoizedState.isDehydrated&&(Ci(t,e).flags|=256),t=mc(t,e),t!==2&&(e=St,St=n,e!==null&&lp(e)),t}function lp(t){St===null?St=t:St.push.apply(St,t)}function o2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!pn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sr(t,e){for(e&=~jm,e&=~ad,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dn(e),r=1<<n;t[n]=-1,e&=~r}}function wv(t){if(he&6)throw Error($(327));No();var e=Xu(t,0);if(!(e&1))return Pt(t,Le()),null;var n=mc(t,e);if(t.tag!==0&&n===2){var r=Dh(t);r!==0&&(e=r,n=ap(t,r))}if(n===1)throw n=Aa,Ci(t,0),Sr(t,e),Pt(t,Le()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_i(t,St,Un),Pt(t,Le()),null}function zm(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Ho=Le()+500,rd&&li())}}function Mi(t){kr!==null&&kr.tag===0&&!(he&6)&&No();var e=he;he|=1;var n=qt.transition,r=ve;try{if(qt.transition=null,ve=1,t)return t()}finally{ve=r,qt.transition=n,he=e,!(he&6)&&li()}}function $m(){Mt=So.current,be(So)}function Ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OA(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Em(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nc();break;case 3:Bo(),be(Rt),be(mt),km();break;case 5:Pm(r);break;case 4:Bo();break;case 13:be(Ce);break;case 19:be(Ce);break;case 10:Sm(r.type._context);break;case 22:case 23:$m()}n=n.return}if(Qe=t,je=t=Ur(t.current,null),rt=Mt=e,Be=0,Aa=null,jm=ad=Di=0,St=sa=null,Ti!==null){for(e=0;e<Ti.length;e++)if(n=Ti[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ti=null}return t}function q1(t,e){do{var n=je;try{if(Im(),Iu.current=dc,cc){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cc=!1}if(Ni=0,qe=$e=Re=null,ia=!1,Sa=0,Fm.current=null,n===null||n.return===null){Be=1,Aa=e,je=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=rt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=av(s);if(g!==null){g.flags&=-257,lv(g,s,a,o,e),g.mode&1&&sv(o,c,e),e=g,u=c;var w=e.updateQueue;if(w===null){var E=new Set;E.add(u),e.updateQueue=E}else w.add(u);break e}else{if(!(e&1)){sv(o,c,e),Bm();break e}u=Error($(426))}}else if(Se&&a.mode&1){var C=av(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),lv(C,s,a,o,e),Tm(Wo(u,a));break e}}o=u=Wo(u,a),Be!==4&&(Be=2),sa===null?sa=[o]:sa.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=k1(o,u,e);ev(o,y);break e;case 1:a=u;var _=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Fr===null||!Fr.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=N1(o,a,e);ev(o,k);break e}}o=o.return}while(o!==null)}X1(n)}catch(O){e=O,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Q1(){var t=fc.current;return fc.current=dc,t===null?dc:t}function Bm(){(Be===0||Be===3||Be===2)&&(Be=4),Qe===null||!(Di&268435455)&&!(ad&268435455)||Sr(Qe,rt)}function mc(t,e){var n=he;he|=2;var r=Q1();(Qe!==t||rt!==e)&&(Un=null,Ci(t,e));do try{s2();break}catch(i){q1(t,i)}while(!0);if(Im(),he=n,fc.current=r,je!==null)throw Error($(261));return Qe=null,rt=0,Be}function s2(){for(;je!==null;)Y1(je)}function a2(){for(;je!==null&&!NR();)Y1(je)}function Y1(t){var e=Z1(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,e===null?X1(t):je=e,Fm.current=null}function X1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=e2(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,je=null;return}}else if(n=ZA(n,e,Mt),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);Be===0&&(Be=5)}function _i(t,e,n){var r=ve,i=qt.transition;try{qt.transition=null,ve=1,l2(t,e,n,r)}finally{qt.transition=i,ve=r}return null}function l2(t,e,n,r){do No();while(kr!==null);if(he&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if($R(t,o),t===Qe&&(je=Qe=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yl||(Yl=!0,eE(Yu,function(){return No(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=qt.transition,qt.transition=null;var s=ve;ve=1;var a=he;he|=4,Fm.current=null,n2(t,n),H1(n,t),RA(jh),Ju=!!Fh,jh=Fh=null,t.current=n,r2(n),DR(),he=a,ve=s,qt.transition=o}else t.current=n;if(Yl&&(Yl=!1,kr=t,pc=i),o=t.pendingLanes,o===0&&(Fr=null),LR(n.stateNode),Pt(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hc)throw hc=!1,t=op,op=null,t;return pc&1&&t.tag!==0&&No(),o=t.pendingLanes,o&1?t===sp?aa++:(aa=0,sp=t):aa=0,li(),null}function No(){if(kr!==null){var t=kx(pc),e=qt.transition,n=ve;try{if(qt.transition=null,ve=16>t?16:t,kr===null)var r=!1;else{if(t=kr,kr=null,pc=0,he&6)throw Error($(331));var i=he;for(he|=4,K=t.current;K!==null;){var o=K,s=o.child;if(K.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:oa(8,d,o)}var h=d.child;if(h!==null)h.return=d,K=h;else for(;K!==null;){d=K;var p=d.sibling,g=d.return;if($1(d),d===c){K=null;break}if(p!==null){p.return=g,K=p;break}K=g}}}var w=o.alternate;if(w!==null){var E=w.child;if(E!==null){w.child=null;do{var C=E.sibling;E.sibling=null,E=C}while(E!==null)}}K=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,K=s;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:oa(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,K=y;break e}K=o.return}}var _=t.current;for(K=_;K!==null;){s=K;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,K=x;else e:for(s=_;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sd(9,a)}}catch(O){De(a,a.return,O)}if(a===s){K=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,K=k;break e}K=a.return}}if(he=i,li(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Jc,t)}catch{}r=!0}return r}finally{ve=n,qt.transition=e}}return!1}function xv(t,e,n){e=Wo(n,e),e=k1(t,e,1),t=Vr(t,e,1),e=wt(),t!==null&&(Qa(t,1,e),Pt(t,e))}function De(t,e,n){if(t.tag===3)xv(t,t,n);else for(;e!==null;){if(e.tag===3){xv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fr===null||!Fr.has(r))){t=Wo(n,t),t=N1(e,t,1),e=Vr(e,t,1),t=wt(),e!==null&&(Qa(e,1,t),Pt(e,t));break}}e=e.return}}function u2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wt(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(rt&n)===n&&(Be===4||Be===3&&(rt&130023424)===rt&&500>Le()-Um?Ci(t,0):jm|=n),Pt(t,e)}function J1(t,e){e===0&&(t.mode&1?(e=Ul,Ul<<=1,!(Ul&130023424)&&(Ul=4194304)):e=1);var n=wt();t=tr(t,e),t!==null&&(Qa(t,e,n),Pt(t,n))}function c2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),J1(t,n)}function d2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),J1(t,n)}var Z1;Z1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rt.current)Ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ct=!1,JA(t,e,n);Ct=!!(t.flags&131072)}else Ct=!1,Se&&e.flags&1048576&&r1(e,oc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cu(t,e),t=e.pendingProps;var i=Uo(e,mt.current);ko(e,n),i=Dm(null,e,r,t,i,n);var o=Mm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(r)?(o=!0,rc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rm(e),i.updater=od,e.stateNode=i,i._reactInternals=e,qh(e,r,t,n),e=Xh(null,e,r,!0,o,n)):(e.tag=0,Se&&o&&xm(e),_t(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=h2(r),t=rn(r,t),i){case 0:e=Yh(null,e,r,t,n);break e;case 1:e=dv(null,e,r,t,n);break e;case 11:e=uv(null,e,r,t,n);break e;case 14:e=cv(null,e,r,rn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),Yh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),dv(t,e,r,i,n);case 3:e:{if(L1(e),t===null)throw Error($(387));r=e.pendingProps,o=e.memoizedState,i=o.element,u1(t,e),lc(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Wo(Error($(423)),e),e=fv(t,e,r,n,i);break e}else if(r!==i){i=Wo(Error($(424)),e),e=fv(t,e,r,n,i);break e}else for(Lt=Lr(e.stateNode.containerInfo.firstChild),Vt=e,Se=!0,sn=null,n=a1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zo(),r===i){e=nr(t,e,n);break e}_t(t,e,r,n)}e=e.child}return e;case 5:return c1(e),t===null&&Hh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Uh(r,i)?s=null:o!==null&&Uh(r,o)&&(e.flags|=32),O1(t,e),_t(t,e,s,n),e.child;case 6:return t===null&&Hh(e),null;case 13:return V1(t,e,n);case 4:return Am(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$o(e,null,r,n):_t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),uv(t,e,r,i,n);case 7:return _t(t,e,e.pendingProps,n),e.child;case 8:return _t(t,e,e.pendingProps.children,n),e.child;case 12:return _t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,we(sc,r._currentValue),r._currentValue=s,o!==null)if(pn(o.value,s)){if(o.children===i.children&&!Rt.current){e=nr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Qn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Kh(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error($(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Kh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}_t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ko(e,n),i=Xt(i),r=r(i),e.flags|=1,_t(t,e,r,n),e.child;case 14:return r=e.type,i=rn(r,e.pendingProps),i=rn(r.type,i),cv(t,e,r,i,n);case 15:return D1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),Cu(t,e),e.tag=1,At(r)?(t=!0,rc(e)):t=!1,ko(e,n),P1(e,r,i),qh(e,r,i,n),Xh(null,e,r,!0,t,n);case 19:return F1(t,e,n);case 22:return M1(t,e,n)}throw Error($(156,e.tag))};function eE(t,e){return Cx(t,e)}function f2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,e,n,r){return new f2(t,e,n,r)}function Wm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function h2(t){if(typeof t=="function")return Wm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===um)return 11;if(t===cm)return 14}return 2}function Ur(t,e){var n=t.alternate;return n===null?(n=Gt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Wm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case go:return Ri(n.children,i,o,e);case lm:s=8,i|=8;break;case vh:return t=Gt(12,n,e,i|2),t.elementType=vh,t.lanes=o,t;case _h:return t=Gt(13,n,e,i),t.elementType=_h,t.lanes=o,t;case wh:return t=Gt(19,n,e,i),t.elementType=wh,t.lanes=o,t;case cx:return ld(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lx:s=10;break e;case ux:s=9;break e;case um:s=11;break e;case cm:s=14;break e;case Tr:s=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Gt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ri(t,e,n,r){return t=Gt(7,t,r,e),t.lanes=n,t}function ld(t,e,n,r){return t=Gt(22,t,r,e),t.elementType=cx,t.lanes=n,t.stateNode={isHidden:!1},t}function Ff(t,e,n){return t=Gt(6,t,null,e),t.lanes=n,t}function jf(t,e,n){return e=Gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function p2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_f(0),this.expirationTimes=_f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hm(t,e,n,r,i,o,s,a,u){return t=new p2(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rm(o),t}function m2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tE(t){if(!t)return qr;t=t._reactInternals;e:{if(Bi(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(At(n))return t1(t,n,e)}return e}function nE(t,e,n,r,i,o,s,a,u){return t=Hm(n,r,!0,t,i,o,s,a,u),t.context=tE(null),n=t.current,r=wt(),i=jr(n),o=Qn(r,i),o.callback=e??null,Vr(n,o,i),t.current.lanes=i,Qa(t,i,r),Pt(t,r),t}function ud(t,e,n,r){var i=e.current,o=wt(),s=jr(i);return n=tE(n),e.context===null?e.context=n:e.pendingContext=n,e=Qn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vr(i,e,s),t!==null&&(fn(t,i,s,o),bu(t,i,s)),s}function gc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ev(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Km(t,e){Ev(t,e),(t=t.alternate)&&Ev(t,e)}function g2(){return null}var rE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gm(t){this._internalRoot=t}cd.prototype.render=Gm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));ud(t,e,null,null)};cd.prototype.unmount=Gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mi(function(){ud(null,t,null,null)}),e[er]=null}};function cd(t){this._internalRoot=t}cd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ir.length&&e!==0&&e<Ir[n].priority;n++);Ir.splice(n,0,t),n===0&&Lx(t)}};function qm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tv(){}function y2(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=gc(s);o.call(c)}}var s=nE(e,r,t,0,null,!1,!1,"",Tv);return t._reactRootContainer=s,t[er]=s.current,xa(t.nodeType===8?t.parentNode:t),Mi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=gc(u);a.call(c)}}var u=Hm(t,0,!1,null,null,!1,!1,"",Tv);return t._reactRootContainer=u,t[er]=u.current,xa(t.nodeType===8?t.parentNode:t),Mi(function(){ud(e,u,n,r)}),u}function fd(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=gc(s);a.call(u)}}ud(e,s,t,i)}else s=y2(n,e,t,i,r);return gc(s)}Nx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hs(e.pendingLanes);n!==0&&(hm(e,n|1),Pt(e,Le()),!(he&6)&&(Ho=Le()+500,li()))}break;case 13:Mi(function(){var r=tr(t,1);if(r!==null){var i=wt();fn(r,t,1,i)}}),Km(t,1)}};pm=function(t){if(t.tag===13){var e=tr(t,134217728);if(e!==null){var n=wt();fn(e,t,134217728,n)}Km(t,134217728)}};Dx=function(t){if(t.tag===13){var e=jr(t),n=tr(t,e);if(n!==null){var r=wt();fn(n,t,e,r)}Km(t,e)}};Mx=function(){return ve};Ox=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};Ph=function(t,e,n){switch(e){case"input":if(Th(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nd(r);if(!i)throw Error($(90));fx(r),Th(r,i)}}}break;case"textarea":px(t,n);break;case"select":e=n.value,e!=null&&Co(t,!!n.multiple,e,!1)}};xx=zm;Ex=Mi;var v2={usingClientEntryPoint:!1,Events:[Xa,wo,nd,_x,wx,zm]},zs={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_2={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ix(t),t===null?null:t.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||g2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{Jc=Xl.inject(_2),In=Xl}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v2;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qm(e))throw Error($(200));return m2(t,e,null,n)};$t.createRoot=function(t,e){if(!qm(t))throw Error($(299));var n=!1,r="",i=rE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hm(t,1,!1,null,null,n,!1,r,i),t[er]=e.current,xa(t.nodeType===8?t.parentNode:t),new Gm(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=Ix(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return Mi(t)};$t.hydrate=function(t,e,n){if(!dd(e))throw Error($(200));return fd(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!qm(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=rE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=nE(e,null,t,1,n??null,i,!1,o,s),t[er]=e.current,xa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new cd(e)};$t.render=function(t,e,n){if(!dd(e))throw Error($(200));return fd(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!dd(t))throw Error($(40));return t._reactRootContainer?(Mi(function(){fd(null,null,t,!1,function(){t._reactRootContainer=null,t[er]=null})}),!0):!1};$t.unstable_batchedUpdates=zm;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dd(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return fd(t,e,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function iE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iE)}catch(t){console.error(t)}}iE(),ix.exports=$t;var hd=ix.exports;const w2=Kw(hd);var oE,bv=hd;oE=bv.createRoot,bv.hydrateRoot;var Qm={};Object.defineProperty(Qm,"__esModule",{value:!0});Qm.parse=C2;Qm.serialize=R2;const x2=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,E2=/^[\u0021-\u003A\u003C-\u007E]*$/,T2=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,b2=/^[\u0020-\u003A\u003D-\u007E]*$/,I2=Object.prototype.toString,S2=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function C2(t,e){const n=new S2,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||A2;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const a=t.indexOf(";",o),u=a===-1?r:a;if(s>u){o=t.lastIndexOf(";",s-1)+1;continue}const c=Iv(t,o,s),d=Sv(t,s,c),h=t.slice(c,d);if(n[h]===void 0){let p=Iv(t,s+1,u),g=Sv(t,u,p);const w=i(t.slice(p,g));n[h]=w}o=u+1}while(o<r);return n}function Iv(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Sv(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function R2(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!x2.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!E2.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!T2.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!b2.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!P2(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function A2(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function P2(t){return I2.call(t)==="[object Date]"}/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cv="popstate";function k2(t={}){function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return up("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Pa(i)}return D2(e,n,null,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N2(){return Math.random().toString(36).substring(2,10)}function Rv(t,e){return{usr:t.state,key:t.key,idx:e}}function up(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ss(e):e,state:n,key:e&&e.key||r||N2()}}function Pa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ss(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function D2(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",u=null,c=d();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function d(){return(s.state||{idx:null}).idx}function h(){a="POP";let C=d(),y=C==null?null:C-c;c=C,u&&u({action:a,location:E.location,delta:y})}function p(C,y){a="PUSH";let _=up(E.location,C,y);c=d()+1;let x=Rv(_,c),k=E.createHref(_);try{s.pushState(x,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(k)}o&&u&&u({action:a,location:E.location,delta:1})}function g(C,y){a="REPLACE";let _=up(E.location,C,y);c=d();let x=Rv(_,c),k=E.createHref(_);s.replaceState(x,"",k),o&&u&&u({action:a,location:E.location,delta:0})}function w(C){let y=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof C=="string"?C:Pa(C);return _=_.replace(/ $/,"%20"),Ae(y,`No window.location.(origin|href) available to create URL for href: ${_}`),new URL(_,y)}let E={get action(){return a},get location(){return t(i,s)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Cv,h),u=C,()=>{i.removeEventListener(Cv,h),u=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let y=w(C);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:g,go(C){return s.go(C)}};return E}function sE(t,e,n="/"){return M2(t,e,n,!1)}function M2(t,e,n,r){let i=typeof e=="string"?ss(e):e,o=Qr(i.pathname||"/",n);if(o==null)return null;let s=aE(t);O2(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=K2(o);a=W2(s[u],c,r)}return a}function aE(t,e=[],n=[],r=""){let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Ae(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=Yn([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(Ae(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),aE(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:$2(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of lE(o.path))i(o,s,u)}),e}function lE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=lE(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function O2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:B2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var L2=/^:[\w-]+$/,V2=3,F2=2,j2=1,U2=10,z2=-2,Av=t=>t==="*";function $2(t,e){let n=t.split("/"),r=n.length;return n.some(Av)&&(r+=z2),e&&(r+=F2),n.filter(i=>!Av(i)).reduce((i,o)=>i+(L2.test(o)?V2:o===""?j2:U2),r)}function B2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function W2(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=yc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=yc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Yn([o,h.pathname]),pathnameBase:Y2(Yn([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=Yn([o,h.pathnameBase]))}return s}function yc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=H2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},p)=>{if(d==="*"){let w=a[p]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const g=a[p];return h&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function H2(t,e=!1,n=!0){kn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function K2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function G2(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ss(t):t;return{pathname:n?n.startsWith("/")?n:q2(n,e):e,search:X2(r),hash:J2(i)}}function q2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Uf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uE(t){let e=Q2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function cE(t,e,n,r=!1){let i;typeof t=="string"?i=ss(t):(i={...t},Ae(!i.pathname||!i.pathname.includes("?"),Uf("?","pathname","search",i)),Ae(!i.pathname||!i.pathname.includes("#"),Uf("#","pathname","hash",i)),Ae(!i.search||!i.search.includes("#"),Uf("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let u=G2(i,a),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var Yn=t=>t.join("/").replace(/\/\/+/g,"/"),Y2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,J2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Z2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var dE=["POST","PUT","PATCH","DELETE"];new Set(dE);var eP=["GET",...dE];new Set(eP);var as=v.createContext(null);as.displayName="DataRouter";var pd=v.createContext(null);pd.displayName="DataRouterState";var fE=v.createContext({isTransitioning:!1});fE.displayName="ViewTransition";var tP=v.createContext(new Map);tP.displayName="Fetchers";var nP=v.createContext(null);nP.displayName="Await";var On=v.createContext(null);On.displayName="Navigation";var Za=v.createContext(null);Za.displayName="Location";var fr=v.createContext({outlet:null,matches:[],isDataRoute:!1});fr.displayName="Route";var Ym=v.createContext(null);Ym.displayName="RouteError";function rP(t,{relative:e}={}){Ae(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(On),{hash:i,pathname:o,search:s}=tl(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:Yn([n,o])),r.createHref({pathname:a,search:s,hash:i})}function el(){return v.useContext(Za)!=null}function Wi(){return Ae(el(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Za).location}var hE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pE(t){v.useContext(On).static||v.useLayoutEffect(t)}function Xm(){let{isDataRoute:t}=v.useContext(fr);return t?gP():iP()}function iP(){Ae(el(),"useNavigate() may be used only in the context of a <Router> component.");let t=v.useContext(as),{basename:e,navigator:n}=v.useContext(On),{matches:r}=v.useContext(fr),{pathname:i}=Wi(),o=JSON.stringify(uE(r)),s=v.useRef(!1);return pE(()=>{s.current=!0}),v.useCallback((u,c={})=>{if(kn(s.current,hE),!s.current)return;if(typeof u=="number"){n.go(u);return}let d=cE(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Yn([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,i,t])}v.createContext(null);function tl(t,{relative:e}={}){let{matches:n}=v.useContext(fr),{pathname:r}=Wi(),i=JSON.stringify(uE(n));return v.useMemo(()=>cE(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function oP(t,e){return mE(t,e)}function mE(t,e,n,r){var _;Ae(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=v.useContext(On),{matches:s}=v.useContext(fr),a=s[s.length-1],u=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let x=h&&h.path||"";gE(c,!h||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=Wi(),g;if(e){let x=typeof e=="string"?ss(e):e;Ae(d==="/"||((_=x.pathname)==null?void 0:_.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),g=x}else g=p;let w=g.pathname||"/",E=w;if(d!=="/"){let x=d.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(x.length).join("/")}let C=!o&&n&&n.matches&&n.matches.length>0?n.matches:sE(t,{pathname:E});kn(h||C!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),kn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=cP(C&&C.map(x=>Object.assign({},x,{params:Object.assign({},u,x.params),pathname:Yn([d,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Yn([d,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&y?v.createElement(Za.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},y):y}function sP(){let t=mP(),e=Z2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:o},"ErrorBoundary")," or"," ",v.createElement("code",{style:o},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:i},n):null,s)}var aP=v.createElement(sP,null),lP=class extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?v.createElement(fr.Provider,{value:this.props.routeContext},v.createElement(Ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uP({routeContext:t,match:e,children:n}){let r=v.useContext(as);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(fr.Provider,{value:t},n)}function cP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Ae(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let s=!1,a=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=u),c.route.id){let{loaderData:d,errors:h}=n,p=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||p){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((u,c,d)=>{let h,p=!1,g=null,w=null;n&&(h=o&&c.route.id?o[c.route.id]:void 0,g=c.route.errorElement||aP,s&&(a<0&&d===0?(gE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):a===d&&(p=!0,w=c.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,d+1)),C=()=>{let y;return h?y=g:p?y=w:c.route.Component?y=v.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=u,v.createElement(uP,{match:c,routeContext:{outlet:u,matches:E,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?v.createElement(lP,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}function Jm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dP(t){let e=v.useContext(as);return Ae(e,Jm(t)),e}function fP(t){let e=v.useContext(pd);return Ae(e,Jm(t)),e}function hP(t){let e=v.useContext(fr);return Ae(e,Jm(t)),e}function Zm(t){let e=hP(t),n=e.matches[e.matches.length-1];return Ae(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pP(){return Zm("useRouteId")}function mP(){var r;let t=v.useContext(Ym),e=fP("useRouteError"),n=Zm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function gP(){let{router:t}=dP("useNavigate"),e=Zm("useNavigate"),n=v.useRef(!1);return pE(()=>{n.current=!0}),v.useCallback(async(i,o={})=>{kn(n.current,hE),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var Pv={};function gE(t,e,n){!e&&!Pv[t]&&(Pv[t]=!0,kn(!1,n))}v.memo(yP);function yP({routes:t,future:e,state:n}){return mE(t,void 0,n,e)}function Gs(t){Ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ae(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=v.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=ss(n));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:p="default"}=n,g=v.useMemo(()=>{let w=Qr(u,s);return w==null?null:{location:{pathname:w,search:c,hash:d,state:h,key:p},navigationType:r}},[s,u,c,d,h,p,r]);return kn(g!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:v.createElement(On.Provider,{value:a},v.createElement(Za.Provider,{children:e,value:g}))}function _P({children:t,location:e}){return oP(cp(t),e)}function cp(t,e=[]){let n=[];return v.Children.forEach(t,(r,i)=>{if(!v.isValidElement(r))return;let o=[...e,i];if(r.type===v.Fragment){n.push.apply(n,cp(r.props.children,o));return}Ae(r.type===Gs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ae(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=cp(r.props.children,o)),n.push(s)}),n}var ku="get",Nu="application/x-www-form-urlencoded";function md(t){return t!=null&&typeof t.tagName=="string"}function wP(t){return md(t)&&t.tagName.toLowerCase()==="button"}function xP(t){return md(t)&&t.tagName.toLowerCase()==="form"}function EP(t){return md(t)&&t.tagName.toLowerCase()==="input"}function TP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bP(t,e){return t.button===0&&(!e||e==="_self")&&!TP(t)}var Jl=null;function IP(){if(Jl===null)try{new FormData(document.createElement("form"),0),Jl=!1}catch{Jl=!0}return Jl}var SP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zf(t){return t!=null&&!SP.has(t)?(kn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nu}"`),null):t}function CP(t,e){let n,r,i,o,s;if(xP(t)){let a=t.getAttribute("action");r=a?Qr(a,e):null,n=t.getAttribute("method")||ku,i=zf(t.getAttribute("enctype"))||Nu,o=new FormData(t)}else if(wP(t)||EP(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?Qr(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||ku,i=zf(t.getAttribute("formenctype"))||zf(a.getAttribute("enctype"))||Nu,o=new FormData(a,t),!IP()){let{name:c,type:d,value:h}=t;if(d==="image"){let p=c?`${c}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else c&&o.append(c,h)}}else{if(md(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ku,r=null,i=Nu,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function eg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function RP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PP(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await RP(o,n);return s.links?s.links():[]}return[]}));return MP(r.flat(1).filter(AP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function kv(t,e,n,r,i,o){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,c)=>s(u,c)||a(u,c)):o==="data"?e.filter((u,c)=>{var h;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(s(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function kP(t,e){return NP(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function NP(t){return[...new Set(t)]}function DP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function MP(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(DP(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function OP(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function LP(){let t=v.useContext(as);return eg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function VP(){let t=v.useContext(pd);return eg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var tg=v.createContext(void 0);tg.displayName="FrameworkContext";function yE(){let t=v.useContext(tg);return eg(t,"You must render this element inside a <HydratedRouter> element"),t}function FP(t,e){let n=v.useContext(tg),[r,i]=v.useState(!1),[o,s]=v.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,p=v.useRef(null);v.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let E=y=>{y.forEach(_=>{s(_.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[t]),v.useEffect(()=>{if(r){let E=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(E)}}},[r]);let g=()=>{i(!0)},w=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,p,{}]:[o,p,{onFocus:$s(a,g),onBlur:$s(u,w),onMouseEnter:$s(c,g),onMouseLeave:$s(d,w),onTouchStart:$s(h,g)}]:[!1,p,{}]}function $s(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function jP({page:t,...e}){let{router:n}=LP(),r=v.useMemo(()=>sE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?v.createElement(zP,{page:t,matches:r,...e}):null}function UP(t){let{manifest:e,routeModules:n}=yE(),[r,i]=v.useState([]);return v.useEffect(()=>{let o=!1;return PP(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function zP({page:t,matches:e,...n}){let r=Wi(),{manifest:i,routeModules:o}=yE(),{loaderData:s,matches:a}=VP(),u=v.useMemo(()=>kv(t,e,a,i,r,"data"),[t,e,a,i,r]),c=v.useMemo(()=>kv(t,e,a,i,r,"assets"),[t,e,a,i,r]),d=v.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,w=!1;if(e.forEach(C=>{var _;let y=i.routes[C.route.id];!y||!y.hasLoader||(!u.some(x=>x.route.id===C.route.id)&&C.route.id in s&&((_=o[C.route.id])!=null&&_.shouldRevalidate)||y.hasClientLoader?w=!0:g.add(C.route.id))}),g.size===0)return[];let E=OP(t);return w&&g.size>0&&E.searchParams.set("_routes",e.filter(C=>g.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[s,r,i,u,e,t,o]),h=v.useMemo(()=>kP(c,i),[c,i]),p=UP(c);return v.createElement(v.Fragment,null,d.map(g=>v.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),h.map(g=>v.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:w})=>v.createElement("link",{key:g,...w})))}function $P(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var vE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vE&&(window.__reactRouterVersion="7.1.5")}catch{}function BP({basename:t,children:e,window:n}){let r=v.useRef();r.current==null&&(r.current=k2({window:n,v5Compat:!0}));let i=r.current,[o,s]=v.useState({action:i.action,location:i.location}),a=v.useCallback(u=>{v.startTransition(()=>s(u))},[s]);return v.useLayoutEffect(()=>i.listen(a),[i,a]),v.createElement(vP,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var _E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$n=v.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:u,to:c,preventScrollReset:d,viewTransition:h,...p},g){let{basename:w}=v.useContext(On),E=typeof c=="string"&&_E.test(c),C,y=!1;if(typeof c=="string"&&E&&(C=c,vE))try{let R=new URL(window.location.href),A=c.startsWith("//")?new URL(R.protocol+c):new URL(c),N=Qr(A.pathname,w);A.origin===R.origin&&N!=null?c=N+A.search+A.hash:y=!0}catch{kn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=rP(c,{relative:i}),[x,k,O]=FP(r,p),M=GP(c,{replace:s,state:a,target:u,preventScrollReset:d,relative:i,viewTransition:h});function I(R){e&&e(R),R.defaultPrevented||M(R)}let T=v.createElement("a",{...p,...O,href:C||_,onClick:y||o?e:I,ref:$P(g,k),target:u,"data-discover":!E&&n==="render"?"true":void 0});return x&&!E?v.createElement(v.Fragment,null,T,v.createElement(jP,{page:_})):T});$n.displayName="Link";var WP=v.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:u,...c},d){let h=tl(s,{relative:c.relative}),p=Wi(),g=v.useContext(pd),{navigator:w,basename:E}=v.useContext(On),C=g!=null&&JP(h)&&a===!0,y=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,_=p.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(_=_.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&E&&(x=Qr(x,E)||x);const k=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let O=_===y||!i&&_.startsWith(y)&&_.charAt(k)==="/",M=x!=null&&(x===y||!i&&x.startsWith(y)&&x.charAt(y.length)==="/"),I={isActive:O,isPending:M,isTransitioning:C},T=O?e:void 0,R;typeof r=="function"?R=r(I):R=[r,O?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(I):o;return v.createElement($n,{...c,"aria-current":T,className:R,ref:d,style:A,to:s,viewTransition:a},typeof u=="function"?u(I):u)});WP.displayName="NavLink";var HP=v.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=ku,action:a,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:h,...p},g)=>{let w=YP(),E=XP(a,{relative:c}),C=s.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&_E.test(a),_=x=>{if(u&&u(x),x.defaultPrevented)return;x.preventDefault();let k=x.nativeEvent.submitter,O=(k==null?void 0:k.getAttribute("formmethod"))||s;w(k||x.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:o,relative:c,preventScrollReset:d,viewTransition:h})};return v.createElement("form",{ref:g,method:C,action:E,onSubmit:r?u:_,...p,"data-discover":!y&&t==="render"?"true":void 0})});HP.displayName="Form";function KP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wE(t){let e=v.useContext(as);return Ae(e,KP(t)),e}function GP(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=Xm(),u=Wi(),c=tl(t,{relative:o});return v.useCallback(d=>{if(bP(d,e)){d.preventDefault();let h=n!==void 0?n:Pa(u)===Pa(c);a(t,{replace:h,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[u,a,c,n,r,e,t,i,o,s])}var qP=0,QP=()=>`__${String(++qP)}__`;function YP(){let{router:t}=wE("useSubmit"),{basename:e}=v.useContext(On),n=pP();return v.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:u,body:c}=CP(r,e);if(i.navigate===!1){let d=i.fetcherKey||QP();await t.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function XP(t,{relative:e}={}){let{basename:n}=v.useContext(On),r=v.useContext(fr);Ae(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...tl(t||".",{relative:e})},s=Wi();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),u=a.getAll("index");if(u.some(d=>d==="")){a.delete("index"),u.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();o.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Yn([n,o.pathname])),Pa(o)}function JP(t,e={}){let n=v.useContext(fE);Ae(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wE("useViewTransitionState"),i=tl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Qr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Qr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yc(i.pathname,s)!=null||yc(i.pathname,o)!=null}new TextEncoder;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Nt=(t,e)=>{const n=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:u,...c},d)=>v.createElement("svg",{ref:d,...ZP,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${ek(t)}`,a].join(" "),...c},[...e.map(([h,p])=>v.createElement(h,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=Nt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=Nt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=Nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=Nt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=Nt("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=Nt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=Nt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=Nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=Nt("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=Nt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=Nt("Satellite",[["path",{d:"M13 7 9 3 5 7l4 4",key:"vyckw6"}],["path",{d:"m17 11 4 4-4 4-4-4",key:"rchckc"}],["path",{d:"m8 12 4 4 6-6-4-4Z",key:"1sshf7"}],["path",{d:"m16 8 3-3",key:"x428zp"}],["path",{d:"M9 21a6 6 0 0 0-6-6",key:"1iajcf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=Nt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=Nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),EE="/assets/zooveLogo-CGJ1DrSc.jpeg";var TE={exports:{}},bE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=v;function pk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mk=typeof Object.is=="function"?Object.is:pk,gk=nl.useSyncExternalStore,yk=nl.useRef,vk=nl.useEffect,_k=nl.useMemo,wk=nl.useDebugValue;bE.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=yk(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=_k(function(){function u(g){if(!c){if(c=!0,d=g,g=r(g),i!==void 0&&s.hasValue){var w=s.value;if(i(w,g))return h=w}return h=g}if(w=h,mk(d,g))return w;var E=r(g);return i!==void 0&&i(w,E)?(d=g,w):(d=g,h=E)}var c=!1,d,h,p=n===void 0?null:n;return[function(){return u(e())},p===null?void 0:function(){return u(p())}]},[e,n,r,i]);var a=gk(t,o[0],o[1]);return vk(function(){s.hasValue=!0,s.value=a},[a]),wk(a),a};TE.exports=bE;var xk=TE.exports;function Ek(t){t()}function Tk(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Ek(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Nv={notify(){},get:()=>[]};function bk(t,e){let n,r=Nv,i=0,o=!1;function s(E){d();const C=r.subscribe(E);let y=!1;return()=>{y||(y=!0,C(),h())}}function a(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function c(){return o}function d(){i++,n||(n=t.subscribe(u),r=Tk())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Nv)}function p(){o||(o=!0,d())}function g(){o&&(o=!1,h())}const w={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>r};return w}var Ik=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sk=Ik(),Ck=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Rk=Ck(),Ak=()=>Sk||Rk?v.useLayoutEffect:v.useEffect,Pk=Ak(),$f=Symbol.for("react-redux-context"),Bf=typeof globalThis<"u"?globalThis:{};function kk(){if(!v.createContext)return{};const t=Bf[$f]??(Bf[$f]=new Map);let e=t.get(v.createContext);return e||(e=v.createContext(null),t.set(v.createContext,e)),e}var Yr=kk();function Nk(t){const{children:e,context:n,serverState:r,store:i}=t,o=v.useMemo(()=>{const u=bk(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=v.useMemo(()=>i.getState(),[i]);Pk(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,s]);const a=n||Yr;return v.createElement(a.Provider,{value:o},e)}var Dk=Nk;function ng(t=Yr){return function(){return v.useContext(t)}}var IE=ng();function SE(t=Yr){const e=t===Yr?IE:ng(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var Mk=SE();function Ok(t=Yr){const e=t===Yr?Mk:SE(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var CE=Ok(),Lk=(t,e)=>t===e;function Vk(t=Yr){const e=t===Yr?IE:ng(t),n=(r,i={})=>{const{equalityFn:o=Lk}=typeof i=="function"?{equalityFn:i}:i,s=e(),{store:a,subscription:u,getServerState:c}=s;v.useRef(!0);const d=v.useCallback({[r.name](p){return r(p)}}[r.name],[r]),h=xk.useSyncExternalStoreWithSelector(u.addNestedSub,a.getState,c||a.getState,d,o);return v.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var RE=Vk();function ls(t,e=[]){let n=[];function r(o,s){const a=v.createContext(s),u=n.length;n=[...n,s];const c=h=>{var y;const{scope:p,children:g,...w}=h,E=((y=p==null?void 0:p[t])==null?void 0:y[u])||a,C=v.useMemo(()=>w,Object.values(w));return b.jsx(E.Provider,{value:C,children:g})};c.displayName=o+"Provider";function d(h,p){var E;const g=((E=p==null?void 0:p[t])==null?void 0:E[u])||a,w=v.useContext(g);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,d]}const i=()=>{const o=n.map(s=>v.createContext(s));return function(a){const u=(a==null?void 0:a[t])||o;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[r,Fk(i,...e)]}function Fk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:u,scopeName:c})=>{const h=u(o)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Zt(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var rr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{};function Dv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function gd(...t){return e=>{let n=!1;const r=t.map(i=>{const o=Dv(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Dv(t[i],null)}}}}function kt(...t){return v.useCallback(gd(...t),t)}var ka=v.forwardRef((t,e)=>{const{children:n,...r}=t,i=v.Children.toArray(n),o=i.find(Uk);if(o){const s=o.props.children,a=i.map(u=>u===o?v.Children.count(s)>1?v.Children.only(null):v.isValidElement(s)?s.props.children:null:u);return b.jsx(dp,{...r,ref:e,children:v.isValidElement(s)?v.cloneElement(s,void 0,a):null})}return b.jsx(dp,{...r,ref:e,children:n})});ka.displayName="Slot";var dp=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const i=$k(n),o=zk(r,n.props);return n.type!==v.Fragment&&(o.ref=e?gd(e,i):i),v.cloneElement(n,o)}return v.Children.count(n)>1?v.Children.only(null):null});dp.displayName="SlotClone";var jk=({children:t})=>b.jsx(b.Fragment,{children:t});function Uk(t){return v.isValidElement(t)&&t.type===jk}function zk(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function $k(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Bk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ye=Bk.reduce((t,e)=>{const n=v.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?ka:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(a,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function AE(t,e){t&&hd.flushSync(()=>t.dispatchEvent(e))}var rg="Avatar",[Wk,Z8]=ls(rg),[Hk,PE]=Wk(rg),kE=v.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,o]=v.useState("idle");return b.jsx(Hk,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:b.jsx(Ye.span,{...r,ref:e})})});kE.displayName=rg;var NE="AvatarImage",DE=v.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=t,s=PE(NE,n),a=Kk(r,o.referrerPolicy),u=Zt(c=>{i(c),s.onImageLoadingStatusChange(c)});return rr(()=>{a!=="idle"&&u(a)},[a,u]),a==="loaded"?b.jsx(Ye.img,{...o,ref:e,src:r}):null});DE.displayName=NE;var ME="AvatarFallback",OE=v.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,o=PE(ME,n),[s,a]=v.useState(r===void 0);return v.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(u)}},[r]),s&&o.imageLoadingStatus!=="loaded"?b.jsx(Ye.span,{...i,ref:e}):null});OE.displayName=ME;function Kk(t,e){const[n,r]=v.useState("idle");return rr(()=>{if(!t){r("error");return}let i=!0;const o=new window.Image,s=a=>()=>{i&&r(a)};return r("loading"),o.onload=s("loaded"),o.onerror=s("error"),o.src=t,e&&(o.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var LE=kE,VE=DE,FE=OE;function jE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=jE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Gk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=jE(t))&&(r&&(r+=" "),r+=e);return r}const ig="-",qk=t=>{const e=Yk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(ig);return a[0]===""&&a.length!==1&&a.shift(),UE(a,e)||Qk(s)},getConflictingClassGroupIds:(s,a)=>{const u=n[s]||[];return a&&r[s]?[...u,...r[s]]:u}}},UE=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?UE(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(ig);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},Mv=/^\[(.+)\]$/,Qk=t=>{if(Mv.test(t)){const e=Mv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Yk=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)fp(n[i],r,i,e);return r},fp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:Ov(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(Xk(i)){fp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{fp(s,Ov(e,o),n,r)})})},Ov=(t,e)=>{let n=t;return e.split(ig).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Xk=t=>t.isThemeGetter,Jk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},hp="!",pp=":",Zk=pp.length,eN=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let s=0,a=0,u=0,c;for(let w=0;w<i.length;w++){let E=i[w];if(s===0&&a===0){if(E===pp){o.push(i.slice(u,w)),u=w+Zk;continue}if(E==="/"){c=w;continue}}E==="["?s++:E==="]"?s--:E==="("?a++:E===")"&&a--}const d=o.length===0?i:i.substring(u),h=tN(d),p=h!==d,g=c&&c>u?c-u:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:g}};if(e){const i=e+pp,o=r;r=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},tN=t=>t.endsWith(hp)?t.substring(0,t.length-1):t.startsWith(hp)?t.substring(1):t,nN=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(s=>{s[0]==="["||e[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},rN=t=>({cache:Jk(t.cacheSize),parseClassName:eN(t),sortModifiers:nN(t),...qk(t)}),iN=/\s+/,oN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,s=[],a=t.trim().split(iN);let u="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{isExternal:h,modifiers:p,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:E}=n(d);if(h){u=d+(u.length>0?" "+u:u);continue}let C=!!E,y=r(C?w.substring(0,E):w);if(!y){if(!C){u=d+(u.length>0?" "+u:u);continue}if(y=r(w),!y){u=d+(u.length>0?" "+u:u);continue}C=!1}const _=o(p).join(":"),x=g?_+hp:_,k=x+y;if(s.includes(k))continue;s.push(k);const O=i(y,C);for(let M=0;M<O.length;++M){const I=O[M];s.push(x+I)}u=d+(u.length>0?" "+u:u)}return u};function sN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=zE(e))&&(r&&(r+=" "),r+=n);return r}const zE=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=zE(t[r]))&&(n&&(n+=" "),n+=e);return n};function aN(t,...e){let n,r,i,o=s;function s(u){const c=e.reduce((d,h)=>h(d),t());return n=rN(c),r=n.cache.get,i=n.cache.set,o=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=oN(u,n);return i(u,d),d}return function(){return o(sN.apply(null,arguments))}}const Ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},$E=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,BE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lN=/^\d+\/\d+$/,uN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,io=t=>lN.test(t),se=t=>!!t&&!Number.isNaN(Number(t)),gi=t=>!!t&&Number.isInteger(Number(t)),Lv=t=>t.endsWith("%")&&se(t.slice(0,-1)),vr=t=>uN.test(t),pN=()=>!0,mN=t=>cN.test(t)&&!dN.test(t),og=()=>!1,gN=t=>fN.test(t),yN=t=>hN.test(t),vN=t=>!G(t)&&!q(t),_N=t=>us(t,KE,og),G=t=>$E.test(t),yi=t=>us(t,GE,mN),Wf=t=>us(t,PN,se),wN=t=>us(t,WE,og),xN=t=>us(t,HE,yN),EN=t=>us(t,og,gN),q=t=>BE.test(t),Zl=t=>cs(t,GE),TN=t=>cs(t,kN),bN=t=>cs(t,WE),IN=t=>cs(t,KE),SN=t=>cs(t,HE),CN=t=>cs(t,NN,!0),us=(t,e,n)=>{const r=$E.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},cs=(t,e,n=!1)=>{const r=BE.exec(t);return r?r[1]?e(r[1]):n:!1},WE=t=>t==="position",RN=new Set(["image","url"]),HE=t=>RN.has(t),AN=new Set(["length","size","percentage"]),KE=t=>AN.has(t),GE=t=>t==="length",PN=t=>t==="number",kN=t=>t==="family-name",NN=t=>t==="shadow",DN=()=>{const t=Ke("color"),e=Ke("font"),n=Ke("text"),r=Ke("font-weight"),i=Ke("tracking"),o=Ke("leading"),s=Ke("breakpoint"),a=Ke("container"),u=Ke("spacing"),c=Ke("radius"),d=Ke("shadow"),h=Ke("inset-shadow"),p=Ke("drop-shadow"),g=Ke("blur"),w=Ke("perspective"),E=Ke("aspect"),C=Ke("ease"),y=Ke("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],k=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],M=()=>[q,G,u],I=()=>[io,"full","auto",...M()],T=()=>[gi,"none","subgrid",q,G],R=()=>["auto",{span:["full",gi,q,G]},q,G],A=()=>[gi,"auto",q,G],N=()=>["auto","min","max","fr",q,G],D=()=>["start","end","center","between","around","evenly","stretch","baseline"],P=()=>["start","end","center","stretch"],J=()=>["auto",...M()],pe=()=>[io,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],Y=()=>[t,q,G],ce=()=>[Lv,yi],F=()=>["","none","full",c,q,G],j=()=>["",se,Zl,yi],W=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["","none",g,q,G],ge=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",q,G],Ve=()=>["none",se,q,G],ze=()=>["none",se,q,G],Me=()=>[se,q,G],Ie=()=>[io,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vr],breakpoint:[vr],color:[pN],container:[vr],"drop-shadow":[vr],ease:["in","out","in-out"],font:[vN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vr],shadow:[vr],spacing:["px",se],text:[vr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",io,G,q,E]}],container:["container"],columns:[{columns:[se,G,q,a]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...x(),G,q]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[gi,"auto",q,G]}],basis:[{basis:[io,"full","auto",a,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[se,io,"auto","initial","none",G]}],grow:[{grow:["",se,q,G]}],shrink:[{shrink:["",se,q,G]}],order:[{order:[gi,"first","last","none",q,G]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...P(),"normal"]}],"justify-self":[{"justify-self":["auto",...P()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...P(),"baseline"]}],"align-self":[{self:["auto",...P(),"baseline"]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...P(),"baseline"]}],"place-self":[{"place-self":["auto",...P()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:J()}],mx:[{mx:J()}],my:[{my:J()}],ms:[{ms:J()}],me:[{me:J()}],mt:[{mt:J()}],mr:[{mr:J()}],mb:[{mb:J()}],ml:[{ml:J()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],w:[{w:[a,"screen",...pe()]}],"min-w":[{"min-w":[a,"screen","none",...pe()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...pe()]}],h:[{h:["screen",...pe()]}],"min-h":[{"min-h":["screen","none",...pe()]}],"max-h":[{"max-h":["screen",...pe()]}],"font-size":[{text:["base",n,Zl,yi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,q,Wf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Lv,G]}],"font-family":[{font:[TN,G,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,q,G]}],"line-clamp":[{"line-clamp":[se,"none",q,Wf]}],leading:[{leading:[o,...M()]}],"list-image":[{"list-image":["none",q,G]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",q,G]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:[se,"from-font","auto",q,yi]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[se,"auto",q,G]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q,G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q,G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...x(),bN,wN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",IN,_N]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},gi,q,G],radial:["",q,G],conic:[gi,q,G]},SN,xN]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:ce()}],"gradient-via-pos":[{via:ce()}],"gradient-to-pos":[{to:ce()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:j()}],"border-w-x":[{"border-x":j()}],"border-w-y":[{"border-y":j()}],"border-w-s":[{"border-s":j()}],"border-w-e":[{"border-e":j()}],"border-w-t":[{"border-t":j()}],"border-w-r":[{"border-r":j()}],"border-w-b":[{"border-b":j()}],"border-w-l":[{"border-l":j()}],"divide-x":[{"divide-x":j()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":j()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...W(),"hidden","none"]}],"divide-style":[{divide:[...W(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...W(),"none","hidden"]}],"outline-offset":[{"outline-offset":[se,q,G]}],"outline-w":[{outline:["",se,Zl,yi]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",d,CN,EN]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",q,G,h]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[se,yi]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":j()}],"inset-ring-color":[{"inset-ring":Y()}],opacity:[{opacity:[se,q,G]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none",q,G]}],blur:[{blur:ie()}],brightness:[{brightness:[se,q,G]}],contrast:[{contrast:[se,q,G]}],"drop-shadow":[{"drop-shadow":["","none",p,q,G]}],grayscale:[{grayscale:["",se,q,G]}],"hue-rotate":[{"hue-rotate":[se,q,G]}],invert:[{invert:["",se,q,G]}],saturate:[{saturate:[se,q,G]}],sepia:[{sepia:["",se,q,G]}],"backdrop-filter":[{"backdrop-filter":["","none",q,G]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[se,q,G]}],"backdrop-contrast":[{"backdrop-contrast":[se,q,G]}],"backdrop-grayscale":[{"backdrop-grayscale":["",se,q,G]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[se,q,G]}],"backdrop-invert":[{"backdrop-invert":["",se,q,G]}],"backdrop-opacity":[{"backdrop-opacity":[se,q,G]}],"backdrop-saturate":[{"backdrop-saturate":[se,q,G]}],"backdrop-sepia":[{"backdrop-sepia":["",se,q,G]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",q,G]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[se,"initial",q,G]}],ease:[{ease:["linear","initial",C,q,G]}],delay:[{delay:[se,q,G]}],animate:[{animate:["none",y,q,G]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,q,G]}],"perspective-origin":[{"perspective-origin":ge()}],rotate:[{rotate:Ve()}],"rotate-x":[{"rotate-x":Ve()}],"rotate-y":[{"rotate-y":Ve()}],"rotate-z":[{"rotate-z":Ve()}],scale:[{scale:ze()}],"scale-x":[{"scale-x":ze()}],"scale-y":[{"scale-y":ze()}],"scale-z":[{"scale-z":ze()}],"scale-3d":["scale-3d"],skew:[{skew:Me()}],"skew-x":[{"skew-x":Me()}],"skew-y":[{"skew-y":Me()}],transform:[{transform:[q,G,"","none","gpu","cpu"]}],"transform-origin":[{origin:ge()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ie()}],"translate-x":[{"translate-x":Ie()}],"translate-y":[{"translate-y":Ie()}],"translate-z":[{"translate-z":Ie()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q,G]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q,G]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[se,Zl,yi,Wf]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},MN=aN(DN);function vn(...t){return MN(Gk(t))}const qE=v.forwardRef(({className:t,...e},n)=>b.jsx(LE,{ref:n,className:vn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));qE.displayName=LE.displayName;const QE=v.forwardRef(({className:t,...e},n)=>b.jsx(VE,{ref:n,className:vn("aspect-square h-full w-full",t),...e}));QE.displayName=VE.displayName;const YE=v.forwardRef(({className:t,...e},n)=>b.jsx(FE,{ref:n,className:vn("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));YE.displayName=FE.displayName;function fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function XE({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=ON({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=Zt(n),u=v.useCallback(c=>{if(o){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[o,t,i,a]);return[s,u]}function ON({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,i=v.useRef(r),o=Zt(e);return v.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function JE(t){const e=t+"CollectionProvider",[n,r]=ls(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:w,children:E}=g,C=xr.useRef(null),y=xr.useRef(new Map).current;return b.jsx(i,{scope:w,itemMap:y,collectionRef:C,children:E})};s.displayName=e;const a=t+"CollectionSlot",u=xr.forwardRef((g,w)=>{const{scope:E,children:C}=g,y=o(a,E),_=kt(w,y.collectionRef);return b.jsx(ka,{ref:_,children:C})});u.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",h=xr.forwardRef((g,w)=>{const{scope:E,children:C,...y}=g,_=xr.useRef(null),x=kt(w,_),k=o(c,E);return xr.useEffect(()=>(k.itemMap.set(_,{ref:_,...y}),()=>void k.itemMap.delete(_))),b.jsx(ka,{[d]:"",ref:x,children:C})});h.displayName=c;function p(g){const w=o(t+"CollectionConsumer",g);return xr.useCallback(()=>{const C=w.collectionRef.current;if(!C)return[];const y=Array.from(C.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((k,O)=>y.indexOf(k.ref.current)-y.indexOf(O.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:u,ItemSlot:h},p,r]}var LN=v.createContext(void 0);function ZE(t){const e=v.useContext(LN);return t||e||"ltr"}function VN(t,e=globalThis==null?void 0:globalThis.document){const n=Zt(t);v.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var FN="DismissableLayer",mp="dismissableLayer.update",jN="dismissableLayer.pointerDownOutside",UN="dismissableLayer.focusOutside",Vv,eT=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tT=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...u}=t,c=v.useContext(eT),[d,h]=v.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=v.useState({}),w=kt(e,I=>h(I)),E=Array.from(c.layers),[C]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=E.indexOf(C),_=d?E.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,k=_>=y,O=BN(I=>{const T=I.target,R=[...c.branches].some(A=>A.contains(T));!k||R||(i==null||i(I),s==null||s(I),I.defaultPrevented||a==null||a())},p),M=WN(I=>{const T=I.target;[...c.branches].some(A=>A.contains(T))||(o==null||o(I),s==null||s(I),I.defaultPrevented||a==null||a())},p);return VN(I=>{_===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),v.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Vv=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Fv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Vv)}},[d,p,n,c]),v.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Fv())},[d,c]),v.useEffect(()=>{const I=()=>g({});return document.addEventListener(mp,I),()=>document.removeEventListener(mp,I)},[]),b.jsx(Ye.div,{...u,ref:w,style:{pointerEvents:x?k?"auto":"none":void 0,...t.style},onFocusCapture:fe(t.onFocusCapture,M.onFocusCapture),onBlurCapture:fe(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:fe(t.onPointerDownCapture,O.onPointerDownCapture)})});tT.displayName=FN;var zN="DismissableLayerBranch",$N=v.forwardRef((t,e)=>{const n=v.useContext(eT),r=v.useRef(null),i=kt(e,r);return v.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),b.jsx(Ye.div,{...t,ref:i})});$N.displayName=zN;function BN(t,e=globalThis==null?void 0:globalThis.document){const n=Zt(t),r=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let u=function(){nT(jN,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function WN(t,e=globalThis==null?void 0:globalThis.document){const n=Zt(t),r=v.useRef(!1);return v.useEffect(()=>{const i=o=>{o.target&&!r.current&&nT(UN,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Fv(){const t=new CustomEvent(mp);document.dispatchEvent(t)}function nT(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?AE(i,o):i.dispatchEvent(o)}var Hf=0;function HN(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??jv()),document.body.insertAdjacentElement("beforeend",t[1]??jv()),Hf++,()=>{Hf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hf--}},[])}function jv(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Kf="focusScope.autoFocusOnMount",Gf="focusScope.autoFocusOnUnmount",Uv={bubbles:!1,cancelable:!0},KN="FocusScope",rT=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,u]=v.useState(null),c=Zt(i),d=Zt(o),h=v.useRef(null),p=kt(e,E=>u(E)),g=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let E=function(x){if(g.paused||!a)return;const k=x.target;a.contains(k)?h.current=k:Er(h.current,{select:!0})},C=function(x){if(g.paused||!a)return;const k=x.relatedTarget;k!==null&&(a.contains(k)||Er(h.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const O of x)O.removedNodes.length>0&&Er(a)};document.addEventListener("focusin",E),document.addEventListener("focusout",C);const _=new MutationObserver(y);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",C),_.disconnect()}}},[r,a,g.paused]),v.useEffect(()=>{if(a){$v.add(g);const E=document.activeElement;if(!a.contains(E)){const y=new CustomEvent(Kf,Uv);a.addEventListener(Kf,c),a.dispatchEvent(y),y.defaultPrevented||(GN(JN(iT(a)),{select:!0}),document.activeElement===E&&Er(a))}return()=>{a.removeEventListener(Kf,c),setTimeout(()=>{const y=new CustomEvent(Gf,Uv);a.addEventListener(Gf,d),a.dispatchEvent(y),y.defaultPrevented||Er(E??document.body,{select:!0}),a.removeEventListener(Gf,d),$v.remove(g)},0)}}},[a,c,d,g]);const w=v.useCallback(E=>{if(!n&&!r||g.paused)return;const C=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,y=document.activeElement;if(C&&y){const _=E.currentTarget,[x,k]=qN(_);x&&k?!E.shiftKey&&y===k?(E.preventDefault(),n&&Er(x,{select:!0})):E.shiftKey&&y===x&&(E.preventDefault(),n&&Er(k,{select:!0})):y===_&&E.preventDefault()}},[n,r,g.paused]);return b.jsx(Ye.div,{tabIndex:-1,...s,ref:p,onKeyDown:w})});rT.displayName=KN;function GN(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Er(r,{select:e}),document.activeElement!==n)return}function qN(t){const e=iT(t),n=zv(e,t),r=zv(e.reverse(),t);return[n,r]}function iT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function zv(t,e){for(const n of t)if(!QN(n,{upTo:e}))return n}function QN(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function YN(t){return t instanceof HTMLInputElement&&"select"in t}function Er(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&YN(t)&&e&&t.select()}}var $v=XN();function XN(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Bv(t,e),t.unshift(e)},remove(e){var n;t=Bv(t,e),(n=t[0])==null||n.resume()}}}function Bv(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function JN(t){return t.filter(e=>e.tagName!=="A")}var ZN=uR.useId||(()=>{}),e4=0;function gp(t){const[e,n]=v.useState(ZN());return rr(()=>{n(r=>r??String(e4++))},[t]),e?`radix-${e}`:""}const t4=["top","right","bottom","left"],Xr=Math.min,Ot=Math.max,vc=Math.round,eu=Math.floor,Cn=t=>({x:t,y:t}),n4={left:"right",right:"left",bottom:"top",top:"bottom"},r4={start:"end",end:"start"};function yp(t,e,n){return Ot(t,Xr(e,n))}function ir(t,e){return typeof t=="function"?t(e):t}function or(t){return t.split("-")[0]}function ds(t){return t.split("-")[1]}function sg(t){return t==="x"?"y":"x"}function ag(t){return t==="y"?"height":"width"}function Jr(t){return["top","bottom"].includes(or(t))?"y":"x"}function lg(t){return sg(Jr(t))}function i4(t,e,n){n===void 0&&(n=!1);const r=ds(t),i=lg(t),o=ag(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=_c(s)),[s,_c(s)]}function o4(t){const e=_c(t);return[vp(t),e,vp(e)]}function vp(t){return t.replace(/start|end/g,e=>r4[e])}function s4(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function a4(t,e,n,r){const i=ds(t);let o=s4(or(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(vp)))),o}function _c(t){return t.replace(/left|right|bottom|top/g,e=>n4[e])}function l4(t){return{top:0,right:0,bottom:0,left:0,...t}}function oT(t){return typeof t!="number"?l4(t):{top:t,right:t,bottom:t,left:t}}function wc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Wv(t,e,n){let{reference:r,floating:i}=t;const o=Jr(e),s=lg(e),a=ag(s),u=or(e),c=o==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let g;switch(u){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(ds(e)){case"start":g[s]-=p*(n&&c?-1:1);break;case"end":g[s]+=p*(n&&c?-1:1);break}return g}const u4=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=Wv(c,r,u),p=r,g={},w=0;for(let E=0;E<a.length;E++){const{name:C,fn:y}=a[E],{x:_,y:x,data:k,reset:O}=await y({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:t,floating:e}});d=_??d,h=x??h,g={...g,[C]:{...g[C],...k}},O&&w<=50&&(w++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(c=O.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:h}=Wv(c,p,u)),E=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:g}};async function Na(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:g=0}=ir(e,t),w=oT(g),C=a[p?h==="floating"?"reference":"floating":h],y=wc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),_=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),k=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},O=wc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:x,strategy:u}):_);return{top:(y.top-O.top+w.top)/k.y,bottom:(O.bottom-y.bottom+w.bottom)/k.y,left:(y.left-O.left+w.left)/k.x,right:(O.right-y.right+w.right)/k.x}}const c4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=ir(t,e)||{};if(c==null)return{};const h=oT(d),p={x:n,y:r},g=lg(i),w=ag(g),E=await s.getDimensions(c),C=g==="y",y=C?"top":"left",_=C?"bottom":"right",x=C?"clientHeight":"clientWidth",k=o.reference[w]+o.reference[g]-p[g]-o.floating[w],O=p[g]-o.reference[g],M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let I=M?M[x]:0;(!I||!await(s.isElement==null?void 0:s.isElement(M)))&&(I=a.floating[x]||o.floating[w]);const T=k/2-O/2,R=I/2-E[w]/2-1,A=Xr(h[y],R),N=Xr(h[_],R),D=A,P=I-E[w]-N,J=I/2-E[w]/2+T,pe=yp(D,J,P),Y=!u.arrow&&ds(i)!=null&&J!==pe&&o.reference[w]/2-(J<D?A:N)-E[w]/2<0,ce=Y?J<D?J-D:J-P:0;return{[g]:p[g]+ce,data:{[g]:pe,centerOffset:J-pe-ce,...Y&&{alignmentOffset:ce}},reset:Y}}}),d4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:E=!0,...C}=ir(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=or(i),_=Jr(a),x=or(a)===a,k=await(u.isRTL==null?void 0:u.isRTL(c.floating)),O=p||(x||!E?[_c(a)]:o4(a)),M=w!=="none";!p&&M&&O.push(...a4(a,E,w,k));const I=[a,...O],T=await Na(e,C),R=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&R.push(T[y]),h){const J=i4(i,s,k);R.push(T[J[0]],T[J[1]])}if(A=[...A,{placement:i,overflows:R}],!R.every(J=>J<=0)){var N,D;const J=(((N=o.flip)==null?void 0:N.index)||0)+1,pe=I[J];if(pe)return{data:{index:J,overflows:A},reset:{placement:pe}};let Y=(D=A.filter(ce=>ce.overflows[0]<=0).sort((ce,F)=>ce.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!Y)switch(g){case"bestFit":{var P;const ce=(P=A.filter(F=>{if(M){const j=Jr(F.placement);return j===_||j==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(j=>j>0).reduce((j,W)=>j+W,0)]).sort((F,j)=>F[1]-j[1])[0])==null?void 0:P[0];ce&&(Y=ce);break}case"initialPlacement":Y=a;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function Hv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Kv(t){return t4.some(e=>t[e]>=0)}const f4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ir(t,e);switch(r){case"referenceHidden":{const o=await Na(e,{...i,elementContext:"reference"}),s=Hv(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Kv(s)}}}case"escaped":{const o=await Na(e,{...i,altBoundary:!0}),s=Hv(o,n.floating);return{data:{escapedOffsets:s,escaped:Kv(s)}}}default:return{}}}}};async function h4(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=or(n),a=ds(n),u=Jr(n)==="y",c=["left","top"].includes(s)?-1:1,d=o&&u?-1:1,h=ir(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),u?{x:g*d,y:p*c}:{x:p*c,y:g*d}}const p4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,u=await h4(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:s}}}}},m4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:C=>{let{x:y,y:_}=C;return{x:y,y:_}}},...u}=ir(t,e),c={x:n,y:r},d=await Na(e,u),h=Jr(or(i)),p=sg(h);let g=c[p],w=c[h];if(o){const C=p==="y"?"top":"left",y=p==="y"?"bottom":"right",_=g+d[C],x=g-d[y];g=yp(_,g,x)}if(s){const C=h==="y"?"top":"left",y=h==="y"?"bottom":"right",_=w+d[C],x=w-d[y];w=yp(_,w,x)}const E=a.fn({...e,[p]:g,[h]:w});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[p]:o,[h]:s}}}}}},g4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=ir(t,e),d={x:n,y:r},h=Jr(i),p=sg(h);let g=d[p],w=d[h];const E=ir(a,e),C=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(u){const x=p==="y"?"height":"width",k=o.reference[p]-o.floating[x]+C.mainAxis,O=o.reference[p]+o.reference[x]-C.mainAxis;g<k?g=k:g>O&&(g=O)}if(c){var y,_;const x=p==="y"?"width":"height",k=["top","left"].includes(or(i)),O=o.reference[h]-o.floating[x]+(k&&((y=s.offset)==null?void 0:y[h])||0)+(k?0:C.crossAxis),M=o.reference[h]+o.reference[x]+(k?0:((_=s.offset)==null?void 0:_[h])||0)-(k?C.crossAxis:0);w<O?w=O:w>M&&(w=M)}return{[p]:g,[h]:w}}}},y4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:u=()=>{},...c}=ir(t,e),d=await Na(e,c),h=or(i),p=ds(i),g=Jr(i)==="y",{width:w,height:E}=o.floating;let C,y;h==="top"||h==="bottom"?(C=h,y=p===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,C=p==="end"?"top":"bottom");const _=E-d.top-d.bottom,x=w-d.left-d.right,k=Xr(E-d[C],_),O=Xr(w-d[y],x),M=!e.middlewareData.shift;let I=k,T=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=_),M&&!p){const A=Ot(d.left,0),N=Ot(d.right,0),D=Ot(d.top,0),P=Ot(d.bottom,0);g?T=w-2*(A!==0||N!==0?A+N:Ot(d.left,d.right)):I=E-2*(D!==0||P!==0?D+P:Ot(d.top,d.bottom))}await u({...e,availableWidth:T,availableHeight:I});const R=await s.getDimensions(a.floating);return w!==R.width||E!==R.height?{reset:{rects:!0}}:{}}}};function yd(){return typeof window<"u"}function fs(t){return sT(t)?(t.nodeName||"").toLowerCase():"#document"}function Ft(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ln(t){var e;return(e=(sT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function sT(t){return yd()?t instanceof Node||t instanceof Ft(t).Node:!1}function mn(t){return yd()?t instanceof Element||t instanceof Ft(t).Element:!1}function Nn(t){return yd()?t instanceof HTMLElement||t instanceof Ft(t).HTMLElement:!1}function Gv(t){return!yd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ft(t).ShadowRoot}function rl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=gn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function v4(t){return["table","td","th"].includes(fs(t))}function vd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ug(t){const e=cg(),n=mn(t)?gn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _4(t){let e=Zr(t);for(;Nn(e)&&!Ko(e);){if(ug(e))return e;if(vd(e))return null;e=Zr(e)}return null}function cg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ko(t){return["html","body","#document"].includes(fs(t))}function gn(t){return Ft(t).getComputedStyle(t)}function _d(t){return mn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zr(t){if(fs(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Gv(t)&&t.host||Ln(t);return Gv(e)?e.host:e}function aT(t){const e=Zr(t);return Ko(e)?t.ownerDocument?t.ownerDocument.body:t.body:Nn(e)&&rl(e)?e:aT(e)}function Da(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=aT(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ft(i);if(o){const a=_p(s);return e.concat(s,s.visualViewport||[],rl(i)?i:[],a&&n?Da(a):[])}return e.concat(i,Da(i,[],n))}function _p(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function lT(t){const e=gn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Nn(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=vc(n)!==o||vc(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function dg(t){return mn(t)?t:t.contextElement}function Do(t){const e=dg(t);if(!Nn(e))return Cn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=lT(e);let s=(o?vc(n.width):n.width)/r,a=(o?vc(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const w4=Cn(0);function uT(t){const e=Ft(t);return!cg()||!e.visualViewport?w4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function x4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ft(t)?!1:e}function Oi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=dg(t);let s=Cn(1);e&&(r?mn(r)&&(s=Do(r)):s=Do(t));const a=x4(o,n,r)?uT(o):Cn(0);let u=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,d=i.width/s.x,h=i.height/s.y;if(o){const p=Ft(o),g=r&&mn(r)?Ft(r):r;let w=p,E=_p(w);for(;E&&r&&g!==w;){const C=Do(E),y=E.getBoundingClientRect(),_=gn(E),x=y.left+(E.clientLeft+parseFloat(_.paddingLeft))*C.x,k=y.top+(E.clientTop+parseFloat(_.paddingTop))*C.y;u*=C.x,c*=C.y,d*=C.x,h*=C.y,u+=x,c+=k,w=Ft(E),E=_p(w)}}return wc({width:d,height:h,x:u,y:c})}function fg(t,e){const n=_d(t).scrollLeft;return e?e.left+n:Oi(Ln(t)).left+n}function cT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:fg(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function E4(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Ln(r),a=e?vd(e.floating):!1;if(r===s||a&&o)return n;let u={scrollLeft:0,scrollTop:0},c=Cn(1);const d=Cn(0),h=Nn(r);if((h||!h&&!o)&&((fs(r)!=="body"||rl(s))&&(u=_d(r)),Nn(r))){const g=Oi(r);c=Do(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=s&&!h&&!o?cT(s,u,!0):Cn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-u.scrollTop*c.y+d.y+p.y}}function T4(t){return Array.from(t.getClientRects())}function b4(t){const e=Ln(t),n=_d(t),r=t.ownerDocument.body,i=Ot(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Ot(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+fg(t);const a=-n.scrollTop;return gn(r).direction==="rtl"&&(s+=Ot(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function I4(t,e){const n=Ft(t),r=Ln(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,u=0;if(i){o=i.width,s=i.height;const c=cg();(!c||c&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:a,y:u}}function S4(t,e){const n=Oi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Nn(t)?Do(t):Cn(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,u=i*o.x,c=r*o.y;return{width:s,height:a,x:u,y:c}}function qv(t,e,n){let r;if(e==="viewport")r=I4(t,n);else if(e==="document")r=b4(Ln(t));else if(mn(e))r=S4(e,n);else{const i=uT(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return wc(r)}function dT(t,e){const n=Zr(t);return n===e||!mn(n)||Ko(n)?!1:gn(n).position==="fixed"||dT(n,e)}function C4(t,e){const n=e.get(t);if(n)return n;let r=Da(t,[],!1).filter(a=>mn(a)&&fs(a)!=="body"),i=null;const o=gn(t).position==="fixed";let s=o?Zr(t):t;for(;mn(s)&&!Ko(s);){const a=gn(s),u=ug(s);!u&&a.position==="fixed"&&(i=null),(o?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||rl(s)&&!u&&dT(t,s))?r=r.filter(d=>d!==s):i=a,s=Zr(s)}return e.set(t,r),r}function R4(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?vd(e)?[]:C4(e,this._c):[].concat(n),r],a=s[0],u=s.reduce((c,d)=>{const h=qv(e,d,i);return c.top=Ot(h.top,c.top),c.right=Xr(h.right,c.right),c.bottom=Xr(h.bottom,c.bottom),c.left=Ot(h.left,c.left),c},qv(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function A4(t){const{width:e,height:n}=lT(t);return{width:e,height:n}}function P4(t,e,n){const r=Nn(e),i=Ln(e),o=n==="fixed",s=Oi(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const u=Cn(0);if(r||!r&&!o)if((fs(e)!=="body"||rl(i))&&(a=_d(e)),r){const p=Oi(e,!0,o,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else i&&(u.x=fg(i));const c=i&&!r&&!o?cT(i,a):Cn(0),d=s.left+a.scrollLeft-u.x-c.x,h=s.top+a.scrollTop-u.y-c.y;return{x:d,y:h,width:s.width,height:s.height}}function qf(t){return gn(t).position==="static"}function Qv(t,e){if(!Nn(t)||gn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ln(t)===n&&(n=n.ownerDocument.body),n}function fT(t,e){const n=Ft(t);if(vd(t))return n;if(!Nn(t)){let i=Zr(t);for(;i&&!Ko(i);){if(mn(i)&&!qf(i))return i;i=Zr(i)}return n}let r=Qv(t,e);for(;r&&v4(r)&&qf(r);)r=Qv(r,e);return r&&Ko(r)&&qf(r)&&!ug(r)?n:r||_4(t)||n}const k4=async function(t){const e=this.getOffsetParent||fT,n=this.getDimensions,r=await n(t.floating);return{reference:P4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function N4(t){return gn(t).direction==="rtl"}const D4={convertOffsetParentRelativeRectToViewportRelativeRect:E4,getDocumentElement:Ln,getClippingRect:R4,getOffsetParent:fT,getElementRects:k4,getClientRects:T4,getDimensions:A4,getScale:Do,isElement:mn,isRTL:N4};function hT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function M4(t,e){let n=null,r;const i=Ln(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),o();const c=t.getBoundingClientRect(),{left:d,top:h,width:p,height:g}=c;if(a||e(),!p||!g)return;const w=eu(h),E=eu(i.clientWidth-(d+p)),C=eu(i.clientHeight-(h+g)),y=eu(d),x={rootMargin:-w+"px "+-E+"px "+-C+"px "+-y+"px",threshold:Ot(0,Xr(1,u))||1};let k=!0;function O(M){const I=M[0].intersectionRatio;if(I!==u){if(!k)return s();I?s(!1,I):r=setTimeout(()=>{s(!1,1e-7)},1e3)}I===1&&!hT(c,t.getBoundingClientRect())&&s(),k=!1}try{n=new IntersectionObserver(O,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,x)}n.observe(t)}return s(!0),o}function O4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=dg(t),d=i||o?[...c?Da(c):[],...Da(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const h=c&&a?M4(c,n):null;let p=-1,g=null;s&&(g=new ResizeObserver(y=>{let[_]=y;_&&_.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=g)==null||x.observe(e)})),n()}),c&&!u&&g.observe(c),g.observe(e));let w,E=u?Oi(t):null;u&&C();function C(){const y=Oi(t);E&&!hT(E,y)&&n(),E=y,w=requestAnimationFrame(C)}return n(),()=>{var y;d.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),h==null||h(),(y=g)==null||y.disconnect(),g=null,u&&cancelAnimationFrame(w)}}const L4=p4,V4=m4,F4=d4,j4=y4,U4=f4,Yv=c4,z4=g4,$4=(t,e,n)=>{const r=new Map,i={platform:D4,...n},o={...i.platform,_c:r};return u4(t,e,{...i,platform:o})};var Du=typeof document<"u"?v.useLayoutEffect:v.useEffect;function xc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!xc(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!xc(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function pT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Xv(t,e){const n=pT(t);return Math.round(e*n)/n}function Qf(t){const e=v.useRef(t);return Du(()=>{e.current=t}),e}function B4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,h]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=v.useState(r);xc(p,r)||g(r);const[w,E]=v.useState(null),[C,y]=v.useState(null),_=v.useCallback(F=>{F!==M.current&&(M.current=F,E(F))},[]),x=v.useCallback(F=>{F!==I.current&&(I.current=F,y(F))},[]),k=o||w,O=s||C,M=v.useRef(null),I=v.useRef(null),T=v.useRef(d),R=u!=null,A=Qf(u),N=Qf(i),D=Qf(c),P=v.useCallback(()=>{if(!M.current||!I.current)return;const F={placement:e,strategy:n,middleware:p};N.current&&(F.platform=N.current),$4(M.current,I.current,F).then(j=>{const W={...j,isPositioned:D.current!==!1};J.current&&!xc(T.current,W)&&(T.current=W,hd.flushSync(()=>{h(W)}))})},[p,e,n,N,D]);Du(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[c]);const J=v.useRef(!1);Du(()=>(J.current=!0,()=>{J.current=!1}),[]),Du(()=>{if(k&&(M.current=k),O&&(I.current=O),k&&O){if(A.current)return A.current(k,O,P);P()}},[k,O,P,A,R]);const pe=v.useMemo(()=>({reference:M,floating:I,setReference:_,setFloating:x}),[_,x]),Y=v.useMemo(()=>({reference:k,floating:O}),[k,O]),ce=v.useMemo(()=>{const F={position:n,left:0,top:0};if(!Y.floating)return F;const j=Xv(Y.floating,d.x),W=Xv(Y.floating,d.y);return a?{...F,transform:"translate("+j+"px, "+W+"px)",...pT(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:W}},[n,a,Y.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:P,refs:pe,elements:Y,floatingStyles:ce}),[d,P,pe,Y,ce])}const W4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Yv({element:r.current,padding:i}).fn(n):{}:r?Yv({element:r,padding:i}).fn(n):{}}}},H4=(t,e)=>({...L4(t),options:[t,e]}),K4=(t,e)=>({...V4(t),options:[t,e]}),G4=(t,e)=>({...z4(t),options:[t,e]}),q4=(t,e)=>({...F4(t),options:[t,e]}),Q4=(t,e)=>({...j4(t),options:[t,e]}),Y4=(t,e)=>({...U4(t),options:[t,e]}),X4=(t,e)=>({...W4(t),options:[t,e]});var J4="Arrow",mT=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return b.jsx(Ye.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});mT.displayName=J4;var Z4=mT;function eD(t){const[e,n]=v.useState(void 0);return rr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const u=o.borderBoxSize,c=Array.isArray(u)?u[0]:u;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var hg="Popper",[gT,yT]=ls(hg),[tD,vT]=gT(hg),_T=t=>{const{__scopePopper:e,children:n}=t,[r,i]=v.useState(null);return b.jsx(tD,{scope:e,anchor:r,onAnchorChange:i,children:n})};_T.displayName=hg;var wT="PopperAnchor",xT=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=vT(wT,n),s=v.useRef(null),a=kt(e,s);return v.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:b.jsx(Ye.div,{...i,ref:a})});xT.displayName=wT;var pg="PopperContent",[nD,rD]=gT(pg),ET=v.forwardRef((t,e)=>{var Ie,ui,bt,_n,ci,Xi;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:w,...E}=t,C=vT(pg,n),[y,_]=v.useState(null),x=kt(e,Vn=>_(Vn)),[k,O]=v.useState(null),M=eD(k),I=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,R=r+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],D=N.length>0,P={padding:A,boundary:N.filter(oD),altBoundary:D},{refs:J,floatingStyles:pe,placement:Y,isPositioned:ce,middlewareData:F}=B4({strategy:"fixed",placement:R,whileElementsMounted:(...Vn)=>O4(...Vn,{animationFrame:g==="always"}),elements:{reference:C.anchor},middleware:[H4({mainAxis:i+T,alignmentAxis:s}),u&&K4({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?G4():void 0,...P}),u&&q4({...P}),Q4({...P,apply:({elements:Vn,rects:Ji,availableWidth:ws,availableHeight:vl})=>{const{width:Kd,height:Gd}=Ji.reference,di=Vn.floating.style;di.setProperty("--radix-popper-available-width",`${ws}px`),di.setProperty("--radix-popper-available-height",`${vl}px`),di.setProperty("--radix-popper-anchor-width",`${Kd}px`),di.setProperty("--radix-popper-anchor-height",`${Gd}px`)}}),k&&X4({element:k,padding:a}),sD({arrowWidth:I,arrowHeight:T}),p&&Y4({strategy:"referenceHidden",...P})]}),[j,W]=IT(Y),re=Zt(w);rr(()=>{ce&&(re==null||re())},[ce,re]);const ie=(Ie=F.arrow)==null?void 0:Ie.x,ge=(ui=F.arrow)==null?void 0:ui.y,Ve=((bt=F.arrow)==null?void 0:bt.centerOffset)!==0,[ze,Me]=v.useState();return rr(()=>{y&&Me(window.getComputedStyle(y).zIndex)},[y]),b.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:ce?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ze,"--radix-popper-transform-origin":[(_n=F.transformOrigin)==null?void 0:_n.x,(ci=F.transformOrigin)==null?void 0:ci.y].join(" "),...((Xi=F.hide)==null?void 0:Xi.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(nD,{scope:n,placedSide:j,onArrowChange:O,arrowX:ie,arrowY:ge,shouldHideArrow:Ve,children:b.jsx(Ye.div,{"data-side":j,"data-align":W,...E,ref:x,style:{...E.style,animation:ce?void 0:"none"}})})})});ET.displayName=pg;var TT="PopperArrow",iD={top:"bottom",right:"left",bottom:"top",left:"right"},bT=v.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=rD(TT,r),s=iD[o.placedSide];return b.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:b.jsx(Z4,{...i,ref:n,style:{...i.style,display:"block"}})})});bT.displayName=TT;function oD(t){return t!==null}var sD=t=>({name:"transformOrigin",options:t,fn(e){var C,y,_;const{placement:n,rects:r,middlewareData:i}=e,s=((C=i.arrow)==null?void 0:C.centerOffset)!==0,a=s?0:t.arrowWidth,u=s?0:t.arrowHeight,[c,d]=IT(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,g=(((_=i.arrow)==null?void 0:_.y)??0)+u/2;let w="",E="";return c==="bottom"?(w=s?h:`${p}px`,E=`${-u}px`):c==="top"?(w=s?h:`${p}px`,E=`${r.floating.height+u}px`):c==="right"?(w=`${-u}px`,E=s?h:`${g}px`):c==="left"&&(w=`${r.floating.width+u}px`,E=s?h:`${g}px`),{data:{x:w,y:E}}}});function IT(t){const[e,n="center"]=t.split("-");return[e,n]}var aD=_T,lD=xT,uD=ET,cD=bT,dD="Portal",ST=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=v.useState(!1);rr(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?w2.createPortal(b.jsx(Ye.div,{...r,ref:e}),s):null});ST.displayName=dD;function fD(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var il=t=>{const{present:e,children:n}=t,r=hD(e),i=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),o=kt(r.ref,pD(i));return typeof n=="function"||r.isPresent?v.cloneElement(i,{ref:o}):null};il.displayName="Presence";function hD(t){const[e,n]=v.useState(),r=v.useRef({}),i=v.useRef(t),o=v.useRef("none"),s=t?"mounted":"unmounted",[a,u]=fD(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=tu(r.current);o.current=a==="mounted"?c:"none"},[a]),rr(()=>{const c=r.current,d=i.current;if(d!==t){const p=o.current,g=tu(c);t?u("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),rr(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=g=>{const E=tu(r.current).includes(g.animationName);if(g.target===e&&E&&(u("ANIMATION_END"),!i.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},p=g=>{g.target===e&&(o.current=tu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function tu(t){return(t==null?void 0:t.animationName)||"none"}function pD(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Yf="rovingFocusGroup.onEntryFocus",mD={bubbles:!1,cancelable:!0},wd="RovingFocusGroup",[wp,CT,gD]=JE(wd),[yD,RT]=ls(wd,[gD]),[vD,_D]=yD(wd),AT=v.forwardRef((t,e)=>b.jsx(wp.Provider,{scope:t.__scopeRovingFocusGroup,children:b.jsx(wp.Slot,{scope:t.__scopeRovingFocusGroup,children:b.jsx(wD,{...t,ref:e})})}));AT.displayName=wd;var wD=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,p=v.useRef(null),g=kt(e,p),w=ZE(o),[E=null,C]=XE({prop:s,defaultProp:a,onChange:u}),[y,_]=v.useState(!1),x=Zt(c),k=CT(n),O=v.useRef(!1),[M,I]=v.useState(0);return v.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Yf,x),()=>T.removeEventListener(Yf,x)},[x]),b.jsx(vD,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:E,onItemFocus:v.useCallback(T=>C(T),[C]),onItemShiftTab:v.useCallback(()=>_(!0),[]),onFocusableItemAdd:v.useCallback(()=>I(T=>T+1),[]),onFocusableItemRemove:v.useCallback(()=>I(T=>T-1),[]),children:b.jsx(Ye.div,{tabIndex:y||M===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:fe(t.onMouseDown,()=>{O.current=!0}),onFocus:fe(t.onFocus,T=>{const R=!O.current;if(T.target===T.currentTarget&&R&&!y){const A=new CustomEvent(Yf,mD);if(T.currentTarget.dispatchEvent(A),!A.defaultPrevented){const N=k().filter(Y=>Y.focusable),D=N.find(Y=>Y.active),P=N.find(Y=>Y.id===E),pe=[D,P,...N].filter(Boolean).map(Y=>Y.ref.current);NT(pe,d)}}O.current=!1}),onBlur:fe(t.onBlur,()=>_(!1))})})}),PT="RovingFocusGroupItem",kT=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=gp(),u=o||a,c=_D(PT,n),d=c.currentTabStopId===u,h=CT(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=c;return v.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),b.jsx(wp.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:b.jsx(Ye.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:fe(t.onMouseDown,w=>{r?c.onItemFocus(u):w.preventDefault()}),onFocus:fe(t.onFocus,()=>c.onItemFocus(u)),onKeyDown:fe(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const E=TD(w,c.orientation,c.dir);if(E!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let y=h().filter(_=>_.focusable).map(_=>_.ref.current);if(E==="last")y.reverse();else if(E==="prev"||E==="next"){E==="prev"&&y.reverse();const _=y.indexOf(w.currentTarget);y=c.loop?bD(y,_+1):y.slice(_+1)}setTimeout(()=>NT(y))}})})})});kT.displayName=PT;var xD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ED(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function TD(t,e,n){const r=ED(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xD[r]}function NT(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function bD(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ID=AT,SD=kT,CD=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},oo=new WeakMap,nu=new WeakMap,ru={},Xf=0,DT=function(t){return t&&(t.host||DT(t.parentNode))},RD=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=DT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},AD=function(t,e,n,r){var i=RD(e,Array.isArray(t)?t:[t]);ru[n]||(ru[n]=new WeakMap);var o=ru[n],s=[],a=new Set,u=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var g=p.getAttribute(r),w=g!==null&&g!=="false",E=(oo.get(p)||0)+1,C=(o.get(p)||0)+1;oo.set(p,E),o.set(p,C),s.push(p),E===1&&w&&nu.set(p,!0),C===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return d(e),a.clear(),Xf++,function(){s.forEach(function(h){var p=oo.get(h)-1,g=o.get(h)-1;oo.set(h,p),o.set(h,g),p||(nu.has(h)||h.removeAttribute(r),nu.delete(h)),g||h.removeAttribute(n)}),Xf--,Xf||(oo=new WeakMap,oo=new WeakMap,nu=new WeakMap,ru={})}},PD=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=CD(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),AD(r,i,n,"aria-hidden")):function(){return null}},bn=function(){return bn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},bn.apply(this,arguments)};function ol(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kD(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Mu="right-scroll-bar-position",Ou="width-before-scroll-bar",ND="with-scroll-bars-hidden",DD="--removed-body-scroll-bar-size";function Jf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function MD(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var OD=typeof window<"u"?v.useLayoutEffect:v.useEffect,Jv=new WeakMap;function LD(t,e){var n=MD(null,function(r){return t.forEach(function(i){return Jf(i,r)})});return OD(function(){var r=Jv.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Jf(a,null)}),o.forEach(function(a){i.has(a)||Jf(a,s)})}Jv.set(n,t)},[t]),n}function VD(t){return t}function FD(t,e){e===void 0&&(e=VD);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var u=function(){var d=s;s=[],d.forEach(o)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return i}function jD(t){t===void 0&&(t={});var e=FD(null);return e.options=bn({async:!0,ssr:!1},t),e}var MT=function(t){var e=t.sideCar,n=ol(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,bn({},n))};MT.isSideCarExport=!0;function UD(t,e){return t.useMedium(e),MT}var OT=jD(),Zf=function(){},xd=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:Zf,onWheelCapture:Zf,onTouchMoveCapture:Zf}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,g=t.noIsolation,w=t.inert,E=t.allowPinchZoom,C=t.as,y=C===void 0?"div":C,_=t.gapMode,x=ol(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,O=LD([n,e]),M=bn(bn({},x),i);return v.createElement(v.Fragment,null,d&&v.createElement(k,{sideCar:OT,removeScrollBar:c,shards:h,noIsolation:g,inert:w,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:_}),s?v.cloneElement(v.Children.only(a),bn(bn({},M),{ref:O})):v.createElement(y,bn({},M,{className:u,ref:O}),a))});xd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xd.classNames={fullWidth:Ou,zeroRight:Mu};var zD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $D(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=zD();return e&&t.setAttribute("nonce",e),t}function BD(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function WD(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var HD=function(){var t=0,e=null;return{add:function(n){t==0&&(e=$D())&&(BD(e,n),WD(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},KD=function(){var t=HD();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},LT=function(){var t=KD(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},GD={left:0,top:0,right:0,gap:0},eh=function(t){return parseInt(t||"",10)||0},qD=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[eh(n),eh(r),eh(i)]},QD=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return GD;var e=qD(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},YD=LT(),Mo="data-scroll-locked",XD=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(ND,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Mo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ou,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Mu," .").concat(Mu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ou," .").concat(Ou,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Mo,`] {
    `).concat(DD,": ").concat(a,`px;
  }
`)},Zv=function(){var t=parseInt(document.body.getAttribute(Mo)||"0",10);return isFinite(t)?t:0},JD=function(){v.useEffect(function(){return document.body.setAttribute(Mo,(Zv()+1).toString()),function(){var t=Zv()-1;t<=0?document.body.removeAttribute(Mo):document.body.setAttribute(Mo,t.toString())}},[])},ZD=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;JD();var o=v.useMemo(function(){return QD(i)},[i]);return v.createElement(YD,{styles:XD(o,!e,i,n?"":"!important")})},xp=!1;if(typeof window<"u")try{var iu=Object.defineProperty({},"passive",{get:function(){return xp=!0,!0}});window.addEventListener("test",iu,iu),window.removeEventListener("test",iu,iu)}catch{xp=!1}var so=xp?{passive:!1}:!1,eM=function(t){return t.tagName==="TEXTAREA"},VT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!eM(t)&&n[e]==="visible")},tM=function(t){return VT(t,"overflowY")},nM=function(t){return VT(t,"overflowX")},e_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=FT(t,r);if(i){var o=jT(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},rM=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},iM=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},FT=function(t,e){return t==="v"?tM(e):nM(e)},jT=function(t,e){return t==="v"?rM(e):iM(e)},oM=function(t,e){return t==="h"&&e==="rtl"?-1:1},sM=function(t,e,n,r,i){var o=oM(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,u=e.contains(a),c=!1,d=s>0,h=0,p=0;do{var g=jT(t,a),w=g[0],E=g[1],C=g[2],y=E-C-o*w;(w||y)&&FT(t,a)&&(h+=y,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(p)<1||!i))&&(c=!0),c},ou=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},t_=function(t){return[t.deltaX,t.deltaY]},n_=function(t){return t&&"current"in t?t.current:t},aM=function(t,e){return t[0]===e[0]&&t[1]===e[1]},lM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},uM=0,ao=[];function cM(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),i=v.useState(uM++)[0],o=v.useState(LT)[0],s=v.useRef(t);v.useEffect(function(){s.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var E=kD([t.lockRef.current],(t.shards||[]).map(n_),!0).filter(Boolean);return E.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(E,C){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!s.current.allowPinchZoom;var y=ou(E),_=n.current,x="deltaX"in E?E.deltaX:_[0]-y[0],k="deltaY"in E?E.deltaY:_[1]-y[1],O,M=E.target,I=Math.abs(x)>Math.abs(k)?"h":"v";if("touches"in E&&I==="h"&&M.type==="range")return!1;var T=e_(I,M);if(!T)return!0;if(T?O=I:(O=I==="v"?"h":"v",T=e_(I,M)),!T)return!1;if(!r.current&&"changedTouches"in E&&(x||k)&&(r.current=O),!O)return!0;var R=r.current||O;return sM(R,C,E,R==="h"?x:k,!0)},[]),u=v.useCallback(function(E){var C=E;if(!(!ao.length||ao[ao.length-1]!==o)){var y="deltaY"in C?t_(C):ou(C),_=e.current.filter(function(O){return O.name===C.type&&(O.target===C.target||C.target===O.shadowParent)&&aM(O.delta,y)})[0];if(_&&_.should){C.cancelable&&C.preventDefault();return}if(!_){var x=(s.current.shards||[]).map(n_).filter(Boolean).filter(function(O){return O.contains(C.target)}),k=x.length>0?a(C,x[0]):!s.current.noIsolation;k&&C.cancelable&&C.preventDefault()}}},[]),c=v.useCallback(function(E,C,y,_){var x={name:E,delta:C,target:y,should:_,shadowParent:dM(y)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(k){return k!==x})},1)},[]),d=v.useCallback(function(E){n.current=ou(E),r.current=void 0},[]),h=v.useCallback(function(E){c(E.type,t_(E),E.target,a(E,t.lockRef.current))},[]),p=v.useCallback(function(E){c(E.type,ou(E),E.target,a(E,t.lockRef.current))},[]);v.useEffect(function(){return ao.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",u,so),document.addEventListener("touchmove",u,so),document.addEventListener("touchstart",d,so),function(){ao=ao.filter(function(E){return E!==o}),document.removeEventListener("wheel",u,so),document.removeEventListener("touchmove",u,so),document.removeEventListener("touchstart",d,so)}},[]);var g=t.removeScrollBar,w=t.inert;return v.createElement(v.Fragment,null,w?v.createElement(o,{styles:lM(i)}):null,g?v.createElement(ZD,{gapMode:t.gapMode}):null)}function dM(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const fM=UD(OT,cM);var UT=v.forwardRef(function(t,e){return v.createElement(xd,bn({},t,{ref:e,sideCar:fM}))});UT.classNames=xd.classNames;var Ep=["Enter"," "],hM=["ArrowDown","PageUp","Home"],zT=["ArrowUp","PageDown","End"],pM=[...hM,...zT],mM={ltr:[...Ep,"ArrowRight"],rtl:[...Ep,"ArrowLeft"]},gM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},sl="Menu",[Ma,yM,vM]=JE(sl),[Hi,$T]=ls(sl,[vM,yT,RT]),Ed=yT(),BT=RT(),[_M,Ki]=Hi(sl),[wM,al]=Hi(sl),WT=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=t,a=Ed(e),[u,c]=v.useState(null),d=v.useRef(!1),h=Zt(o),p=ZE(i);return v.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),b.jsx(aD,{...a,children:b.jsx(_M,{scope:e,open:n,onOpenChange:h,content:u,onContentChange:c,children:b.jsx(wM,{scope:e,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:s,children:r})})})};WT.displayName=sl;var xM="MenuAnchor",mg=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Ed(n);return b.jsx(lD,{...i,...r,ref:e})});mg.displayName=xM;var gg="MenuPortal",[EM,HT]=Hi(gg,{forceMount:void 0}),KT=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,o=Ki(gg,e);return b.jsx(EM,{scope:e,forceMount:n,children:b.jsx(il,{present:n||o.open,children:b.jsx(ST,{asChild:!0,container:i,children:r})})})};KT.displayName=gg;var Qt="MenuContent",[TM,yg]=Hi(Qt),GT=v.forwardRef((t,e)=>{const n=HT(Qt,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Ki(Qt,t.__scopeMenu),s=al(Qt,t.__scopeMenu);return b.jsx(Ma.Provider,{scope:t.__scopeMenu,children:b.jsx(il,{present:r||o.open,children:b.jsx(Ma.Slot,{scope:t.__scopeMenu,children:s.modal?b.jsx(bM,{...i,ref:e}):b.jsx(IM,{...i,ref:e})})})})}),bM=v.forwardRef((t,e)=>{const n=Ki(Qt,t.__scopeMenu),r=v.useRef(null),i=kt(e,r);return v.useEffect(()=>{const o=r.current;if(o)return PD(o)},[]),b.jsx(vg,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:fe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),IM=v.forwardRef((t,e)=>{const n=Ki(Qt,t.__scopeMenu);return b.jsx(vg,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),vg=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:u,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...E}=t,C=Ki(Qt,n),y=al(Qt,n),_=Ed(n),x=BT(n),k=yM(n),[O,M]=v.useState(null),I=v.useRef(null),T=kt(e,I,C.onContentChange),R=v.useRef(0),A=v.useRef(""),N=v.useRef(0),D=v.useRef(null),P=v.useRef("right"),J=v.useRef(0),pe=w?UT:v.Fragment,Y=w?{as:ka,allowPinchZoom:!0}:void 0,ce=j=>{var Ie,ui;const W=A.current+j,re=k().filter(bt=>!bt.disabled),ie=document.activeElement,ge=(Ie=re.find(bt=>bt.ref.current===ie))==null?void 0:Ie.textValue,Ve=re.map(bt=>bt.textValue),ze=VM(Ve,W,ge),Me=(ui=re.find(bt=>bt.textValue===ze))==null?void 0:ui.ref.current;(function bt(_n){A.current=_n,window.clearTimeout(R.current),_n!==""&&(R.current=window.setTimeout(()=>bt(""),1e3))})(W),Me&&setTimeout(()=>Me.focus())};v.useEffect(()=>()=>window.clearTimeout(R.current),[]),HN();const F=v.useCallback(j=>{var re,ie;return P.current===((re=D.current)==null?void 0:re.side)&&jM(j,(ie=D.current)==null?void 0:ie.area)},[]);return b.jsx(TM,{scope:n,searchRef:A,onItemEnter:v.useCallback(j=>{F(j)&&j.preventDefault()},[F]),onItemLeave:v.useCallback(j=>{var W;F(j)||((W=I.current)==null||W.focus(),M(null))},[F]),onTriggerLeave:v.useCallback(j=>{F(j)&&j.preventDefault()},[F]),pointerGraceTimerRef:N,onPointerGraceIntentChange:v.useCallback(j=>{D.current=j},[]),children:b.jsx(pe,{...Y,children:b.jsx(rT,{asChild:!0,trapped:i,onMountAutoFocus:fe(o,j=>{var W;j.preventDefault(),(W=I.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:b.jsx(tT,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:g,children:b.jsx(ID,{asChild:!0,...x,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:M,onEntryFocus:fe(u,j=>{y.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:b.jsx(uD,{role:"menu","aria-orientation":"vertical","data-state":ub(C.open),"data-radix-menu-content":"",dir:y.dir,..._,...E,ref:T,style:{outline:"none",...E.style},onKeyDown:fe(E.onKeyDown,j=>{const re=j.target.closest("[data-radix-menu-content]")===j.currentTarget,ie=j.ctrlKey||j.altKey||j.metaKey,ge=j.key.length===1;re&&(j.key==="Tab"&&j.preventDefault(),!ie&&ge&&ce(j.key));const Ve=I.current;if(j.target!==Ve||!pM.includes(j.key))return;j.preventDefault();const Me=k().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);zT.includes(j.key)&&Me.reverse(),OM(Me)}),onBlur:fe(t.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(R.current),A.current="")}),onPointerMove:fe(t.onPointerMove,Oa(j=>{const W=j.target,re=J.current!==j.clientX;if(j.currentTarget.contains(W)&&re){const ie=j.clientX>J.current?"right":"left";P.current=ie,J.current=j.clientX}}))})})})})})})});GT.displayName=Qt;var SM="MenuGroup",_g=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return b.jsx(Ye.div,{role:"group",...r,ref:e})});_g.displayName=SM;var CM="MenuLabel",qT=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return b.jsx(Ye.div,{...r,ref:e})});qT.displayName=CM;var Ec="MenuItem",r_="menu.itemSelect",Td=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,o=v.useRef(null),s=al(Ec,t.__scopeMenu),a=yg(Ec,t.__scopeMenu),u=kt(e,o),c=v.useRef(!1),d=()=>{const h=o.current;if(!n&&h){const p=new CustomEvent(r_,{bubbles:!0,cancelable:!0});h.addEventListener(r_,g=>r==null?void 0:r(g),{once:!0}),AE(h,p),p.defaultPrevented?c.current=!1:s.onClose()}};return b.jsx(QT,{...i,ref:u,disabled:n,onClick:fe(t.onClick,d),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:fe(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:fe(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Ep.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Td.displayName=Ec;var QT=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=t,s=yg(Ec,n),a=BT(n),u=v.useRef(null),c=kt(e,u),[d,h]=v.useState(!1),[p,g]=v.useState("");return v.useEffect(()=>{const w=u.current;w&&g((w.textContent??"").trim())},[o.children]),b.jsx(Ma.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:b.jsx(SD,{asChild:!0,...a,focusable:!r,children:b.jsx(Ye.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:fe(t.onPointerMove,Oa(w=>{r?s.onItemLeave(w):(s.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(t.onPointerLeave,Oa(w=>s.onItemLeave(w))),onFocus:fe(t.onFocus,()=>h(!0)),onBlur:fe(t.onBlur,()=>h(!1))})})})}),RM="MenuCheckboxItem",YT=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return b.jsx(tb,{scope:t.__scopeMenu,checked:n,children:b.jsx(Td,{role:"menuitemcheckbox","aria-checked":Tc(n)?"mixed":n,...i,ref:e,"data-state":xg(n),onSelect:fe(i.onSelect,()=>r==null?void 0:r(Tc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});YT.displayName=RM;var XT="MenuRadioGroup",[AM,PM]=Hi(XT,{value:void 0,onValueChange:()=>{}}),JT=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,o=Zt(r);return b.jsx(AM,{scope:t.__scopeMenu,value:n,onValueChange:o,children:b.jsx(_g,{...i,ref:e})})});JT.displayName=XT;var ZT="MenuRadioItem",eb=v.forwardRef((t,e)=>{const{value:n,...r}=t,i=PM(ZT,t.__scopeMenu),o=n===i.value;return b.jsx(tb,{scope:t.__scopeMenu,checked:o,children:b.jsx(Td,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":xg(o),onSelect:fe(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});eb.displayName=ZT;var wg="MenuItemIndicator",[tb,kM]=Hi(wg,{checked:!1}),nb=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,o=kM(wg,n);return b.jsx(il,{present:r||Tc(o.checked)||o.checked===!0,children:b.jsx(Ye.span,{...i,ref:e,"data-state":xg(o.checked)})})});nb.displayName=wg;var NM="MenuSeparator",rb=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return b.jsx(Ye.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});rb.displayName=NM;var DM="MenuArrow",ib=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Ed(n);return b.jsx(cD,{...i,...r,ref:e})});ib.displayName=DM;var MM="MenuSub",[e7,ob]=Hi(MM),qs="MenuSubTrigger",sb=v.forwardRef((t,e)=>{const n=Ki(qs,t.__scopeMenu),r=al(qs,t.__scopeMenu),i=ob(qs,t.__scopeMenu),o=yg(qs,t.__scopeMenu),s=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:u}=o,c={__scopeMenu:t.__scopeMenu},d=v.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),u(null)}},[a,u]),b.jsx(mg,{asChild:!0,...c,children:b.jsx(QT,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":ub(n.open),...t,ref:gd(e,i.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:fe(t.onPointerMove,Oa(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:fe(t.onPointerLeave,Oa(h=>{var g,w;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const E=(w=n.content)==null?void 0:w.dataset.side,C=E==="right",y=C?-5:5,_=p[C?"left":"right"],x=p[C?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:_,y:p.top},{x,y:p.top},{x,y:p.bottom},{x:_,y:p.bottom}],side:E}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:fe(t.onKeyDown,h=>{var g;const p=o.searchRef.current!=="";t.disabled||p&&h.key===" "||mM[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});sb.displayName=qs;var ab="MenuSubContent",lb=v.forwardRef((t,e)=>{const n=HT(Qt,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Ki(Qt,t.__scopeMenu),s=al(Qt,t.__scopeMenu),a=ob(ab,t.__scopeMenu),u=v.useRef(null),c=kt(e,u);return b.jsx(Ma.Provider,{scope:t.__scopeMenu,children:b.jsx(il,{present:r||o.open,children:b.jsx(Ma.Slot,{scope:t.__scopeMenu,children:b.jsx(vg,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;s.isUsingKeyboardRef.current&&((h=u.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:fe(t.onFocusOutside,d=>{d.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:fe(t.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:fe(t.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),p=gM[s.dir].includes(d.key);h&&p&&(o.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});lb.displayName=ab;function ub(t){return t?"open":"closed"}function Tc(t){return t==="indeterminate"}function xg(t){return Tc(t)?"indeterminate":t?"checked":"unchecked"}function OM(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function LM(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function VM(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=LM(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const u=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function FM(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,u=e[o].y,c=e[s].x,d=e[s].y;u>r!=d>r&&n<(c-a)*(r-u)/(d-u)+a&&(i=!i)}return i}function jM(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return FM(n,e)}function Oa(t){return e=>e.pointerType==="mouse"?t(e):void 0}var UM=WT,zM=mg,$M=KT,BM=GT,WM=_g,HM=qT,KM=Td,GM=YT,qM=JT,QM=eb,YM=nb,XM=rb,JM=ib,ZM=sb,eO=lb,Eg="DropdownMenu",[tO,t7]=ls(Eg,[$T]),Tt=$T(),[nO,cb]=tO(Eg),db=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=t,u=Tt(e),c=v.useRef(null),[d=!1,h]=XE({prop:i,defaultProp:o,onChange:s});return b.jsx(nO,{scope:e,triggerId:gp(),triggerRef:c,contentId:gp(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(p=>!p),[h]),modal:a,children:b.jsx(UM,{...u,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};db.displayName=Eg;var fb="DropdownMenuTrigger",hb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,o=cb(fb,n),s=Tt(n);return b.jsx(zM,{asChild:!0,...s,children:b.jsx(Ye.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:gd(e,o.triggerRef),onPointerDown:fe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:fe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});hb.displayName=fb;var rO="DropdownMenuPortal",pb=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Tt(e);return b.jsx($M,{...r,...n})};pb.displayName=rO;var mb="DropdownMenuContent",gb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=cb(mb,n),o=Tt(n),s=v.useRef(!1);return b.jsx(BM,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:e,onCloseAutoFocus:fe(t.onCloseAutoFocus,a=>{var u;s.current||(u=i.triggerRef.current)==null||u.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:fe(t.onInteractOutside,a=>{const u=a.detail.originalEvent,c=u.button===0&&u.ctrlKey===!0,d=u.button===2||c;(!i.modal||d)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gb.displayName=mb;var iO="DropdownMenuGroup",oO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tt(n);return b.jsx(WM,{...i,...r,ref:e})});oO.displayName=iO;var sO="DropdownMenuLabel",yb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tt(n);return b.jsx(HM,{...i,...r,ref:e})});yb.displayName=sO;var aO="DropdownMenuItem",vb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tt(n);return b.jsx(KM,{...i,...r,ref:e})});vb.displayName=aO;var lO="DropdownMenuCheckboxItem",_b=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tt(n);return b.jsx(GM,{...i,...r,ref:e})});_b.displayName=lO;var uO="DropdownMenuRadioGroup",cO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tt(n);return b.jsx(qM,{...i,...r,ref:e})});cO.displayName=uO;var dO="DropdownMenuRadioItem",wb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tt(n);return b.jsx(QM,{...i,...r,ref:e})});wb.displayName=dO;var fO="DropdownMenuItemIndicator",xb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tt(n);return b.jsx(YM,{...i,...r,ref:e})});xb.displayName=fO;var hO="DropdownMenuSeparator",Eb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tt(n);return b.jsx(XM,{...i,...r,ref:e})});Eb.displayName=hO;var pO="DropdownMenuArrow",mO=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tt(n);return b.jsx(JM,{...i,...r,ref:e})});mO.displayName=pO;var gO="DropdownMenuSubTrigger",Tb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tt(n);return b.jsx(ZM,{...i,...r,ref:e})});Tb.displayName=gO;var yO="DropdownMenuSubContent",bb=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tt(n);return b.jsx(eO,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bb.displayName=yO;var vO=db,_O=hb,wO=pb,Ib=gb,Sb=yb,Cb=vb,Rb=_b,Ab=wb,Pb=xb,kb=Eb,Nb=Tb,Db=bb;const xO=vO,EO=_O,TO=v.forwardRef(({className:t,inset:e,children:n,...r},i)=>b.jsxs(Nb,{ref:i,className:vn("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,b.jsx(xE,{className:"ml-auto"})]}));TO.displayName=Nb.displayName;const bO=v.forwardRef(({className:t,...e},n)=>b.jsx(Db,{ref:n,className:vn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));bO.displayName=Db.displayName;const Mb=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>b.jsx(wO,{children:b.jsx(Ib,{ref:r,sideOffset:e,className:vn("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Mb.displayName=Ib.displayName;const Lu=v.forwardRef(({className:t,inset:e,...n},r)=>b.jsx(Cb,{ref:r,className:vn("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Lu.displayName=Cb.displayName;const IO=v.forwardRef(({className:t,children:e,checked:n,...r},i)=>b.jsxs(Rb,{ref:i,className:vn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[b.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(Pb,{children:b.jsx(rk,{className:"h-4 w-4"})})}),e]}));IO.displayName=Rb.displayName;const SO=v.forwardRef(({className:t,children:e,...n},r)=>b.jsxs(Ab,{ref:r,className:vn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[b.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(Pb,{children:b.jsx(ik,{className:"h-2 w-2 fill-current"})})}),e]}));SO.displayName=Ab.displayName;const CO=v.forwardRef(({className:t,inset:e,...n},r)=>b.jsx(Sb,{ref:r,className:vn("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));CO.displayName=Sb.displayName;const RO=v.forwardRef(({className:t,...e},n)=>b.jsx(kb,{ref:n,className:vn("-mx-1 my-1 h-px bg-muted",t),...e}));RO.displayName=kb.displayName;function Ze(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var AO=typeof Symbol=="function"&&Symbol.observable||"@@observable",i_=AO,th=()=>Math.random().toString(36).substring(7).split("").join("."),PO={INIT:`@@redux/INIT${th()}`,REPLACE:`@@redux/REPLACE${th()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${th()}`},bc=PO;function Tg(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Ob(t,e,n){if(typeof t!="function")throw new Error(Ze(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ze(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ze(1));return n(Ob)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,u=!1;function c(){s===o&&(s=new Map,o.forEach((C,y)=>{s.set(y,C)}))}function d(){if(u)throw new Error(Ze(3));return i}function h(C){if(typeof C!="function")throw new Error(Ze(4));if(u)throw new Error(Ze(5));let y=!0;c();const _=a++;return s.set(_,C),function(){if(y){if(u)throw new Error(Ze(6));y=!1,c(),s.delete(_),o=null}}}function p(C){if(!Tg(C))throw new Error(Ze(7));if(typeof C.type>"u")throw new Error(Ze(8));if(typeof C.type!="string")throw new Error(Ze(17));if(u)throw new Error(Ze(9));try{u=!0,i=r(i,C)}finally{u=!1}return(o=s).forEach(_=>{_()}),C}function g(C){if(typeof C!="function")throw new Error(Ze(10));r=C,p({type:bc.REPLACE})}function w(){const C=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Ze(11));function _(){const k=y;k.next&&k.next(d())}return _(),{unsubscribe:C(_)}},[i_](){return this}}}return p({type:bc.INIT}),{dispatch:p,subscribe:h,getState:d,replaceReducer:g,[i_]:w}}function kO(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:bc.INIT})>"u")throw new Error(Ze(12));if(typeof n(void 0,{type:bc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ze(13))})}function NO(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{kO(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let u=!1;const c={};for(let d=0;d<r.length;d++){const h=r[d],p=n[h],g=s[h],w=p(g,a);if(typeof w>"u")throw a&&a.type,new Error(Ze(14));c[h]=w,u=u||w!==g}return u=u||r.length!==Object.keys(s).length,u?c:s}}function Ic(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function DO(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Ze(15))};const s={getState:i.getState,dispatch:(u,...c)=>o(u,...c)},a=t.map(u=>u(s));return o=Ic(...a)(i.dispatch),{...i,dispatch:o}}}function MO(t){return Tg(t)&&"type"in t&&typeof t.type=="string"}var Lb=Symbol.for("immer-nothing"),o_=Symbol.for("immer-draftable"),Ut=Symbol.for("immer-state");function an(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Go=Object.getPrototypeOf;function Li(t){return!!t&&!!t[Ut]}function sr(t){var e;return t?Vb(t)||Array.isArray(t)||!!t[o_]||!!((e=t.constructor)!=null&&e[o_])||Id(t)||Sd(t):!1}var OO=Object.prototype.constructor.toString();function Vb(t){if(!t||typeof t!="object")return!1;const e=Go(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===OO}function Sc(t,e){bd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function bd(t){const e=t[Ut];return e?e.type_:Array.isArray(t)?1:Id(t)?2:Sd(t)?3:0}function Tp(t,e){return bd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Fb(t,e,n){const r=bd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function LO(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Id(t){return t instanceof Map}function Sd(t){return t instanceof Set}function wi(t){return t.copy_||t.base_}function bp(t,e){if(Id(t))return new Map(t);if(Sd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Vb(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ut];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(Go(t),r)}else{const r=Go(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function bg(t,e=!1){return Cd(t)||Li(t)||!sr(t)||(bd(t)>1&&(t.set=t.add=t.clear=t.delete=VO),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>bg(r,!0))),t}function VO(){an(2)}function Cd(t){return Object.isFrozen(t)}var FO={};function Vi(t){const e=FO[t];return e||an(0,t),e}var La;function jb(){return La}function jO(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function s_(t,e){e&&(Vi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ip(t){Sp(t),t.drafts_.forEach(UO),t.drafts_=null}function Sp(t){t===La&&(La=t.parent_)}function a_(t){return La=jO(La,t)}function UO(t){const e=t[Ut];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function l_(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ut].modified_&&(Ip(e),an(4)),sr(t)&&(t=Cc(e,t),e.parent_||Rc(e,t)),e.patches_&&Vi("Patches").generateReplacementPatches_(n[Ut].base_,t,e.patches_,e.inversePatches_)):t=Cc(e,n,[]),Ip(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Lb?t:void 0}function Cc(t,e,n){if(Cd(e))return e;const r=e[Ut];if(!r)return Sc(e,(i,o)=>u_(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Rc(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),Sc(o,(a,u)=>u_(t,r,i,a,u,n,s)),Rc(t,i,!1),n&&t.patches_&&Vi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function u_(t,e,n,r,i,o,s){if(Li(i)){const a=o&&e&&e.type_!==3&&!Tp(e.assigned_,r)?o.concat(r):void 0,u=Cc(t,i,a);if(Fb(n,r,u),Li(u))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(sr(i)&&!Cd(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Cc(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Rc(t,i)}}function Rc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&bg(e,n)}function zO(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:jb(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Ig;n&&(i=[r],o=Va);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var Ig={get(t,e){if(e===Ut)return t;const n=wi(t);if(!Tp(n,e))return $O(t,n,e);const r=n[e];return t.finalized_||!sr(r)?r:r===nh(t.base_,e)?(rh(t),t.copy_[e]=Rp(r,t)):r},has(t,e){return e in wi(t)},ownKeys(t){return Reflect.ownKeys(wi(t))},set(t,e,n){const r=Ub(wi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=nh(wi(t),e),o=i==null?void 0:i[Ut];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(LO(n,i)&&(n!==void 0||Tp(t.base_,e)))return!0;rh(t),Cp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return nh(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,rh(t),Cp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=wi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){an(11)},getPrototypeOf(t){return Go(t.base_)},setPrototypeOf(){an(12)}},Va={};Sc(Ig,(t,e)=>{Va[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Va.deleteProperty=function(t,e){return Va.set.call(this,t,e,void 0)};Va.set=function(t,e,n){return Ig.set.call(this,t[0],e,n,t[0])};function nh(t,e){const n=t[Ut];return(n?wi(n):t)[e]}function $O(t,e,n){var i;const r=Ub(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Ub(t,e){if(!(e in t))return;let n=Go(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Go(n)}}function Cp(t){t.modified_||(t.modified_=!0,t.parent_&&Cp(t.parent_))}function rh(t){t.copy_||(t.copy_=bp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var BO=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(u=o,...c){return s.produce(u,d=>n.call(this,d,...c))}}typeof n!="function"&&an(6),r!==void 0&&typeof r!="function"&&an(7);let i;if(sr(e)){const o=a_(this),s=Rp(e,void 0);let a=!0;try{i=n(s),a=!1}finally{a?Ip(o):Sp(o)}return s_(o,r),l_(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Lb&&(i=void 0),this.autoFreeze_&&bg(i,!0),r){const o=[],s=[];Vi("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else an(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,u=>e(u,...a));let r,i;return[this.produce(e,n,(s,a)=>{r=s,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){sr(t)||an(8),Li(t)&&(t=WO(t));const e=a_(this),n=Rp(t,void 0);return n[Ut].isManual_=!0,Sp(e),n}finishDraft(t,e){const n=t&&t[Ut];(!n||!n.isManual_)&&an(9);const{scope_:r}=n;return s_(r,e),l_(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Vi("Patches").applyPatches_;return Li(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Rp(t,e){const n=Id(t)?Vi("MapSet").proxyMap_(t,e):Sd(t)?Vi("MapSet").proxySet_(t,e):zO(t,e);return(e?e.scope_:jb()).drafts_.push(n),n}function WO(t){return Li(t)||an(10,t),zb(t)}function zb(t){if(!sr(t)||Cd(t))return t;const e=t[Ut];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=bp(t,e.scope_.immer_.useStrictShallowCopy_)}else n=bp(t,!0);return Sc(n,(r,i)=>{Fb(n,r,zb(i))}),e&&(e.finalized_=!1),n}var zt=new BO,$b=zt.produce;zt.produceWithPatches.bind(zt);zt.setAutoFreeze.bind(zt);zt.setUseStrictShallowCopy.bind(zt);zt.applyPatches.bind(zt);zt.createDraft.bind(zt);zt.finishDraft.bind(zt);function Bb(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var HO=Bb(),KO=Bb,GO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ic:Ic.apply(null,arguments)};function c_(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Xn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>MO(r)&&r.type===t,n}var Wb=class Qs extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Qs.prototype)}static get[Symbol.species](){return Qs}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Qs(...e[0].concat(this)):new Qs(...e.concat(this))}};function d_(t){return sr(t)?$b(t,()=>{}):t}function f_(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function qO(t){return typeof t=="boolean"}var QO=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new Wb;return n&&(qO(n)?s.push(HO):s.push(KO(n.extraArgument))),s},YO="RTK_autoBatch",h_=t=>e=>{setTimeout(e,t)},XO=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const a=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:h_(10):t.type==="callback"?t.queueNotification:h_(t.timeout),c=()=>{s=!1,o&&(o=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),p=r.subscribe(h);return a.add(d),()=>{p(),a.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[YO]),o=!i,o&&(s||(s=!0,u(c))),r.dispatch(d)}finally{i=!0}}})},JO=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Wb(t);return r&&i.push(XO(typeof r=="object"?r:void 0)),i};function ZO(t){const e=QO(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Tg(n))a=NO(n);else throw new Error(Xn(1));let u;typeof r=="function"?u=r(e):u=e();let c=Ic;i&&(c=GO({trace:!1,...typeof i=="object"&&i}));const d=DO(...u),h=JO(d);let p=typeof s=="function"?s(h):h();const g=c(...p);return Ob(a,o,g)}function Hb(t){const e={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Xn(28));if(a in e)throw new Error(Xn(29));return e[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function e3(t){return typeof t=="function"}function t3(t,e){let[n,r,i]=Hb(e),o;if(e3(t))o=()=>d_(t());else{const a=d_(t);o=()=>a}function s(a=o(),u){let c=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(Li(d)){const g=h(d,u);return g===void 0?d:g}else{if(sr(d))return $b(d,p=>h(p,u));{const p=h(d,u);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},a)}return s.getInitialState=o,s}var n3=Symbol.for("rtk-slice-createasyncthunk");function r3(t,e){return`${t}/${e}`}function i3({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[n3];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Xn(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(a3()):i.reducers)||{},u=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(x,k){const O=typeof x=="string"?x:x.type;if(!O)throw new Error(Xn(12));if(O in c.sliceCaseReducersByType)throw new Error(Xn(13));return c.sliceCaseReducersByType[O]=k,d},addMatcher(x,k){return c.sliceMatchers.push({matcher:x,reducer:k}),d},exposeAction(x,k){return c.actionCreators[x]=k,d},exposeCaseReducer(x,k){return c.sliceCaseReducersByName[x]=k,d}};u.forEach(x=>{const k=a[x],O={reducerName:x,type:r3(o,x),createNotation:typeof i.reducers=="function"};u3(k)?d3(O,k,d,e):l3(O,k,d)});function h(){const[x={},k=[],O=void 0]=typeof i.extraReducers=="function"?Hb(i.extraReducers):[i.extraReducers],M={...x,...c.sliceCaseReducersByType};return t3(i.initialState,I=>{for(let T in M)I.addCase(T,M[T]);for(let T of c.sliceMatchers)I.addMatcher(T.matcher,T.reducer);for(let T of k)I.addMatcher(T.matcher,T.reducer);O&&I.addDefaultCase(O)})}const p=x=>x,g=new Map;let w;function E(x,k){return w||(w=h()),w(x,k)}function C(){return w||(w=h()),w.getInitialState()}function y(x,k=!1){function O(I){let T=I[x];return typeof T>"u"&&k&&(T=C()),T}function M(I=p){const T=f_(g,k,()=>new WeakMap);return f_(T,I,()=>{const R={};for(const[A,N]of Object.entries(i.selectors??{}))R[A]=o3(N,I,C,k);return R})}return{reducerPath:x,getSelectors:M,get selectors(){return M(O)},selectSlice:O}}const _={name:o,reducer:E,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:C,...y(s),injectInto(x,{reducerPath:k,...O}={}){const M=k??s;return x.inject({reducerPath:M,reducer:E},O),{..._,...y(M,!0)}}};return _}}function o3(t,e,n,r){function i(o,...s){let a=e(o);return typeof a>"u"&&r&&(a=n()),t(a,...s)}return i.unwrapped=t,i}var s3=i3();function a3(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function l3({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!c3(r))throw new Error(Xn(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?c_(t,s):c_(t))}function u3(t){return t._reducerDefinitionType==="asyncThunk"}function c3(t){return t._reducerDefinitionType==="reducerWithPrepare"}function d3({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Xn(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:u,settled:c,options:d}=n,h=i(t,o,d);r.exposeAction(e,h),s&&r.addCase(h.fulfilled,s),a&&r.addCase(h.pending,a),u&&r.addCase(h.rejected,u),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:s||su,pending:a||su,rejected:u||su,settled:c||su})}function su(){}function Xn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const f3={user:null},Kb=s3({name:"auth",initialState:f3,reducers:{setUser:(t,e)=>{t.user=e.payload},clearUser:t=>{t.user=null}}}),{setUser:ih,clearUser:h3}=Kb.actions,p3=Kb.reducer,m3="/assets/userAvatar-BsTZ1w2w.jpg",p_=({name:t})=>{const e=CE(),n=()=>{e(h3())};return b.jsx("div",{className:"flex items-center gap-4",children:b.jsxs(xO,{children:[b.jsx(EO,{children:b.jsxs(qE,{className:"cursor-pointer",children:[b.jsx(QE,{src:m3,alt:t}),b.jsx(YE,{children:t.charAt(0).toUpperCase()})]})}),b.jsxs(Mb,{align:"end",className:"bg-gray-900 text-white rounded-lg p-1 mt-2 border-0 ",children:[b.jsx(Lu,{className:"text-purple-500 font-bold pointer-events-none",children:t}),b.jsx(Lu,{className:"cursor-pointer",children:"Profile"}),b.jsx(Lu,{onClick:n,className:"cursor-pointer",children:"Logout"})]})]})})},g3=()=>{const t=RE(s=>s.auth.user),[e,n]=v.useState(!1),[r,i]=v.useState(!1),o=()=>{i(!r)};return b.jsx("nav",{className:"fixed w-full z-50 bg-black/80 backdrop-blur-md ",children:b.jsxs("div",{className:"max-w-87rem mx-auto px-4",children:[b.jsxs("div",{className:"flex justify-between items-center h-24",children:[b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("div",{children:b.jsx("img",{className:"max-w-20 rounded-full",src:EE,alt:"logo"})})}),b.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[b.jsxs("div",{className:"cursor-pointer relative",onClick:o,children:[b.jsx("span",{className:"text-gray-300 hover:text-white transition-colors",children:"Products"}),r&&b.jsxs("div",{className:" bg-gray-900 text-white rounded-lg shadow-lg p-1 mt-2 absolute",children:[b.jsx($n,{to:"/",className:"block p-2 hover:text-purple-400",children:"Hardware"}),b.jsx($n,{to:"/software",className:"block p-2 hover:text-purple-400",children:"Software"})]})]}),b.jsx("a",{href:"#application",className:"text-gray-300 hover:text-white transition-colors",children:"Applications"}),b.jsx("a",{href:"#about",className:"text-gray-300 hover:text-white transition-colors",children:"About"}),t?b.jsx(p_,{name:t.name}):b.jsx($n,{to:"/signIn",children:b.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-full text-white transition-colors",children:"Sign In"})})]}),b.jsx("button",{className:"md:hidden text-gray-300 hover:text-white",onClick:()=>n(!e),children:e?b.jsx(hk,{className:"w-6 h-6"}):b.jsx(lk,{className:"w-6 h-6"})})]}),e&&b.jsx("div",{className:"md:hidden py-4",children:b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors px-4 py-2",onClick:o,children:["Products",r&&b.jsxs("div",{className:"flex flex-col bg-gray-900 text-white rounded-lg shadow-lg p-1 mt-1 w-max",children:[b.jsx($n,{to:"/",className:"p-2 hover:text-purple-400",children:"Hardware"}),b.jsx($n,{to:"/software",className:"p-2 hover:text-purple-400",children:"Software"})]})]}),b.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors px-4 py-2",children:"Applications"}),b.jsx("a",{href:"#",className:"text-gray-300 hover:text-white transition-colors px-4 py-2",children:"About"}),t?b.jsx("div",{className:"ml-3",children:b.jsx(p_,{name:t.name})}):b.jsx($n,{to:"/signIn",children:b.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-full text-white transition-colors",children:"Sign In"})})]})})]})})},y3="/assets/ZooveLogoMain-Cds3pdYn.png",v3=()=>b.jsx("footer",{className:"bg-black border-t border-gray-800",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[b.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[b.jsxs("div",{children:[b.jsx("div",{className:"flex items-center gap-2 mb-4",children:b.jsx("img",{className:"max-w-24",src:y3,alt:"logo"})}),b.jsx("p",{className:"text-gray-400 text-sm",children:"Pioneering the future of space imaging with neuromorphic technology."})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-white font-semibold mb-4",children:"Company"}),b.jsxs("ul",{className:"space-y-2",children:[b.jsx("li",{children:b.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm",children:"About"})}),b.jsx("li",{children:b.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm",children:"Careers"})}),b.jsx("li",{children:b.jsx($n,{to:"/blog",target:"_blank",className:"text-gray-400 hover:text-white text-sm",children:"Press"})}),b.jsx("li",{children:b.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm",children:"Contact"})})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-white font-semibold mb-4",children:"Technology"}),b.jsxs("ul",{className:"space-y-2",children:[b.jsx("li",{children:b.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm",children:"Solutions"})}),b.jsx("li",{children:b.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm",children:"Research"})}),b.jsx("li",{children:b.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm",children:"Documentation"})}),b.jsx("li",{children:b.jsx("a",{href:"#",className:"text-gray-400 hover:text-white text-sm",children:"Patents"})})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-white font-semibold mb-4",children:"Connect"}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("a",{href:"https://www.linkedin.com/company/zoove-space/about/",className:"text-gray-400 hover:text-white",target:"_blank",children:b.jsx(ak,{className:"w-5 h-5"})}),b.jsx("a",{href:"https://www.instagram.com/zoove.space/",className:"text-gray-400 hover:text-white",target:"_blank",children:b.jsx(sk,{className:"w-5 h-5"})})]})]})]}),b.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400 text-sm",children:b.jsxs("p",{children:[" ",new Date().getFullYear()," Zoove. All rights reserved."]})})]})});function _3(){return b.jsxs("div",{className:"min-h-screen bg-black text-white scroll-smooth overflow-x-hidden",children:[b.jsx(g3,{}),b.jsxs("section",{className:"relative h-screen flex items-center justify-center overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0",children:[b.jsx("img",{src:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80",alt:"Space Background",className:"w-full h-full object-cover opacity-40"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 to-black/30"})]}),b.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 text-center",children:[b.jsx("h1",{className:"text-6xl md:text-7xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Revolutionizing Space Imaging"}),b.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Advanced neuromorphic-based hybrid imaging systems for next-generation Earth & Space applications"}),b.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-full text-lg font-semibold transition-all flex items-center gap-2 mx-auto",children:["Explore Our Technology ",b.jsx(xE,{className:"w-5 h-5"})]})]})]}),b.jsx("section",{className:"py-20 bg-gradient-to-b from-black to-gray-900",id:"technology",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[b.jsx("h2",{className:"text-4xl font-bold text-center mb-16",children:"Revolutionary Technology"}),b.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:b.jsx(tk,{className:"w-12 h-12 text-blue-400"}),title:"Neuromorphic Processing",description:"Bio-inspired computing architecture for real-time image processing"},{icon:b.jsx(nk,{className:"w-12 h-12 text-purple-400"}),title:"Hybrid Imaging",description:"Multi-spectral fusion technology for unprecedented clarity"},{icon:b.jsx(dk,{className:"w-12 h-12 text-cyan-400"}),title:"Space-Grade Systems",description:"Radiation-hardened hardware for extreme environments"}].map((t,e)=>b.jsxs("div",{className:"bg-gray-800/50 p-8 rounded-xl backdrop-blur-sm hover:transform hover:-translate-y-1 transition-all",children:[b.jsx("div",{className:"mb-4",children:t.icon}),b.jsx("h3",{className:"text-xl font-semibold mb-3",children:t.title}),b.jsx("p",{className:"text-gray-400",children:t.description})]},e))})]})}),b.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-900 to-black",id:"application",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[b.jsx("h2",{className:"text-4xl font-bold text-center mb-16",children:"Applications"}),b.jsx("div",{className:"grid md:grid-cols-2 gap-12",children:[{icon:b.jsx(ok,{className:"w-8 h-8"}),title:"Earth Observation",description:"High-resolution imaging for climate monitoring, agriculture, and urban planning"},{icon:b.jsx(ck,{className:"w-8 h-8"}),title:"Space Exploration",description:"Advanced imaging systems for deep space missions and planetary research"},{icon:b.jsx(fk,{className:"w-8 h-8"}),title:"Defense & Security",description:"Real-time surveillance and reconnaissance capabilities"},{icon:b.jsx(uk,{className:"w-8 h-8"}),title:"Scientific Research",description:"Cutting-edge tools for astronomical and atmospheric studies"}].map((t,e)=>b.jsxs("div",{className:"flex gap-6 items-start p-6 rounded-lg bg-gray-800/30 hover:bg-gray-800/50 transition-all",children:[b.jsx("div",{className:"p-3 bg-blue-600/20 rounded-lg",children:t.icon}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),b.jsx("p",{className:"text-gray-400",children:t.description})]})]},e))})]})}),b.jsxs("section",{className:"py-20 relative",id:"about",children:[b.jsxs("div",{className:"absolute inset-0",children:[b.jsx("img",{src:"https://images.unsplash.com/photo-1446776811953-b23d57bd21aa?auto=format&fit=crop&q=80",alt:"Space",className:"w-full h-full object-cover opacity-20"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-black"})]}),b.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto text-center px-4",children:[b.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Transform Space Imaging?"}),b.jsx("p",{className:"text-xl text-gray-400 mb-8",children:"Join us in shaping the future of space technology with our revolutionary imaging solutions."}),b.jsx("button",{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-full text-lg font-semibold transition-all",children:b.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=questions@zoove.space",target:"_blank",children:"Contact Our Team"})})]})]}),b.jsx(v3,{})]})}const w3=({validateUser:t})=>{const e=v.useRef(null),n=v.useRef(null),r=v.useRef(null);return b.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"45%"},children:[b.jsxs("div",{style:{margin:5},children:[b.jsx("label",{htmlFor:"checkbox",children:"Admin:"}),b.jsx("input",{type:"checkbox",ref:e,id:"checkbox",style:{marginLeft:"35px",transform:"Scale(1.5)"}})]}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",margin:5},children:[b.jsx("label",{htmlFor:"email",children:"Email:"}),b.jsx("input",{ref:n,type:"email",placeholder:"Enter Your Email",id:"email",style:{padding:"3px",borderRadius:"5px"}})]}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",margin:5},children:[b.jsx("label",{htmlFor:"password",children:"Password"}),b.jsx("input",{ref:r,type:"password",placeholder:"Enter Your Password",id:"password",style:{padding:"3px",borderRadius:"5px"}})]})]})},x3=()=>b.jsx("div",{children:"BlogSignup"}),E3=()=>b.jsx("main",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-white",children:b.jsx("div",{className:"max-w-6xl mx-auto px-4 py-32",children:b.jsxs("div",{className:"relative mb-16",children:[b.jsx("div",{className:"absolute inset-0 blur-3xl bg-gradient-to-r from-purple-500/30 via-pink-500/30 to-red-500/30 -z-10"}),b.jsx("h1",{className:"text-7xl font-bold mb-4 text-center bg-gradient-to-r from-purple-400 via-pink-500 to-red-500 text-transparent bg-clip-text animate-gradient",children:"Tech Explorer"}),b.jsx("p",{className:"text-2xl text-center text-gray-400",children:"Explore The World Of Modern Neuromorphic Space Imaging"})]})})});function T3(){const[t,e]=v.useState(!1),[n,r]=v.useState(!0),i=s=>{console.log("yess it came 4"),e(s)},o=()=>{r(!n)};return b.jsx("div",{children:t?b.jsx(E3,{}):b.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"40%",backgroundColor:"#dcdcdc",alignItems:"center",margin:"auto",top:"20px",position:"relative"},children:[b.jsx("button",{onClick:o,style:{color:"purple",textDecoration:"underline",fontSize:"large",fontWeight:"500",margin:"10px"},children:n?"SignUp":"Login"}),n?b.jsx(w3,{validateUser:i}):b.jsx(x3,{})]})})}const b3=({results:t})=>!t||t.length===0?b.jsx("div",{className:"mt-8 text-center text-gray-400",children:"No results were generated. Check your .mat file format."}):b.jsxs("div",{className:"max-w-7xl mx-auto px-4 mt-8",children:[b.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Processed Results"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,n)=>{var r,i,o,s;return b.jsxs("div",{className:"bg-gray-800 rounded-lg shadow p-4 flex flex-col items-center text-center",children:[b.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:e.variable||"Untitled"}),e.file?b.jsx("img",{src:e.file,alt:e.variable,className:"max-h-48 w-auto object-contain mb-2 rounded border border-gray-700"}):b.jsx("div",{className:"text-gray-400 mb-2",children:e.value&&b.jsx("p",{className:"text-sm",children:e.value})}),e.stats&&b.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["mean=",(r=e.stats.mean)==null?void 0:r.toFixed(2),", std=",(i=e.stats.std)==null?void 0:i.toFixed(2),", min=",(o=e.stats.min)==null?void 0:o.toFixed(2),", max=",(s=e.stats.max)==null?void 0:s.toFixed(2)]}),e.file&&e.value&&b.jsx("p",{className:"text-sm text-gray-400 mt-2",children:e.value})]},n)})})]}),I3=({fillData:t})=>{const e=RE(_=>_.auth.user),n=Xm(),[r,i]=v.useState("No file chosen"),[o,s]=v.useState(null),[a,u]=v.useState("0"),[c,d]=v.useState(0),[h,p]=v.useState(!1),[g,w]=v.useState("");v.useEffect(()=>{e||(alert("Please login to avail our service!!"),n("/signIn"))},[e,n]);const E=_=>{s(_.target.files[0]);const x=_.target.files[0];if(x)if(d(x.size),x.name.length>10){let k=x.name.lastIndexOf("."),O=x.name.substring(k),M=x.name.substring(0,9)+"..."+O;i(M)}else i(x.name);else i("No file chosen");w("")},C=_=>{u(_.target.value)},y=async()=>{if((e==null?void 0:e.name)==""&&(alert("please sign In !!"),n("/signIn")),!o){alert("Please select a valid file");return}c==0&&alert("please select a non empty file"),p(!0),w(""),t(null);const _=new FormData;_.append("file",o),_.append("mode",a),e!=null&&e.name&&_.append("userName",e.name),_.append("fileSize",c.toString());try{const k=await fetch("https://mat-visualizer.onrender.com/upload",{method:"POST",body:_});if(!k.ok)throw new Error(`Server error: ${k.status}`);const O=await k.json();t(O)}catch(x){console.error(x),w("Failed to upload or process the file.")}finally{p(!1)}};return b.jsxs("div",{className:"bg-gray-900 p-6 rounded-2xl shadow-lg w-full max-w-md text-center",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Upload H5 or Mat File"}),b.jsx("input",{type:"file",id:"file-input",accept:".h5,.mat",onChange:E,className:"hidden"}),b.jsxs("div",{className:"flex items-center justify-around space-x-2",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"file-input",className:"cursor-pointer bg-black hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-all",children:"Choose File"}),b.jsx("span",{className:"text-gray-400 text-sm ml-2",children:r})]}),b.jsxs("select",{name:"",id:"",className:"bg-black  p-2 rounded-lg cursor-pointer",onChange:C,children:[b.jsx("option",{value:"0",children:"EBSSA"}),b.jsx("option",{value:"1",children:"GENERIC"})]})]}),g&&b.jsx("p",{className:"text-red-500",children:g}),b.jsx("button",{className:"mt-4 w-full bg-purple-600 hover:bg-purple-700 text-white py-2 rounded-lg transition-all",onClick:y,children:h?"Uploading...":"Upload"})]})},S3=()=>{const[t,e]=v.useState(null),n=r=>{e(r)};return b.jsxs("div",{className:"relative w-full min-h-screen flex flex-col bg-black text-white scroll-smooth overflow-x-hidden ",children:[b.jsx("nav",{className:"fixed w-full z-50 bg-black/80 backdrop-blur-md ",children:b.jsx("div",{className:"max-w-87rem mx-auto px-4",children:b.jsxs("div",{className:"flex justify-between items-center h-24",children:[b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("img",{className:"max-w-20 rounded-full",src:EE,alt:"logo"})}),b.jsxs("div",{className:"flex flex-col gap-1 md:flex-row md:gap-8 items-cente",children:[b.jsx("a",{href:"/software",className:"text-gray-300 hover:text-white transition-colors",children:"Mat Visualizer"}),b.jsx("a",{href:"/software",className:"text-gray-300 hover:text-white transition-colors",children:"Other softwares"}),b.jsx("a",{href:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Home"})]})]})})}),b.jsx("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center p-4",children:t?b.jsxs(b.Fragment,{children:[b.jsx(b3,{results:t}),b.jsx("div",{className:"mt-6",children:b.jsx("button",{onClick:()=>e(null),className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded",children:"Upload Another File"})})]}):b.jsx(I3,{fillData:n})}),b.jsx("div",{className:"border-t border-gray-800 text-center text-gray-400 text-sm mt-8 py-4",children:b.jsxs("p",{children:[" ",new Date().getFullYear()," Zoove. All rights reserved."]})})]})};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},C3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},qb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;u||(g=64,s||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||h==null)throw new R3;const p=o<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A3=function(t){const e=Gb(t);return qb.encodeByteArray(e,!0)},Ac=function(t){return A3(t).replace(/\./g,"")},Qb=function(t){try{return qb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=()=>P3().__FIREBASE_DEFAULTS__,N3=()=>{if(typeof process>"u"||typeof m_>"u")return;const t=m_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qb(t[1]);return e&&JSON.parse(e)},Rd=()=>{try{return k3()||N3()||D3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yb=t=>{var e,n;return(n=(e=Rd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},M3=t=>{const e=Yb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xb=()=>{var t;return(t=Rd())===null||t===void 0?void 0:t.config},Jb=t=>{var e;return(e=Rd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ac(JSON.stringify(n)),Ac(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function F3(){var t;const e=(t=Rd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $3(){const t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function B3(){return!F3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W3(){try{return typeof indexedDB=="object"}catch{return!1}}function H3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="FirebaseError";class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=K3,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ll.prototype.create)}}class ll{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?G3(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new hr(i,a,r)}}function G3(t,e){return t.replace(q3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const q3=/\{\$([^}]+)}/g;function Q3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(g_(o)&&g_(s)){if(!Pc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function g_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Y3(t,e){const n=new X3(t,e);return n.subscribe.bind(n)}class X3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");J3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=oh),i.error===void 0&&(i.error=oh),i.complete===void 0&&(i.complete=oh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function oh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t){return t&&t._delegate?t._delegate:t}class Fi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new O3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tL(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eL(t){return t===xi?void 0:t}function tL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const rL={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},iL=ae.INFO,oL={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},sL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=iL,this._logHandler=sL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const aL=(t,e)=>e.some(n=>t instanceof n);let y_,v_;function lL(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uL(){return v_||(v_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zb=new WeakMap,Ap=new WeakMap,eI=new WeakMap,sh=new WeakMap,Cg=new WeakMap;function cL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(zr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Zb.set(n,t)}).catch(()=>{}),Cg.set(e,t),e}function dL(t){if(Ap.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ap.set(t,e)}let Pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fL(t){Pp=t(Pp)}function hL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ah(this),e,...n);return eI.set(r,e.sort?e.sort():[e]),zr(r)}:uL().includes(t)?function(...e){return t.apply(ah(this),e),zr(Zb.get(this))}:function(...e){return zr(t.apply(ah(this),e))}}function pL(t){return typeof t=="function"?hL(t):(t instanceof IDBTransaction&&dL(t),aL(t,lL())?new Proxy(t,Pp):t)}function zr(t){if(t instanceof IDBRequest)return cL(t);if(sh.has(t))return sh.get(t);const e=pL(t);return e!==t&&(sh.set(t,e),Cg.set(e,t)),e}const ah=t=>Cg.get(t);function mL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=zr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(zr(s.result),u.oldVersion,u.newVersion,zr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const gL=["get","getKey","getAll","getAllKeys","count"],yL=["put","add","delete","clear"],lh=new Map;function __(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lh.get(e))return lh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gL.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return lh.set(e,o),o}fL(t=>({...t,get:(e,n,r)=>__(e,n)||t.get(e,n,r),has:(e,n)=>!!__(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_L(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _L(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kp="@firebase/app",w_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Sg("@firebase/app"),wL="@firebase/app-compat",xL="@firebase/analytics-compat",EL="@firebase/analytics",TL="@firebase/app-check-compat",bL="@firebase/app-check",IL="@firebase/auth",SL="@firebase/auth-compat",CL="@firebase/database",RL="@firebase/data-connect",AL="@firebase/database-compat",PL="@firebase/functions",kL="@firebase/functions-compat",NL="@firebase/installations",DL="@firebase/installations-compat",ML="@firebase/messaging",OL="@firebase/messaging-compat",LL="@firebase/performance",VL="@firebase/performance-compat",FL="@firebase/remote-config",jL="@firebase/remote-config-compat",UL="@firebase/storage",zL="@firebase/storage-compat",$L="@firebase/firestore",BL="@firebase/vertexai",WL="@firebase/firestore-compat",HL="firebase",KL="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="[DEFAULT]",GL={[kp]:"fire-core",[wL]:"fire-core-compat",[EL]:"fire-analytics",[xL]:"fire-analytics-compat",[bL]:"fire-app-check",[TL]:"fire-app-check-compat",[IL]:"fire-auth",[SL]:"fire-auth-compat",[CL]:"fire-rtdb",[RL]:"fire-data-connect",[AL]:"fire-rtdb-compat",[PL]:"fire-fn",[kL]:"fire-fn-compat",[NL]:"fire-iid",[DL]:"fire-iid-compat",[ML]:"fire-fcm",[OL]:"fire-fcm-compat",[LL]:"fire-perf",[VL]:"fire-perf-compat",[FL]:"fire-rc",[jL]:"fire-rc-compat",[UL]:"fire-gcs",[zL]:"fire-gcs-compat",[$L]:"fire-fst",[WL]:"fire-fst-compat",[BL]:"fire-vertex","fire-js":"fire-js",[HL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Map,qL=new Map,Dp=new Map;function x_(t,e){try{t.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(Dp.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,t);for(const n of kc.values())x_(n,t);for(const n of qL.values())x_(n,t);return!0}function Rg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ln(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new ll("app","Firebase",QL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=KL;function tI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Np,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $r.create("bad-app-name",{appName:String(i)});if(n||(n=Xb()),!n)throw $r.create("no-options");const o=kc.get(i);if(o){if(Pc(n,o.options)&&Pc(r,o.config))return o;throw $r.create("duplicate-app",{appName:i})}const s=new nL(i);for(const u of Dp.values())s.addComponent(u);const a=new YL(n,r,s);return kc.set(i,a),a}function nI(t=Np){const e=kc.get(t);if(!e&&t===Np&&Xb())return tI();if(!e)throw $r.create("no-app",{appName:t});return e}function Br(t,e,n){var r;let i=(r=GL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(a.join(" "));return}qo(new Fi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="firebase-heartbeat-database",JL=1,Fa="firebase-heartbeat-store";let uh=null;function rI(){return uh||(uh=mL(XL,JL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fa)}catch(n){console.warn(n)}}}}).catch(t=>{throw $r.create("idb-open",{originalErrorMessage:t.message})})),uh}async function ZL(t){try{const n=(await rI()).transaction(Fa),r=await n.objectStore(Fa).get(iI(t));return await n.done,r}catch(e){if(e instanceof hr)ar.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ar.warn(n.message)}}}async function E_(t,e){try{const r=(await rI()).transaction(Fa,"readwrite");await r.objectStore(Fa).put(e,iI(t)),await r.done}catch(n){if(n instanceof hr)ar.warn(n.message);else{const r=$r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ar.warn(r.message)}}}function iI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=1024,t6=30;class n6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=T_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>t6){const s=o6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ar.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T_(),{heartbeatsToSend:r,unsentEntries:i}=r6(this._heartbeatsCache.heartbeats),o=Ac(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ar.warn(n),""}}}function T_(){return new Date().toISOString().substring(0,10)}function r6(t,e=e6){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),b_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),b_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class i6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W3()?H3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return E_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return E_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function b_(t){return Ac(JSON.stringify({version:2,heartbeats:t})).length}function o6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t){qo(new Fi("platform-logger",e=>new vL(e),"PRIVATE")),qo(new Fi("heartbeat",e=>new n6(e),"PRIVATE")),Br(kp,w_,t),Br(kp,w_,"esm2017"),Br("fire-js","")}s6("");var a6="firebase",l6="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(a6,l6,"app");function oI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u6=oI,sI=new ll("auth","Firebase",oI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Sg("@firebase/auth");function c6(t,...e){Nc.logLevel<=ae.WARN&&Nc.warn(`Auth (${hs}): ${t}`,...e)}function Vu(t,...e){Nc.logLevel<=ae.ERROR&&Nc.error(`Auth (${hs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,...e){throw Pg(t,...e)}function hn(t,...e){return Pg(t,...e)}function Ag(t,e,n){const r=Object.assign(Object.assign({},u6()),{[e]:n});return new ll("auth","Firebase",r).create(e,{appName:t.name})}function Ai(t){return Ag(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dn(t,"argument-error"),Ag(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sI.create(t,...e)}function ee(t,e,...n){if(!t)throw Pg(e,...n)}function Kn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function lr(t,e){t||Kn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function f6(){return I_()==="http:"||I_()==="https:"}function I_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f6()||U3()||"connection"in navigator)?navigator.onLine:!0}function p6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=V3()||z3()}get(){return h6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e){lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new cl(3e4,6e4);function Ng(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ps(t,e,n,r,i={}){return lI(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=ul(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},o);return j3()||(c.referrerPolicy="no-referrer"),aI.fetch()(uI(t,t.config.apiHost,n,a),c)})}async function lI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},m6),e);try{const i=new v6(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw au(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw au(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw au(t,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ag(t,d,c);Dn(t,d)}}catch(i){if(i instanceof hr)throw i;Dn(t,"network-request-failed",{message:String(i)})}}async function y6(t,e,n,r,i={}){const o=await ps(t,e,n,r,i);return"mfaPendingCredential"in o&&Dn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function uI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?kg(t.config,i):`${t.config.apiScheme}://${i}`}class v6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hn(this.auth,"network-request-failed")),g6.get())})}}function au(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(t,e){return ps(t,"POST","/v1/accounts:delete",e)}async function cI(t,e){return ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w6(t,e=!1){const n=en(t),r=await n.getIdToken(e),i=Dg(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:la(ch(i.auth_time)),issuedAtTime:la(ch(i.iat)),expirationTime:la(ch(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ch(t){return Number(t)*1e3}function Dg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vu("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qb(n);return i?JSON.parse(i):(Vu("Failed to decode base64 JWT payload"),null)}catch(i){return Vu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function S_(t){const e=Dg(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hr&&x6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function x6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=la(this.lastLoginAt),this.creationTime=la(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ja(t,cI(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?dI(o.providerUserInfo):[],a=b6(t.providerData,s),u=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Op(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function T6(t){const e=en(t);await Dc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dI(t){return t.map(e=>{var{providerId:n}=e,r=ol(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(t,e){const n=await lI(t,{},async()=>{const r=ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=uI(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aI.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function S6(t,e){return ps(t,"POST","/v2/accounts:revokeToken",Ng(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=S_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await I6(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Oo;return r&&(ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ol(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new E6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Op(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ja(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return w6(this,e)}reload(){return T6(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await ja(this,_6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:k,isAnonymous:O,providerData:M,stsTokenManager:I}=n;ee(x&&I,e,"internal-error");const T=Oo.fromJSON(this.name,I);ee(typeof x=="string",e,"internal-error"),_r(h,e.name),_r(p,e.name),ee(typeof k=="boolean",e,"internal-error"),ee(typeof O=="boolean",e,"internal-error"),_r(g,e.name),_r(w,e.name),_r(E,e.name),_r(C,e.name),_r(y,e.name),_r(_,e.name);const R=new Gn({uid:x,auth:e,email:p,emailVerified:k,displayName:h,isAnonymous:O,photoURL:w,phoneNumber:g,tenantId:E,stsTokenManager:T,createdAt:y,lastLoginAt:_});return M&&Array.isArray(M)&&(R.providerData=M.map(A=>Object.assign({},A))),C&&(R._redirectEventId=C),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Oo;i.updateFromServerResponse(n);const o=new Gn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dc(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?dI(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Oo;a.updateFromIdToken(r);const u=new Gn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Op(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;function qn(t){lr(t instanceof Function,"Expected a class definition");let e=C_.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,C_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fI.type="NONE";const R_=fI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t,e,n){return`firebase:${t}:${e}:${n}`}class Lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Fu(this.userKey,i.apiKey,o),this.fullPersistenceKey=Fu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Lo(qn(R_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||qn(R_);const s=Fu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){const h=Gn._fromJSON(e,d);c!==o&&(a=h),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Lo(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Lo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vI(e))return"Blackberry";if(_I(e))return"Webos";if(pI(e))return"Safari";if((e.includes("chrome/")||mI(e))&&!e.includes("edge/"))return"Chrome";if(yI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hI(t=gt()){return/firefox\//i.test(t)}function pI(t=gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mI(t=gt()){return/crios\//i.test(t)}function gI(t=gt()){return/iemobile/i.test(t)}function yI(t=gt()){return/android/i.test(t)}function vI(t=gt()){return/blackberry/i.test(t)}function _I(t=gt()){return/webos/i.test(t)}function Mg(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C6(t=gt()){var e;return Mg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R6(){return $3()&&document.documentMode===10}function wI(t=gt()){return Mg(t)||yI(t)||_I(t)||vI(t)||/windows phone/i.test(t)||gI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t,e=[]){let n;switch(t){case"Browser":n=A_(gt());break;case"Worker":n=`${A_(gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e={}){return ps(t,"GET","/v2/passwordPolicy",Ng(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=6;class N6{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:k6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P_(this),this.idTokenSubscription=new P_(this),this.beforeStateQueue=new A6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cI(this,{idToken:e}),r=await Gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ln(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&(u!=null&&u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ln(this.app))return Promise.reject(Ai(this));const n=e?en(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ln(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ln(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P6(this),n=new N6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ll("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await S6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qn(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&c6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ad(t){return en(t)}class P_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Y3(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M6(t){Og=t}function O6(t){return Og.loadJS(t)}function L6(){return Og.gapiScript}function V6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t,e){const n=Rg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Pc(o,e??{}))return i;Dn(i,"already-initialized")}return n.initialize({options:e})}function j6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function U6(t,e,n){const r=Ad(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=EI(e),{host:s,port:a}=z6(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),$6()}function EI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z6(t){const e=EI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:k_(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:k_(s)}}}function k_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,n){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t,e){return y6(t,"POST","/v1/accounts:signInWithIdp",Ng(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6="http://localhost";class ji extends TI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=ol(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new ji(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Vo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vo(e,n)}buildRequest(){const e={requestUri:B6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ul(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Lg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends dl{constructor(){super("facebook.com")}static credential(e){return ji._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends dl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ji._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bn.credential(n,r)}catch{return null}}}Bn.GOOGLE_SIGN_IN_METHOD="google.com";Bn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends dl{constructor(){super("github.com")}static credential(e){return ji._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends dl{constructor(){super("twitter.com")}static credential(e,n){return ji._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Gn._fromIdTokenResponse(e,r,i),s=N_(r);return new Qo({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=N_(r);return new Qo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function N_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends hr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mc(e,n,r,i)}}function bI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mc._fromErrorAndOperation(t,o,e,r):o})}async function W6(t,e,n=!1){const r=await ja(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e,n=!1){const{auth:r}=t;if(ln(r.app))return Promise.reject(Ai(r));const i="reauthenticate";try{const o=await ja(t,bI(r,i,e,t),n);ee(o.idToken,r,"internal-error");const s=Dg(o.idToken);ee(s,r,"internal-error");const{sub:a}=s;return ee(t.uid===a,r,"user-mismatch"),Qo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Dn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,e,n=!1){if(ln(t.app))return Promise.reject(Ai(t));const r="signIn",i=await bI(t,r,e),o=await Qo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function G6(t,e,n,r){return en(t).onIdTokenChanged(e,n,r)}function q6(t,e,n){return en(t).beforeAuthStateChanged(e,n)}const Oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oc,"1"),this.storage.removeItem(Oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=1e3,Y6=10;class SI extends II{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);R6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Y6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Q6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SI.type="LOCAL";const X6=SI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI extends II{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CI.type="SESSION";const RI=CI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Pd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),u=await J6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{const c=Vg("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return window}function e9(t){Rn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function t9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function r9(){return AI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="firebaseLocalStorageDb",i9=1,Lc="firebaseLocalStorage",kI="fbase_key";class fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kd(t,e){return t.transaction([Lc],e?"readwrite":"readonly").objectStore(Lc)}function o9(){const t=indexedDB.deleteDatabase(PI);return new fl(t).toPromise()}function Lp(){const t=indexedDB.open(PI,i9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lc,{keyPath:kI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lc)?e(r):(r.close(),await o9(),e(await Lp()))})})}async function D_(t,e,n){const r=kd(t,!0).put({[kI]:e,value:n});return new fl(r).toPromise()}async function s9(t,e){const n=kd(t,!1).get(e),r=await new fl(n).toPromise();return r===void 0?null:r.value}function M_(t,e){const n=kd(t,!0).delete(e);return new fl(n).toPromise()}const a9=800,l9=3;class NI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(r9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await t9(),!this.activeServiceWorker)return;this.sender=new Z6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lp();return await D_(e,Oc,"1"),await M_(e,Oc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>D_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>s9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=kd(i,!1).getAll();return new fl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NI.type="LOCAL";const u9=NI;new cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e){return e?qn(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends TI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function c9(t){return K6(t.auth,new Fg(t),t.bypassAuthState)}function d9(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),H6(n,new Fg(t),t.bypassAuthState)}async function f9(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),W6(n,new Fg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c9;case"linkViaPopup":case"linkViaRedirect":return f9;case"reauthViaPopup":case"reauthViaRedirect":return d9;default:Dn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=new cl(2e3,1e4);async function p9(t,e,n){if(ln(t.app))return Promise.reject(hn(t,"operation-not-supported-in-this-environment"));const r=Ad(t);d6(t,e,Lg);const i=DI(r,n);return new Ii(r,"signInViaPopup",e,i).executeNotNull()}class Ii extends MI{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ii.currentPopupAction&&Ii.currentPopupAction.cancel(),Ii.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=Vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ii.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h9.get())};e()}}Ii.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9="pendingRedirect",ju=new Map;class g9 extends MI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ju.get(this.auth._key());if(!e){try{const r=await y9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ju.set(this.auth._key(),e)}return this.bypassAuthState||ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y9(t,e){const n=w9(e),r=_9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function v9(t,e){ju.set(t._key(),e)}function _9(t){return qn(t._redirectPersistence)}function w9(t){return Fu(m9,t.config.apiKey,t.name)}async function x9(t,e,n=!1){if(ln(t.app))return Promise.reject(Ai(t));const r=Ad(t),i=DI(r,e),s=await new g9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9=10*60*1e3;class T9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E9&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(e))}saveEventToCache(e){this.cachedEventUids.add(O_(e)),this.lastProcessedEventTime=Date.now()}}function O_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(t,e={}){return ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C9=/^https?/;async function R9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await I9(t);for(const n of e)try{if(A9(n))return}catch{}Dn(t,"unauthorized-domain")}function A9(t){const e=Mp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!C9.test(n))return!1;if(S9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=new cl(3e4,6e4);function L_(){const t=Rn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k9(t){return new Promise((e,n)=>{var r,i,o;function s(){L_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L_(),n(hn(t,"network-request-failed"))},timeout:P9.get()})}if(!((i=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Rn().gapi)===null||o===void 0)&&o.load)s();else{const a=V6("iframefcb");return Rn()[a]=()=>{gapi.load?s():n(hn(t,"network-request-failed"))},O6(`${L6()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Uu=null,e})}let Uu=null;function N9(t){return Uu=Uu||k9(t),Uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=new cl(5e3,15e3),M9="__/auth/iframe",O9="emulator/auth/iframe",L9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F9(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kg(e,O9):`https://${t.config.authDomain}/${M9}`,r={apiKey:e.apiKey,appName:t.name,v:hs},i=V9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ul(r).slice(1)}`}async function j9(t){const e=await N9(t),n=Rn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:F9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=hn(t,"network-request-failed"),a=Rn().setTimeout(()=>{o(s)},D9.get());function u(){Rn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z9=500,$9=600,B9="_blank",W9="http://localhost";class V_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H9(t,e,n,r=z9,i=$9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},U9),{width:r.toString(),height:i.toString(),top:o,left:s}),c=gt().toLowerCase();n&&(a=mI(c)?B9:n),hI(c)&&(e=e||W9,u.scrollbars="yes");const d=Object.entries(u).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(C6(c)&&a!=="_self")return K9(e||"",a),new V_(null);const h=window.open(e||"",a,d);ee(h,t,"popup-blocked");try{h.focus()}catch{}return new V_(h)}function K9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="__/auth/handler",q9="emulator/auth/handler",Q9=encodeURIComponent("fac");async function F_(t,e,n,r,i,o){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hs,eventId:i};if(e instanceof Lg){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Q3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))s[d]=h}if(e instanceof dl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${Q9}=${encodeURIComponent(u)}`:"";return`${Y9(t)}?${ul(a).slice(1)}${c}`}function Y9({config:t}){return t.emulator?kg(t,q9):`https://${t.authDomain}/${G9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="webStorageSupport";class X9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RI,this._completeRedirectFn=x9,this._overrideRedirectResult=v9}async _openPopup(e,n,r,i){var o;lr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await F_(e,n,r,Mp(),i);return H9(e,s,Vg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await F_(e,n,r,Mp(),i);return e9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(lr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await j9(e),r=new T9(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dh,{type:dh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[dh];s!==void 0&&n(!!s),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=R9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wI()||pI()||Mg()}}const J9=X9;var j_="@firebase/auth",U_="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function t5(t){qo(new Fi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xI(t)},c=new D6(r,i,o,u);return j6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qo(new Fi("auth-internal",e=>{const n=Ad(e.getProvider("auth").getImmediate());return(r=>new Z9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(j_,U_,e5(t)),Br(j_,U_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=5*60,r5=Jb("authIdTokenMaxAge")||n5;let z_=null;const i5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r5)return;const i=n==null?void 0:n.token;z_!==i&&(z_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function o5(t=nI()){const e=Rg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=F6(t,{popupRedirectResolver:J9,persistence:[u9,X6,RI]}),r=Jb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=i5(o.toString());q6(n,s,()=>s(n.currentUser)),G6(n,a=>s(a))}}const i=Yb("auth");return i&&U6(n,`http://${i}`),n}function s5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}M6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=hn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",s5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});t5("Browser");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wr,LI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function R(){}R.prototype=T.prototype,I.D=T.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(A,N,D){for(var P=Array(arguments.length-2),J=2;J<arguments.length;J++)P[J-2]=arguments[J];return T.prototype[N].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,T,R){R||(R=0);var A=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)A[N]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(N=0;16>N;++N)A[N]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=I.g[0],R=I.g[1],N=I.g[2];var D=I.g[3],P=T+(D^R&(N^D))+A[0]+3614090360&4294967295;T=R+(P<<7&4294967295|P>>>25),P=D+(N^T&(R^N))+A[1]+3905402710&4294967295,D=T+(P<<12&4294967295|P>>>20),P=N+(R^D&(T^R))+A[2]+606105819&4294967295,N=D+(P<<17&4294967295|P>>>15),P=R+(T^N&(D^T))+A[3]+3250441966&4294967295,R=N+(P<<22&4294967295|P>>>10),P=T+(D^R&(N^D))+A[4]+4118548399&4294967295,T=R+(P<<7&4294967295|P>>>25),P=D+(N^T&(R^N))+A[5]+1200080426&4294967295,D=T+(P<<12&4294967295|P>>>20),P=N+(R^D&(T^R))+A[6]+2821735955&4294967295,N=D+(P<<17&4294967295|P>>>15),P=R+(T^N&(D^T))+A[7]+4249261313&4294967295,R=N+(P<<22&4294967295|P>>>10),P=T+(D^R&(N^D))+A[8]+1770035416&4294967295,T=R+(P<<7&4294967295|P>>>25),P=D+(N^T&(R^N))+A[9]+2336552879&4294967295,D=T+(P<<12&4294967295|P>>>20),P=N+(R^D&(T^R))+A[10]+4294925233&4294967295,N=D+(P<<17&4294967295|P>>>15),P=R+(T^N&(D^T))+A[11]+2304563134&4294967295,R=N+(P<<22&4294967295|P>>>10),P=T+(D^R&(N^D))+A[12]+1804603682&4294967295,T=R+(P<<7&4294967295|P>>>25),P=D+(N^T&(R^N))+A[13]+4254626195&4294967295,D=T+(P<<12&4294967295|P>>>20),P=N+(R^D&(T^R))+A[14]+2792965006&4294967295,N=D+(P<<17&4294967295|P>>>15),P=R+(T^N&(D^T))+A[15]+1236535329&4294967295,R=N+(P<<22&4294967295|P>>>10),P=T+(N^D&(R^N))+A[1]+4129170786&4294967295,T=R+(P<<5&4294967295|P>>>27),P=D+(R^N&(T^R))+A[6]+3225465664&4294967295,D=T+(P<<9&4294967295|P>>>23),P=N+(T^R&(D^T))+A[11]+643717713&4294967295,N=D+(P<<14&4294967295|P>>>18),P=R+(D^T&(N^D))+A[0]+3921069994&4294967295,R=N+(P<<20&4294967295|P>>>12),P=T+(N^D&(R^N))+A[5]+3593408605&4294967295,T=R+(P<<5&4294967295|P>>>27),P=D+(R^N&(T^R))+A[10]+38016083&4294967295,D=T+(P<<9&4294967295|P>>>23),P=N+(T^R&(D^T))+A[15]+3634488961&4294967295,N=D+(P<<14&4294967295|P>>>18),P=R+(D^T&(N^D))+A[4]+3889429448&4294967295,R=N+(P<<20&4294967295|P>>>12),P=T+(N^D&(R^N))+A[9]+568446438&4294967295,T=R+(P<<5&4294967295|P>>>27),P=D+(R^N&(T^R))+A[14]+3275163606&4294967295,D=T+(P<<9&4294967295|P>>>23),P=N+(T^R&(D^T))+A[3]+4107603335&4294967295,N=D+(P<<14&4294967295|P>>>18),P=R+(D^T&(N^D))+A[8]+1163531501&4294967295,R=N+(P<<20&4294967295|P>>>12),P=T+(N^D&(R^N))+A[13]+2850285829&4294967295,T=R+(P<<5&4294967295|P>>>27),P=D+(R^N&(T^R))+A[2]+4243563512&4294967295,D=T+(P<<9&4294967295|P>>>23),P=N+(T^R&(D^T))+A[7]+1735328473&4294967295,N=D+(P<<14&4294967295|P>>>18),P=R+(D^T&(N^D))+A[12]+2368359562&4294967295,R=N+(P<<20&4294967295|P>>>12),P=T+(R^N^D)+A[5]+4294588738&4294967295,T=R+(P<<4&4294967295|P>>>28),P=D+(T^R^N)+A[8]+2272392833&4294967295,D=T+(P<<11&4294967295|P>>>21),P=N+(D^T^R)+A[11]+1839030562&4294967295,N=D+(P<<16&4294967295|P>>>16),P=R+(N^D^T)+A[14]+4259657740&4294967295,R=N+(P<<23&4294967295|P>>>9),P=T+(R^N^D)+A[1]+2763975236&4294967295,T=R+(P<<4&4294967295|P>>>28),P=D+(T^R^N)+A[4]+1272893353&4294967295,D=T+(P<<11&4294967295|P>>>21),P=N+(D^T^R)+A[7]+4139469664&4294967295,N=D+(P<<16&4294967295|P>>>16),P=R+(N^D^T)+A[10]+3200236656&4294967295,R=N+(P<<23&4294967295|P>>>9),P=T+(R^N^D)+A[13]+681279174&4294967295,T=R+(P<<4&4294967295|P>>>28),P=D+(T^R^N)+A[0]+3936430074&4294967295,D=T+(P<<11&4294967295|P>>>21),P=N+(D^T^R)+A[3]+3572445317&4294967295,N=D+(P<<16&4294967295|P>>>16),P=R+(N^D^T)+A[6]+76029189&4294967295,R=N+(P<<23&4294967295|P>>>9),P=T+(R^N^D)+A[9]+3654602809&4294967295,T=R+(P<<4&4294967295|P>>>28),P=D+(T^R^N)+A[12]+3873151461&4294967295,D=T+(P<<11&4294967295|P>>>21),P=N+(D^T^R)+A[15]+530742520&4294967295,N=D+(P<<16&4294967295|P>>>16),P=R+(N^D^T)+A[2]+3299628645&4294967295,R=N+(P<<23&4294967295|P>>>9),P=T+(N^(R|~D))+A[0]+4096336452&4294967295,T=R+(P<<6&4294967295|P>>>26),P=D+(R^(T|~N))+A[7]+1126891415&4294967295,D=T+(P<<10&4294967295|P>>>22),P=N+(T^(D|~R))+A[14]+2878612391&4294967295,N=D+(P<<15&4294967295|P>>>17),P=R+(D^(N|~T))+A[5]+4237533241&4294967295,R=N+(P<<21&4294967295|P>>>11),P=T+(N^(R|~D))+A[12]+1700485571&4294967295,T=R+(P<<6&4294967295|P>>>26),P=D+(R^(T|~N))+A[3]+2399980690&4294967295,D=T+(P<<10&4294967295|P>>>22),P=N+(T^(D|~R))+A[10]+4293915773&4294967295,N=D+(P<<15&4294967295|P>>>17),P=R+(D^(N|~T))+A[1]+2240044497&4294967295,R=N+(P<<21&4294967295|P>>>11),P=T+(N^(R|~D))+A[8]+1873313359&4294967295,T=R+(P<<6&4294967295|P>>>26),P=D+(R^(T|~N))+A[15]+4264355552&4294967295,D=T+(P<<10&4294967295|P>>>22),P=N+(T^(D|~R))+A[6]+2734768916&4294967295,N=D+(P<<15&4294967295|P>>>17),P=R+(D^(N|~T))+A[13]+1309151649&4294967295,R=N+(P<<21&4294967295|P>>>11),P=T+(N^(R|~D))+A[4]+4149444226&4294967295,T=R+(P<<6&4294967295|P>>>26),P=D+(R^(T|~N))+A[11]+3174756917&4294967295,D=T+(P<<10&4294967295|P>>>22),P=N+(T^(D|~R))+A[2]+718787259&4294967295,N=D+(P<<15&4294967295|P>>>17),P=R+(D^(N|~T))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var R=T-this.blockSize,A=this.B,N=this.h,D=0;D<T;){if(N==0)for(;D<=R;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<T;)if(A[N++]=I.charCodeAt(D++),N==this.blockSize){i(this,A),N=0;break}}else for(;D<T;)if(A[N++]=I[D++],N==this.blockSize){i(this,A),N=0;break}}this.h=N,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var R=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=R&255,R/=256;for(this.u(I),I=Array(16),T=R=0;4>T;++T)for(var A=0;32>A;A+=8)I[R++]=this.g[T]>>>A&255;return I};function o(I,T){var R=a;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=T(I)}function s(I,T){this.h=T;for(var R=[],A=!0,N=I.length-1;0<=N;N--){var D=I[N]|0;A&&D==T||(R[N]=D,A=!1)}this.g=R}var a={};function u(I){return-128<=I&&128>I?o(I,function(T){return new s([T|0],0>T?-1:0)}):new s([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return C(c(-I));for(var T=[],R=1,A=0;I>=R;A++)T[A]=I/R|0,R*=4294967296;return new s(T,0)}function d(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return C(d(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(T,8)),A=h,N=0;N<I.length;N+=8){var D=Math.min(8,I.length-N),P=parseInt(I.substring(N,N+D),T);8>D?(D=c(Math.pow(T,D)),A=A.j(D).add(c(P))):(A=A.j(R),A=A.add(c(P)))}return A}var h=u(0),p=u(1),g=u(16777216);t=s.prototype,t.m=function(){if(E(this))return-C(this).m();for(var I=0,T=1,R=0;R<this.g.length;R++){var A=this.i(R);I+=(0<=A?A:4294967296+A)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(E(this))return"-"+C(this).toString(I);for(var T=c(Math.pow(I,6)),R=this,A="";;){var N=k(R,T).g;R=y(R,N.j(T));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=N,w(R))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=y(this,I),E(I)?-1:w(I)?0:1};function C(I){for(var T=I.g.length,R=[],A=0;A<T;A++)R[A]=~I.g[A];return new s(R,~I.h).add(p)}t.abs=function(){return E(this)?C(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],A=0,N=0;N<=T;N++){var D=A+(this.i(N)&65535)+(I.i(N)&65535),P=(D>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);A=P>>>16,D&=65535,P&=65535,R[N]=P<<16|D}return new s(R,R[R.length-1]&-2147483648?-1:0)};function y(I,T){return I.add(C(T))}t.j=function(I){if(w(this)||w(I))return h;if(E(this))return E(I)?C(this).j(C(I)):C(C(this).j(I));if(E(I))return C(this.j(C(I)));if(0>this.l(g)&&0>I.l(g))return c(this.m()*I.m());for(var T=this.g.length+I.g.length,R=[],A=0;A<2*T;A++)R[A]=0;for(A=0;A<this.g.length;A++)for(var N=0;N<I.g.length;N++){var D=this.i(A)>>>16,P=this.i(A)&65535,J=I.i(N)>>>16,pe=I.i(N)&65535;R[2*A+2*N]+=P*pe,_(R,2*A+2*N),R[2*A+2*N+1]+=D*pe,_(R,2*A+2*N+1),R[2*A+2*N+1]+=P*J,_(R,2*A+2*N+1),R[2*A+2*N+2]+=D*J,_(R,2*A+2*N+2)}for(A=0;A<T;A++)R[A]=R[2*A+1]<<16|R[2*A];for(A=T;A<2*T;A++)R[A]=0;return new s(R,0)};function _(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function x(I,T){this.g=I,this.h=T}function k(I,T){if(w(T))throw Error("division by zero");if(w(I))return new x(h,h);if(E(I))return T=k(C(I),T),new x(C(T.g),C(T.h));if(E(T))return T=k(I,C(T)),new x(C(T.g),T.h);if(30<I.g.length){if(E(I)||E(T))throw Error("slowDivide_ only works with positive integers.");for(var R=p,A=T;0>=A.l(I);)R=O(R),A=O(A);var N=M(R,1),D=M(A,1);for(A=M(A,2),R=M(R,2);!w(A);){var P=D.add(A);0>=P.l(I)&&(N=N.add(R),D=P),A=M(A,1),R=M(R,1)}return T=y(I,N.j(T)),new x(N,T)}for(N=h;0<=I.l(T);){for(R=Math.max(1,Math.floor(I.m()/T.m())),A=Math.ceil(Math.log(R)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(R),P=D.j(T);E(P)||0<P.l(I);)R-=A,D=c(R),P=D.j(T);w(D)&&(D=p),N=N.add(D),I=y(I,P)}return new x(N,I)}t.A=function(I){return k(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],A=0;A<T;A++)R[A]=this.i(A)&I.i(A);return new s(R,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],A=0;A<T;A++)R[A]=this.i(A)|I.i(A);return new s(R,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],A=0;A<T;A++)R[A]=this.i(A)^I.i(A);return new s(R,this.h^I.h)};function O(I){for(var T=I.g.length+1,R=[],A=0;A<T;A++)R[A]=I.i(A)<<1|I.i(A-1)>>>31;return new s(R,I.h)}function M(I,T){var R=T>>5;T%=32;for(var A=I.g.length-R,N=[],D=0;D<A;D++)N[D]=0<T?I.i(D+R)>>>T|I.i(D+R+1)<<32-T:I.i(D+R);return new s(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LI=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,Wr=s}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VI,Ys,FI,zu,Vp,jI,UI,zI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof lu=="object"&&lu];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var m=r;l=l.split(".");for(var S=0;S<l.length-1;S++){var L=l[S];if(!(L in m))break e;m=m[L]}l=l[l.length-1],S=m[l],f=f(S),f!=S&&f!=null&&e(m,l,{configurable:!0,writable:!0,value:f})}}function o(l,f){l instanceof String&&(l+="");var m=0,S=!1,L={next:function(){if(!S&&m<l.length){var V=m++;return{value:f(V,l[V]),done:!1}}return S=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(l){return l||function(){return o(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,m){return l.call.apply(l.bind,arguments)}function h(l,f,m){if(!l)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,S),l.apply(f,L)}}return function(){return l.apply(f,arguments)}}function p(l,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var S=m.slice();return S.push.apply(S,arguments),l.apply(this,S)}}function w(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(S,L,V){for(var B=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)B[_e-2]=arguments[_e];return f.prototype[L].apply(S,B)}}function E(l){const f=l.length;if(0<f){const m=Array(f);for(let S=0;S<f;S++)m[S]=l[S];return m}return[]}function C(l,f){for(let m=1;m<arguments.length;m++){const S=arguments[m];if(u(S)){const L=l.length||0,V=S.length||0;l.length=L+V;for(let B=0;B<V;B++)l[L+B]=S[B]}else l.push(S)}}class y{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function _(l){return/^[\s\xa0]*$/.test(l)}function x(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function k(l){return k[" "](l),l}k[" "]=function(){};var O=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(l,f,m){for(const S in l)f.call(m,l[S],S,l)}function I(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function T(l){const f={};for(const m in l)f[m]=l[m];return f}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,f){let m,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(m in S)l[m]=S[m];for(let V=0;V<R.length;V++)m=R[V],Object.prototype.hasOwnProperty.call(S,m)&&(l[m]=S[m])}}function N(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function D(l){a.setTimeout(()=>{throw l},0)}function P(){var l=j;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class J{constructor(){this.h=this.g=null}add(f,m){const S=pe.get();S.set(f,m),this.h?this.h.next=S:this.g=S,this.h=S}}var pe=new y(()=>new Y,l=>l.reset());class Y{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,F=!1,j=new J,W=()=>{const l=a.Promise.resolve(void 0);ce=()=>{l.then(re)}};var re=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(m){D(m)}var f=pe;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}F=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return l}();function ze(l,f){if(ge.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,S=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(O){e:{try{k(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Me[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ze.aa.h.call(this)}}w(ze,ge);var Me={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),ui=0;function bt(l,f,m,S,L){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!S,this.ha=L,this.key=++ui,this.da=this.fa=!1}function _n(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ci(l){this.src=l,this.g={},this.h=0}ci.prototype.add=function(l,f,m,S,L){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var B=Vn(l,f,S,L);return-1<B?(f=l[B],m||(f.fa=!1)):(f=new bt(f,this.src,V,!!S,L),f.fa=m,l.push(f)),f};function Xi(l,f){var m=f.type;if(m in l.g){var S=l.g[m],L=Array.prototype.indexOf.call(S,f,void 0),V;(V=0<=L)&&Array.prototype.splice.call(S,L,1),V&&(_n(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Vn(l,f,m,S){for(var L=0;L<l.length;++L){var V=l[L];if(!V.da&&V.listener==f&&V.capture==!!m&&V.ha==S)return L}return-1}var Ji="closure_lm_"+(1e6*Math.random()|0),ws={};function vl(l,f,m,S,L){if(Array.isArray(f)){for(var V=0;V<f.length;V++)vl(l,f[V],m,S,L);return null}return m=w0(m),l&&l[Ie]?l.K(f,m,c(S)?!!S.capture:!!S,L):Kd(l,f,m,!1,S,L)}function Kd(l,f,m,S,L,V){if(!f)throw Error("Invalid event type");var B=c(L)?!!L.capture:!!L,_e=Qd(l);if(_e||(l[Ji]=_e=new ci(l)),m=_e.add(f,m,S,B,V),m.proxy)return m;if(S=Gd(),m.proxy=S,S.src=l,S.listener=m,l.addEventListener)Ve||(L=B),L===void 0&&(L=!1),l.addEventListener(f.toString(),S,L);else if(l.attachEvent)l.attachEvent(_0(f.toString()),S);else if(l.addListener&&l.removeListener)l.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Gd(){function l(m){return f.call(l.src,l.listener,m)}const f=wC;return l}function di(l,f,m,S,L){if(Array.isArray(f))for(var V=0;V<f.length;V++)di(l,f[V],m,S,L);else S=c(S)?!!S.capture:!!S,m=w0(m),l&&l[Ie]?(l=l.i,f=String(f).toString(),f in l.g&&(V=l.g[f],m=Vn(V,m,S,L),-1<m&&(_n(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete l.g[f],l.h--)))):l&&(l=Qd(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Vn(f,m,S,L)),(m=-1<l?f[l]:null)&&qd(m))}function qd(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ie])Xi(f.i,l);else{var m=l.type,S=l.proxy;f.removeEventListener?f.removeEventListener(m,S,l.capture):f.detachEvent?f.detachEvent(_0(m),S):f.addListener&&f.removeListener&&f.removeListener(S),(m=Qd(f))?(Xi(m,l),m.h==0&&(m.src=null,f[Ji]=null)):_n(l)}}}function _0(l){return l in ws?ws[l]:ws[l]="on"+l}function wC(l,f){if(l.da)l=!0;else{f=new ze(f,this);var m=l.listener,S=l.ha||l.src;l.fa&&qd(l),l=m.call(S,f)}return l}function Qd(l){return l=l[Ji],l instanceof ci?l:null}var Yd="__closure_events_fn_"+(1e9*Math.random()>>>0);function w0(l){return typeof l=="function"?l:(l[Yd]||(l[Yd]=function(f){return l.handleEvent(f)}),l[Yd])}function st(){ie.call(this),this.i=new ci(this),this.M=this,this.F=null}w(st,ie),st.prototype[Ie]=!0,st.prototype.removeEventListener=function(l,f,m,S){di(this,l,f,m,S)};function yt(l,f){var m,S=l.F;if(S)for(m=[];S;S=S.F)m.push(S);if(l=l.M,S=f.type||f,typeof f=="string")f=new ge(f,l);else if(f instanceof ge)f.target=f.target||l;else{var L=f;f=new ge(S,l),A(f,L)}if(L=!0,m)for(var V=m.length-1;0<=V;V--){var B=f.g=m[V];L=_l(B,S,!0,f)&&L}if(B=f.g=l,L=_l(B,S,!0,f)&&L,L=_l(B,S,!1,f)&&L,m)for(V=0;V<m.length;V++)B=f.g=m[V],L=_l(B,S,!1,f)&&L}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],S=0;S<m.length;S++)_n(m[S]);delete l.g[f],l.h--}}this.F=null},st.prototype.K=function(l,f,m,S){return this.i.add(String(l),f,!1,m,S)},st.prototype.L=function(l,f,m,S){return this.i.add(String(l),f,!0,m,S)};function _l(l,f,m,S){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,V=0;V<f.length;++V){var B=f[V];if(B&&!B.da&&B.capture==m){var _e=B.listener,Xe=B.ha||B.src;B.fa&&Xi(l.i,B),L=_e.call(Xe,S)!==!1&&L}}return L&&!S.defaultPrevented}function x0(l,f,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function E0(l){l.g=x0(()=>{l.g=null,l.i&&(l.i=!1,E0(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class xC extends ie{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:E0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(l){ie.call(this),this.h=l,this.g={}}w(xs,ie);var T0=[];function b0(l){M(l.g,function(f,m){this.g.hasOwnProperty(m)&&qd(f)},l),l.g={}}xs.prototype.N=function(){xs.aa.N.call(this),b0(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xd=a.JSON.stringify,EC=a.JSON.parse,TC=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Jd(){}Jd.prototype.h=null;function I0(l){return l.h||(l.h=l.i())}function S0(){}var Es={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zd(){ge.call(this,"d")}w(Zd,ge);function ef(){ge.call(this,"c")}w(ef,ge);var fi={},C0=null;function wl(){return C0=C0||new st}fi.La="serverreachability";function R0(l){ge.call(this,fi.La,l)}w(R0,ge);function Ts(l){const f=wl();yt(f,new R0(f))}fi.STAT_EVENT="statevent";function A0(l,f){ge.call(this,fi.STAT_EVENT,l),this.stat=f}w(A0,ge);function vt(l){const f=wl();yt(f,new A0(f,l))}fi.Ma="timingevent";function P0(l,f){ge.call(this,fi.Ma,l),this.size=f}w(P0,ge);function bs(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function Is(){this.g=!0}Is.prototype.xa=function(){this.g=!1};function bC(l,f,m,S,L,V){l.info(function(){if(l.g)if(V)for(var B="",_e=V.split("&"),Xe=0;Xe<_e.length;Xe++){var me=_e[Xe].split("=");if(1<me.length){var at=me[0];me=me[1];var lt=at.split("_");B=2<=lt.length&&lt[1]=="type"?B+(at+"="+me+"&"):B+(at+"=redacted&")}}else B=null;else B=V;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+f+`
`+m+`
`+B})}function IC(l,f,m,S,L,V,B){l.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+f+`
`+m+`
`+V+" "+B})}function Zi(l,f,m,S){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+CC(l,m)+(S?" "+S:"")})}function SC(l,f){l.info(function(){return"TIMEOUT: "+f})}Is.prototype.info=function(){};function CC(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var S=m[l];if(!(2>S.length)){var L=S[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var B=1;B<L.length;B++)L[B]=""}}}}return Xd(m)}catch{return f}}var xl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},k0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tf;function El(){}w(El,Jd),El.prototype.g=function(){return new XMLHttpRequest},El.prototype.i=function(){return{}},tf=new El;function pr(l,f,m,S){this.j=l,this.i=f,this.l=m,this.R=S||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new N0}function N0(){this.i=null,this.g="",this.h=!1}var D0={},nf={};function rf(l,f,m){l.L=1,l.v=Sl(Fn(f)),l.m=m,l.P=!0,M0(l,null)}function M0(l,f){l.F=Date.now(),Tl(l),l.A=Fn(l.v);var m=l.A,S=l.R;Array.isArray(S)||(S=[String(S)]),q0(m.i,"t",S),l.C=0,m=l.j.J,l.h=new N0,l.g=fy(l.j,m?f:null,!l.m),0<l.O&&(l.M=new xC(p(l.Y,l,l.g),l.O)),f=l.U,m=l.g,S=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(T0[0]=L.toString()),L=T0);for(var V=0;V<L.length;V++){var B=vl(m,L[V],S||f.handleEvent,!1,f.h||f);if(!B)break;f.g[B.key]=B}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Ts(),bC(l.i,l.u,l.A,l.l,l.R,l.m)}pr.prototype.ca=function(l){l=l.target;const f=this.M;f&&jn(l)==3?f.j():this.Y(l)},pr.prototype.Y=function(l){try{if(l==this.g)e:{const lt=jn(this.g);var f=this.g.Ba();const no=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||ty(this.g)))){this.J||lt!=4||f==7||(f==8||0>=no?Ts(3):Ts(2)),of(this);var m=this.g.Z();this.X=m;t:if(O0(this)){var S=ty(this.g);l="";var L=S.length,V=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hi(this),Ss(this);var B="";break t}this.h.i=new a.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,l+=this.h.i.decode(S[f],{stream:!(V&&f==L-1)});S.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=m==200,IC(this.i,this.u,this.A,this.l,this.R,lt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,Xe=this.g;if((_e=Xe.g?Xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(_e)){var me=_e;break t}}me=null}if(m=me)Zi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sf(this,m);else{this.o=!1,this.s=3,vt(12),hi(this),Ss(this);break e}}if(this.P){m=!0;let tn;for(;!this.J&&this.C<B.length;)if(tn=RC(this,B),tn==nf){lt==4&&(this.s=4,vt(14),m=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==D0){this.s=4,vt(15),Zi(this.i,this.l,B,"[Invalid Chunk]"),m=!1;break}else Zi(this.i,this.l,tn,null),sf(this,tn);if(O0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||B.length!=0||this.h.h||(this.s=1,vt(16),m=!1),this.o=this.o&&m,!m)Zi(this.i,this.l,B,"[Invalid Chunked Response]"),hi(this),Ss(this);else if(0<B.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),ff(at),at.M=!0,vt(11))}}else Zi(this.i,this.l,B,null),sf(this,B);lt==4&&hi(this),this.o&&!this.J&&(lt==4?ly(this.j,this):(this.o=!1,Tl(this)))}else HC(this.g),m==400&&0<B.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),hi(this),Ss(this)}}}catch{}finally{}};function O0(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function RC(l,f){var m=l.C,S=f.indexOf(`
`,m);return S==-1?nf:(m=Number(f.substring(m,S)),isNaN(m)?D0:(S+=1,S+m>f.length?nf:(f=f.slice(S,S+m),l.C=S+m,f)))}pr.prototype.cancel=function(){this.J=!0,hi(this)};function Tl(l){l.S=Date.now()+l.I,L0(l,l.I)}function L0(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=bs(p(l.ba,l),f)}function of(l){l.B&&(a.clearTimeout(l.B),l.B=null)}pr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(SC(this.i,this.A),this.L!=2&&(Ts(),vt(17)),hi(this),this.s=2,Ss(this)):L0(this,this.S-l)};function Ss(l){l.j.G==0||l.J||ly(l.j,l)}function hi(l){of(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,b0(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function sf(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||af(m.h,l))){if(!l.K&&af(m.h,l)&&m.G==3){try{var S=m.Da.g.parse(f)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Nl(m),Pl(m);else break e;df(m),vt(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=bs(p(m.Za,m),6e3));if(1>=j0(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else mi(m,11)}else if((l.K||m.g==l)&&Nl(m),!_(f))for(L=m.Da.g.parse(f),f=0;f<L.length;f++){let me=L[f];if(m.T=me[0],me=me[1],m.G==2)if(me[0]=="c"){m.K=me[1],m.ia=me[2];const at=me[3];at!=null&&(m.la=at,m.j.info("VER="+m.la));const lt=me[4];lt!=null&&(m.Aa=lt,m.j.info("SVER="+m.Aa));const no=me[5];no!=null&&typeof no=="number"&&0<no&&(S=1.5*no,m.L=S,m.j.info("backChannelRequestTimeoutMs_="+S)),S=m;const tn=l.g;if(tn){const Ml=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ml){var V=S.h;V.g||Ml.indexOf("spdy")==-1&&Ml.indexOf("quic")==-1&&Ml.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(lf(V,V.h),V.h=null))}if(S.D){const hf=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;hf&&(S.ya=hf,xe(S.I,S.D,hf))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),S=m;var B=l;if(S.qa=dy(S,S.J?S.ia:null,S.W),B.K){U0(S.h,B);var _e=B,Xe=S.L;Xe&&(_e.I=Xe),_e.B&&(of(_e),Tl(_e)),S.g=B}else sy(S);0<m.i.length&&kl(m)}else me[0]!="stop"&&me[0]!="close"||mi(m,7);else m.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?mi(m,7):cf(m):me[0]!="noop"&&m.l&&m.l.ta(me),m.v=0)}}Ts(4)}catch{}}var AC=class{constructor(l,f){this.g=l,this.map=f}};function V0(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function F0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function j0(l){return l.h?1:l.g?l.g.size:0}function af(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function lf(l,f){l.g?l.g.add(f):l.h=f}function U0(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}V0.prototype.cancel=function(){if(this.i=z0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function z0(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return E(l.i)}function PC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],m=l.length,S=0;S<m;S++)f.push(l[S]);return f}f=[],m=0;for(S in l)f[m++]=l[S];return f}function kC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const S in l)f[m++]=S;return f}}}function $0(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=kC(l),S=PC(l),L=S.length,V=0;V<L;V++)f.call(void 0,S[V],m&&m[V],l)}var B0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NC(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var S=l[m].indexOf("="),L=null;if(0<=S){var V=l[m].substring(0,S);L=l[m].substring(S+1)}else V=l[m];f(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function pi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof pi){this.h=l.h,bl(this,l.j),this.o=l.o,this.g=l.g,Il(this,l.s),this.l=l.l;var f=l.i,m=new As;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),W0(this,m),this.m=l.m}else l&&(f=String(l).match(B0))?(this.h=!1,bl(this,f[1]||"",!0),this.o=Cs(f[2]||""),this.g=Cs(f[3]||"",!0),Il(this,f[4]),this.l=Cs(f[5]||"",!0),W0(this,f[6]||"",!0),this.m=Cs(f[7]||"")):(this.h=!1,this.i=new As(null,this.h))}pi.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Rs(f,H0,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Rs(f,H0,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Rs(m,m.charAt(0)=="/"?OC:MC,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Rs(m,VC)),l.join("")};function Fn(l){return new pi(l)}function bl(l,f,m){l.j=m?Cs(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Il(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function W0(l,f,m){f instanceof As?(l.i=f,FC(l.i,l.h)):(m||(f=Rs(f,LC)),l.i=new As(f,l.h))}function xe(l,f,m){l.i.set(f,m)}function Sl(l){return xe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Cs(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Rs(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,DC),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function DC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var H0=/[#\/\?@]/g,MC=/[#\?:]/g,OC=/[#\?]/g,LC=/[#\?@]/g,VC=/#/g;function As(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function mr(l){l.g||(l.g=new Map,l.h=0,l.i&&NC(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=As.prototype,t.add=function(l,f){mr(this),this.i=null,l=eo(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function K0(l,f){mr(l),f=eo(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function G0(l,f){return mr(l),f=eo(l,f),l.g.has(f)}t.forEach=function(l,f){mr(this),this.g.forEach(function(m,S){m.forEach(function(L){l.call(f,L,S,this)},this)},this)},t.na=function(){mr(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let S=0;S<f.length;S++){const L=l[S];for(let V=0;V<L.length;V++)m.push(f[S])}return m},t.V=function(l){mr(this);let f=[];if(typeof l=="string")G0(this,l)&&(f=f.concat(this.g.get(eo(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},t.set=function(l,f){return mr(this),this.i=null,l=eo(this,l),G0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function q0(l,f,m){K0(l,f),0<m.length&&(l.i=null,l.g.set(eo(l,f),E(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var S=f[m];const V=encodeURIComponent(String(S)),B=this.V(S);for(S=0;S<B.length;S++){var L=V;B[S]!==""&&(L+="="+encodeURIComponent(String(B[S]))),l.push(L)}}return this.i=l.join("&")};function eo(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function FC(l,f){f&&!l.j&&(mr(l),l.i=null,l.g.forEach(function(m,S){var L=S.toLowerCase();S!=L&&(K0(this,S),q0(this,L,m))},l)),l.j=f}function jC(l,f){const m=new Is;if(a.Image){const S=new Image;S.onload=g(gr,m,"TestLoadImage: loaded",!0,f,S),S.onerror=g(gr,m,"TestLoadImage: error",!1,f,S),S.onabort=g(gr,m,"TestLoadImage: abort",!1,f,S),S.ontimeout=g(gr,m,"TestLoadImage: timeout",!1,f,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=l}else f(!1)}function UC(l,f){const m=new Is,S=new AbortController,L=setTimeout(()=>{S.abort(),gr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:S.signal}).then(V=>{clearTimeout(L),V.ok?gr(m,"TestPingServer: ok",!0,f):gr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),gr(m,"TestPingServer: error",!1,f)})}function gr(l,f,m,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(m)}catch{}}function zC(){this.g=new TC}function $C(l,f,m){const S=m||"";try{$0(l,function(L,V){let B=L;c(L)&&(B=Xd(L)),f.push(S+V+"="+encodeURIComponent(B))})}catch(L){throw f.push(S+"type="+encodeURIComponent("_badmap")),L}}function Cl(l){this.l=l.Ub||null,this.j=l.eb||!1}w(Cl,Jd),Cl.prototype.g=function(){return new Rl(this.l,this.j)},Cl.prototype.i=function(l){return function(){return l}}({});function Rl(l,f){st.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Rl,st),t=Rl.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,ks(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Q0(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Q0(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Ps(this):ks(this),this.readyState==3&&Q0(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ps(this))},t.Qa=function(l){this.g&&(this.response=l,Ps(this))},t.ga=function(){this.g&&Ps(this)};function Ps(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ks(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function ks(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Y0(l){let f="";return M(l,function(m,S){f+=S,f+=":",f+=m,f+=`\r
`}),f}function uf(l,f,m){e:{for(S in m){var S=!1;break e}S=!0}S||(m=Y0(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):xe(l,f,m))}function Ne(l){st.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ne,st);var BC=/^https?$/i,WC=["POST","PUT"];t=Ne.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,m,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tf.g(),this.v=this.o?I0(this.o):I0(tf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(V){X0(this,V);return}if(l=m||"",m=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)m.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const V of S.keys())m.set(V,S.get(V));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(WC,f,void 0))||S||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,B]of m)this.g.setRequestHeader(V,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ey(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){X0(this,V)}};function X0(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,J0(l),Al(l)}function J0(l){l.A||(l.A=!0,yt(l,"complete"),yt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,yt(this,"complete"),yt(this,"abort"),Al(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Al(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Z0(this):this.bb())},t.bb=function(){Z0(this)};function Z0(l){if(l.h&&typeof s<"u"&&(!l.v[1]||jn(l)!=4||l.Z()!=2)){if(l.u&&jn(l)==4)x0(l.Ea,0,l);else if(yt(l,"readystatechange"),jn(l)==4){l.h=!1;try{const B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var S;if(S=B===0){var L=String(l.D).match(B0)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),S=!BC.test(L?L.toLowerCase():"")}m=S}if(m)yt(l,"complete"),yt(l,"success");else{l.m=6;try{var V=2<jn(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",J0(l)}}finally{Al(l)}}}}function Al(l,f){if(l.g){ey(l);const m=l.g,S=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||yt(l,"ready");try{m.onreadystatechange=S}catch{}}}function ey(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function jn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),EC(f)}};function ty(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function HC(l){const f={};l=(l.g&&2<=jn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<l.length;S++){if(_(l[S]))continue;var m=N(l[S]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=f[L]||[];f[L]=V,V.push(m)}I(f,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function ny(l){this.Aa=0,this.i=[],this.j=new Is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ns("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ns("baseRetryDelayMs",5e3,l),this.cb=Ns("retryDelaySeedMs",1e4,l),this.Wa=Ns("forwardChannelMaxRetries",2,l),this.wa=Ns("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new V0(l&&l.concurrentRequestLimit),this.Da=new zC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ny.prototype,t.la=8,t.G=1,t.connect=function(l,f,m,S){vt(0),this.W=l,this.H=f||{},m&&S!==void 0&&(this.H.OSID=m,this.H.OAID=S),this.F=this.X,this.I=dy(this,null,this.W),kl(this)};function cf(l){if(ry(l),l.G==3){var f=l.U++,m=Fn(l.I);if(xe(m,"SID",l.K),xe(m,"RID",f),xe(m,"TYPE","terminate"),Ds(l,m),f=new pr(l,l.j,f),f.L=2,f.v=Sl(Fn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=fy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Tl(f)}cy(l)}function Pl(l){l.g&&(ff(l),l.g.cancel(),l.g=null)}function ry(l){Pl(l),l.u&&(a.clearTimeout(l.u),l.u=null),Nl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function kl(l){if(!F0(l.h)&&!l.s){l.s=!0;var f=l.Ga;ce||W(),F||(ce(),F=!0),j.add(f,l),l.B=0}}function KC(l,f){return j0(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=bs(p(l.Ga,l,f),uy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new pr(this,this.j,l);let V=this.o;if(this.S&&(V?(V=T(V),A(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var S=this.i[m];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(f+=S,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=oy(this,L,f),m=Fn(this.I),xe(m,"RID",l),xe(m,"CVER",22),this.D&&xe(m,"X-HTTP-Session-Id",this.D),Ds(this,m),V&&(this.O?f="headers="+encodeURIComponent(String(Y0(V)))+"&"+f:this.m&&uf(m,this.m,V)),lf(this.h,L),this.Ua&&xe(m,"TYPE","init"),this.P?(xe(m,"$req",f),xe(m,"SID","null"),L.T=!0,rf(L,m,null)):rf(L,m,f),this.G=2}}else this.G==3&&(l?iy(this,l):this.i.length==0||F0(this.h)||iy(this))};function iy(l,f){var m;f?m=f.l:m=l.U++;const S=Fn(l.I);xe(S,"SID",l.K),xe(S,"RID",m),xe(S,"AID",l.T),Ds(l,S),l.m&&l.o&&uf(S,l.m,l.o),m=new pr(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=oy(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),lf(l.h,m),rf(m,S,f)}function Ds(l,f){l.H&&M(l.H,function(m,S){xe(f,S,m)}),l.l&&$0({},function(m,S){xe(f,S,m)})}function oy(l,f,m){m=Math.min(l.i.length,m);var S=l.l?p(l.l.Na,l.l,l):null;e:{var L=l.i;let V=-1;for(;;){const B=["count="+m];V==-1?0<m?(V=L[0].g,B.push("ofs="+V)):V=0:B.push("ofs="+V);let _e=!0;for(let Xe=0;Xe<m;Xe++){let me=L[Xe].g;const at=L[Xe].map;if(me-=V,0>me)V=Math.max(0,L[Xe].g-100),_e=!1;else try{$C(at,B,"req"+me+"_")}catch{S&&S(at)}}if(_e){S=B.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,S}function sy(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;ce||W(),F||(ce(),F=!0),j.add(f,l),l.v=0}}function df(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=bs(p(l.Fa,l),uy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,ay(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=bs(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Pl(this),ay(this))};function ff(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function ay(l){l.g=new pr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Fn(l.qa);xe(f,"RID","rpc"),xe(f,"SID",l.K),xe(f,"AID",l.T),xe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&xe(f,"TO",l.ja),xe(f,"TYPE","xmlhttp"),Ds(l,f),l.m&&l.o&&uf(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Sl(Fn(f)),m.m=null,m.P=!0,M0(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Pl(this),df(this),vt(19))};function Nl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function ly(l,f){var m=null;if(l.g==f){Nl(l),ff(l),l.g=null;var S=2}else if(af(l.h,f))m=f.D,U0(l.h,f),S=1;else return;if(l.G!=0){if(f.o)if(S==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var L=l.B;S=wl(),yt(S,new P0(S,m)),kl(l)}else sy(l);else if(L=f.s,L==3||L==0&&0<f.X||!(S==1&&KC(l,f)||S==2&&df(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),L){case 1:mi(l,5);break;case 4:mi(l,10);break;case 3:mi(l,6);break;default:mi(l,2)}}}function uy(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function mi(l,f){if(l.j.info("Error code "+f),f==2){var m=p(l.fb,l),S=l.Xa;const L=!S;S=new pi(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||bl(S,"https"),Sl(S),L?jC(S.toString(),m):UC(S.toString(),m)}else vt(2);l.G=0,l.l&&l.l.sa(f),cy(l),ry(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function cy(l){if(l.G=0,l.ka=[],l.l){const f=z0(l.h);(f.length!=0||l.i.length!=0)&&(C(l.ka,f),C(l.ka,l.i),l.h.i.length=0,E(l.i),l.i.length=0),l.l.ra()}}function dy(l,f,m){var S=m instanceof pi?Fn(m):new pi(m);if(S.g!="")f&&(S.g=f+"."+S.g),Il(S,S.s);else{var L=a.location;S=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var V=new pi(null);S&&bl(V,S),f&&(V.g=f),L&&Il(V,L),m&&(V.l=m),S=V}return m=l.D,f=l.ya,m&&f&&xe(S,m,f),xe(S,"VER",l.la),Ds(l,S),S}function fy(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Ne(new Cl({eb:m})):new Ne(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hy(){}t=hy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dl(){}Dl.prototype.g=function(l,f){return new Dt(l,f)};function Dt(l,f){st.call(this),this.g=new ny(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!_(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!_(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new to(this)}w(Dt,st),Dt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){cf(this.g)},Dt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Xd(l),l=m);f.i.push(new AC(f.Ya++,l)),f.G==3&&kl(f)},Dt.prototype.N=function(){this.g.l=null,delete this.j,cf(this.g),delete this.g,Dt.aa.N.call(this)};function py(l){Zd.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}w(py,Zd);function my(){ef.call(this),this.status=1}w(my,ef);function to(l){this.g=l}w(to,hy),to.prototype.ua=function(){yt(this.g,"a")},to.prototype.ta=function(l){yt(this.g,new py(l))},to.prototype.sa=function(l){yt(this.g,new my)},to.prototype.ra=function(){yt(this.g,"b")},Dl.prototype.createWebChannel=Dl.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,zI=function(){return new Dl},UI=function(){return wl()},jI=fi,Vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xl.NO_ERROR=0,xl.TIMEOUT=8,xl.HTTP_ERROR=6,zu=xl,k0.COMPLETE="complete",FI=k0,S0.EventType=Es,Es.OPEN="a",Es.CLOSE="b",Es.ERROR="c",Es.MESSAGE="d",st.prototype.listen=st.prototype.K,Ys=S0,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,VI=Ne}).apply(typeof lu<"u"?lu:typeof self<"u"?self:typeof window<"u"?window:{});const B_="@firebase/firestore",W_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ms="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Sg("@firebase/firestore");function uo(){return Ui.logLevel}function H(t,...e){if(Ui.logLevel<=ae.DEBUG){const n=e.map(jg);Ui.debug(`Firestore (${ms}): ${t}`,...n)}}function ur(t,...e){if(Ui.logLevel<=ae.ERROR){const n=e.map(jg);Ui.error(`Firestore (${ms}): ${t}`,...n)}}function Yo(t,...e){if(Ui.logLevel<=ae.WARN){const n=e.map(jg);Ui.warn(`Firestore (${ms}): ${t}`,...n)}}function jg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${ms}) INTERNAL ASSERTION FAILED: `+t;throw ur(e),new Error(e)}function ye(t,e){t||Z()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}}class l5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class u5{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ye(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new $I(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new ft(e)}}class c5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class d5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new c5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f5{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ln(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ye(this.o===void 0);const r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new H_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.R=n.token,new H_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=h5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=-62135596800,G_=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*G_);return new We(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<K_)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G_}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-K_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new We(0,0))}static max(){return new te(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="__name__";class En{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return En.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof En?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=En.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=En.isNumericId(e),i=En.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?En.extractNumericId(e).compare(En.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wr.fromString(e.substring(4,e.length-2))}}class Te extends En{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const p5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends En{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return p5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q_}static keyField(){return new nt([q_])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Te.fromString(e))}static fromName(e){return new X(Te.fromString(e).popFirst(5))}static empty(){return new X(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Te(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=-1;function m5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new ei(i,X.empty(),e)}function g5(t){return new ei(t.readTime,t.key,Ua)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(te.min(),X.empty(),Ua)}static max(){return new ei(te.max(),X.empty(),Ua)}}function y5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gs(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==v5)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function w5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ys(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Nd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=-1;function Dd(t){return t==null}function Vc(t){return t===0&&1/t==-1/0}function x5(t){return typeof t=="number"&&Number.isInteger(t)&&!Vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="";function E5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Q_(e)),e=T5(t.get(n),e);return Q_(e)}function T5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case WI:n+="";break;default:n+=o}}return n}function Q_(t){return t+WI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){this.comparator=e,this.root=n||tt.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tt.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uu(this.root,e,this.comparator,!0)}}class uu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??tt.RED,this.left=i??tt.EMPTY,this.right=o??tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new tt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}tt.EMPTY=null,tt.RED=!0,tt.BLACK=!1;tt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,o){return this}insert(e,n,r){return new tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X_(this.data.getIterator())}getIteratorFrom(e){return new X_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new He(this.comparator);return n.data=e,n}}class X_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new un([])}unionWith(e){let n=new He(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new KI("Invalid base64 string: "+o):o}}(e);return new ot(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const b5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(t){if(ye(!!t),typeof t=="string"){let e=0;const n=b5.exec(t);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ni(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="server_timestamp",qI="__type__",QI="__previous_value__",YI="__local_write_time__";function zg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[qI])===null||n===void 0?void 0:n.stringValue)===GI}function Md(t){const e=t.mapValue.fields[QI];return zg(e)?Md(e):e}function za(t){const e=ti(t.mapValue.fields[YI].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}const Fc="(default)";class $a{constructor(e,n){this.projectId=e,this.database=n||Fc}static empty(){return new $a("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="__type__",JI="__max__",cu={mapValue:{fields:{__type__:{stringValue:JI}}}},ZI="__vector__",jc="value";function ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zg(t)?4:C5(t)?9007199254740991:S5(t)?10:11:Z()}function Mn(t,e){if(t===e)return!0;const n=ri(t);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return za(t).isEqual(za(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ti(i.timestampValue),a=ti(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ni(i.bytesValue).isEqual(ni(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?Vc(s)===Vc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Y_(s)!==Y_(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Mn(s[u],a[u])))return!1;return!0}(t,e);default:return Z()}}function Ba(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function Jo(t,e){if(t===e)return 0;const n=ri(t),r=ri(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return J_(t.timestampValue,e.timestampValue);case 4:return J_(za(t),za(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ni(o),u=ni(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ue(a[c],u[c]);if(d!==0)return d}return ue(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ue(Oe(o.latitude),Oe(s.latitude));return a!==0?a:ue(Oe(o.longitude),Oe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Z_(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,d;const h=o.fields||{},p=s.fields||{},g=(a=h[jc])===null||a===void 0?void 0:a.arrayValue,w=(u=p[jc])===null||u===void 0?void 0:u.arrayValue,E=ue(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:Z_(g,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===cu.mapValue&&s===cu.mapValue)return 0;if(o===cu.mapValue)return 1;if(s===cu.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const p=ue(u[h],d[h]);if(p!==0)return p;const g=Jo(a[u[h]],c[d[h]]);if(g!==0)return g}return ue(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Z()}}function J_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=ti(t),r=ti(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function Z_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Jo(n[i],r[i]);if(o)return o}return ue(n.length,r.length)}function Zo(t){return Fp(t)}function Fp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Fp(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Fp(n.fields[s])}`;return i+"}"}(t.mapValue):Z()}function $u(t){switch(ri(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Md(t);return e?16+$u(e):16;case 5:return 2*t.stringValue.length;case 6:return ni(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+$u(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Gi(r.fields,(o,s)=>{i+=o.length+$u(s)}),i}(t.mapValue);default:throw Z()}}function ew(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jp(t){return!!t&&"integerValue"in t}function $g(t){return!!t&&"arrayValue"in t}function tw(t){return!!t&&"nullValue"in t}function nw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bu(t){return!!t&&"mapValue"in t}function S5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[XI])===null||n===void 0?void 0:n.stringValue)===ZI}function ua(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ua(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ua(t.arrayValue.values[n]);return e}return Object.assign({},t)}function C5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ua(n)}setAll(e){let n=nt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ua(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Bu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Kt(ua(this.value))}}function eS(t){const e=[];return Gi(t.fields,(n,r)=>{const i=new nt([n]);if(Bu(r)){const o=eS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new pt(e,0,te.min(),te.min(),te.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new pt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new pt(e,2,n,te.min(),te.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,te.min(),te.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.position=e,this.inclusive=n}}function rw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),n.key):r=Jo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function R5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{}class Ue extends tS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new P5(e,n,r):n==="array-contains"?new D5(e,r):n==="in"?new M5(e,r):n==="not-in"?new O5(e,r):n==="array-contains-any"?new L5(e,r):new Ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new k5(e,r):new N5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Jo(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends tS{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new yn(e,n)}matches(e){return nS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nS(t){return t.op==="and"}function rS(t){return A5(t)&&nS(t)}function A5(t){for(const e of t.filters)if(e instanceof yn)return!1;return!0}function Up(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+Zo(t.value);if(rS(t))return t.filters.map(e=>Up(e)).join(",");{const e=t.filters.map(n=>Up(n)).join(",");return`${t.op}(${e})`}}function iS(t,e){return t instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&Mn(r.value,i.value)}(t,e):t instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&iS(s,i.filters[a]),!0):!1}(t,e):void Z()}function oS(t){return t instanceof Ue?function(n){return`${n.field.canonicalString()} ${n.op} ${Zo(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(oS).join(" ,")+"}"}(t):"Filter"}class P5 extends Ue{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class k5 extends Ue{constructor(e,n){super(e,"in",n),this.keys=sS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class N5 extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=sS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class D5 extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $g(n)&&Ba(n.arrayValue,this.value)}}class M5 extends Ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ba(this.value.arrayValue,n)}}class O5 extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ba(this.value.arrayValue,n)}}class L5 extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ba(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function ow(t,e=null,n=[],r=[],i=null,o=null,s=null){return new V5(t,e,n,r,i,o,s)}function Bg(t){const e=ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Up(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zo(r)).join(",")),e.le=n}return e.le}function Wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iw(t.startAt,e.startAt)&&iw(t.endAt,e.endAt)}function zp(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function F5(t,e,n,r,i,o,s,a){return new hl(t,e,n,r,i,o,s,a)}function aS(t){return new hl(t)}function sw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lS(t){return t.collectionGroup!==null}function ca(t){const e=ne(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new He(nt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new zc(o,r))}),n.has(nt.keyField().canonicalString())||e.he.push(new zc(nt.keyField(),r))}return e.he}function An(t){const e=ne(t);return e.Pe||(e.Pe=j5(e,ca(t))),e.Pe}function j5(t,e){if(t.limitType==="F")return ow(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new zc(i.field,o)});const n=t.endAt?new Uc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uc(t.startAt.position,t.startAt.inclusive):null;return ow(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $p(t,e){const n=t.filters.concat([e]);return new hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bp(t,e,n){return new hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Od(t,e){return Wg(An(t),An(e))&&t.limitType===e.limitType}function uS(t){return`${Bg(An(t))}|lt:${t.limitType}`}function co(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>oS(i)).join(", ")}]`),Dd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zo(i)).join(",")),`Target(${r})`}(An(t))}; limitType=${t.limitType})`}function Ld(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ca(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const c=rw(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,ca(r),i)||r.endAt&&!function(s,a,u){const c=rw(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,ca(r),i))}(t,e)}function U5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cS(t){return(e,n)=>{let r=!1;for(const i of ca(t)){const o=z5(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function z5(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?Jo(u,c):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return HI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=new ke(X.comparator);function cr(){return $5}const dS=new ke(X.comparator);function Xs(...t){let e=dS;for(const n of t)e=e.insert(n.key,n);return e}function fS(t){let e=dS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Si(){return da()}function hS(){return da()}function da(){return new qi(t=>t.toString(),(t,e)=>t.isEqual(e))}const B5=new ke(X.comparator),W5=new He(X.comparator);function le(...t){let e=W5;for(const n of t)e=e.add(n);return e}const H5=new He(ue);function K5(){return H5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function pS(t){return{integerValue:""+t}}function G5(t,e){return x5(e)?pS(e):Hg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this._=void 0}}function q5(t,e,n){return t instanceof $c?function(i,o){const s={fields:{[qI]:{stringValue:GI},[YI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&zg(o)&&(o=Md(o)),o&&(s.fields[QI]=o),{mapValue:s}}(n,e):t instanceof Wa?gS(t,e):t instanceof Ha?yS(t,e):function(i,o){const s=mS(i,o),a=aw(s)+aw(i.Ie);return jp(s)&&jp(i.Ie)?pS(a):Hg(i.serializer,a)}(t,e)}function Q5(t,e,n){return t instanceof Wa?gS(t,e):t instanceof Ha?yS(t,e):n}function mS(t,e){return t instanceof Bc?function(r){return jp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class $c extends Vd{}class Wa extends Vd{constructor(e){super(),this.elements=e}}function gS(t,e){const n=vS(e);for(const r of t.elements)n.some(i=>Mn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ha extends Vd{constructor(e){super(),this.elements=e}}function yS(t,e){let n=vS(e);for(const r of t.elements)n=n.filter(i=>!Mn(i,r));return{arrayValue:{values:n}}}class Bc extends Vd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function aw(t){return Oe(t.integerValue||t.doubleValue)}function vS(t){return $g(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Y5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wa&&i instanceof Wa||r instanceof Ha&&i instanceof Ha?Xo(r.elements,i.elements,Mn):r instanceof Bc&&i instanceof Bc?Mn(r.Ie,i.Ie):r instanceof $c&&i instanceof $c}(t.transform,e.transform)}class X5{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fd{}function _S(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xS(t.key,Jn.none()):new pl(t.key,t.data,Jn.none());{const n=t.data,r=Kt.empty();let i=new He(nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Qi(t.key,r,new un(i.toArray()),Jn.none())}}function J5(t,e,n){t instanceof pl?function(i,o,s){const a=i.value.clone(),u=uw(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qi?function(i,o,s){if(!Wu(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=uw(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(wS(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function fa(t,e,n,r){return t instanceof pl?function(o,s,a,u){if(!Wu(o.precondition,s))return a;const c=o.value.clone(),d=cw(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qi?function(o,s,a,u){if(!Wu(o.precondition,s))return a;const c=cw(o.fieldTransforms,u,s),d=s.data;return d.setAll(wS(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return Wu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Z5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=mS(r.transform,i||null);o!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,o))}return n||null}function lw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xo(r,i,(o,s)=>Y5(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pl extends Fd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qi extends Fd{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uw(t,e,n){const r=new Map;ye(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Q5(s,a,n[i]))}return r}function cw(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,q5(o,s,e))}return r}class xS extends Fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eV extends Fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&J5(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hS();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=_S(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(n,r)=>lw(n,r))&&Xo(this.baseMutations,e.baseMutations,(n,r)=>lw(n,r))}}class Kg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length);let i=function(){return B5}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Kg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,de;function iV(t){switch(t){case z.OK:return Z();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return Z()}}function ES(t){if(t===void 0)return ur("GRPC error has no .code"),z.UNKNOWN;switch(t){case Fe.OK:return z.OK;case Fe.CANCELLED:return z.CANCELLED;case Fe.UNKNOWN:return z.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return z.INTERNAL;case Fe.UNAVAILABLE:return z.UNAVAILABLE;case Fe.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Fe.NOT_FOUND:return z.NOT_FOUND;case Fe.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Fe.ABORTED:return z.ABORTED;case Fe.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Fe.DATA_LOSS:return z.DATA_LOSS;default:return Z()}}(de=Fe||(Fe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Wr([4294967295,4294967295],0);function dw(t){const e=oV().encode(t),n=new LI;return n.update(e),new Uint8Array(n.digest())}function fw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wr([n,r],0),new Wr([i,o],0)]}class Gg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Js(`Invalid padding: ${n}`);if(r<0)throw new Js(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Js(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Js(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Wr.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Wr.fromNumber(r)));return i.compare(sV)===1&&(i=new Wr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=dw(e),[r,i]=fw(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Gg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;const n=dw(e),[r,i]=fw(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Js extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jd(te.min(),i,new ke(ue),cr(),le())}}class ml{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ml(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class TS{constructor(e,n){this.targetId=e,this.ge=n}}class bS{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class hw{constructor(){this.pe=0,this.ye=pw(),this.we=ot.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=le(),n=le(),r=le();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new ml(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=pw()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ye(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class aV{constructor(e){this.ke=e,this.qe=new Map,this.Qe=cr(),this.$e=du(),this.Ke=du(),this.Ue=new ke(ue)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(zp(o))if(r===0){const s=new X(o.path);this.ze(n,s,pt.newNoDocument(s,te.min()))}else ye(r===1);else{const s=this.et(n);if(s!==r){const a=this.tt(e),u=a?this.nt(a,e,s):1;if(u!==0){this.Ye(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ni(r).toUint8Array()}catch(u){if(u instanceof KI)return Yo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Gg(s,i,o)}catch(u){return Yo(u instanceof Js?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.it(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&zp(a.target)){const u=new X(a.target.path);this._t(u).has(s)||this.ut(s,u)||this.ze(s,u,pt.newNoDocument(u,e))}o.ve&&(n.set(s,o.Fe()),o.Me())}});let r=le();this.Ke.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Xe(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new jd(e,n,this.Ue,this.Qe,r);return this.Qe=cr(),this.$e=du(),this.Ke=du(),this.Ue=new ke(ue),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new hw,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new He(ue),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new He(ue),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new hw),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function du(){return new ke(X.comparator)}function pw(){return new ke(X.comparator)}const lV={asc:"ASCENDING",desc:"DESCENDING"},uV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cV={and:"AND",or:"OR"};class dV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wp(t,e){return t.useProto3Json||Dd(e)?e:{value:e}}function Wc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fV(t,e){return Wc(t,e.toTimestamp())}function Pn(t){return ye(!!t),te.fromTimestamp(function(n){const r=ti(n);return new We(r.seconds,r.nanos)}(t))}function qg(t,e){return Hp(t,e).canonicalString()}function Hp(t,e){const n=function(i){return new Te(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SS(t){const e=Te.fromString(t);return ye(kS(e)),e}function Kp(t,e){return qg(t.databaseId,e.path)}function fh(t,e){const n=SS(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(RS(n))}function CS(t,e){return qg(t.databaseId,e)}function hV(t){const e=SS(t);return e.length===4?Te.emptyPath():RS(e)}function Gp(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RS(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function mw(t,e,n){return{name:Kp(t,e),fields:n.value.mapValue.fields}}function pV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(ye(d===void 0||typeof d=="string"),ot.fromBase64String(d||"")):(ye(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ot.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?z.UNKNOWN:ES(c.code);return new Q(d,c.message||"")}(s);n=new bS(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fh(t,r.document.name),o=Pn(r.document.updateTime),s=r.document.createTime?Pn(r.document.createTime):te.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=pt.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Hu(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fh(t,r.document),o=r.readTime?Pn(r.readTime):te.min(),s=pt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Hu([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fh(t,r.document),o=r.removedTargetIds||[];n=new Hu([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new rV(i,o),a=r.targetId;n=new TS(a,s)}}return n}function mV(t,e){let n;if(e instanceof pl)n={update:mw(t,e.key,e.value)};else if(e instanceof xS)n={delete:Kp(t,e.key)};else if(e instanceof Qi)n={update:mw(t,e.key,e.data),updateMask:bV(e.fieldMask)};else{if(!(e instanceof eV))return Z();n={verify:Kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof $c)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ha)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bc)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:fV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(t,e.precondition)),n}function gV(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Pn(i.updateTime):Pn(o);return s.isEqual(te.min())&&(s=Pn(o)),new X5(s,i.transformResults||[])}(n,e))):[]}function yV(t,e){return{documents:[CS(t,e.path)]}}function vV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CS(t,i);const o=function(c){if(c.length!==0)return PS(yn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:fo(p.field),direction:xV(p.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Wp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function _V(t){let e=hV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const p=AS(h);return p instanceof yn&&rS(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(p=>function(w){return new zc(ho(w.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Dd(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(h){const p=!!h.before,g=h.values||[];return new Uc(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,g=h.values||[];return new Uc(g,p)}(n.endAt)),F5(e,i,s,o,a,"F",u,c)}function wV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ho(n.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ho(n.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ho(n.unaryFilter.field);return Ue.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ho(n.unaryFilter.field);return Ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Ue.create(ho(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(r=>AS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function xV(t){return lV[t]}function EV(t){return uV[t]}function TV(t){return cV[t]}function fo(t){return{fieldPath:t.canonicalString()}}function ho(t){return nt.fromServerFormat(t.fieldPath)}function PS(t){return t instanceof Ue?function(n){if(n.op==="=="){if(nw(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(tw(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nw(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(tw(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:EV(n.op),value:n.value}}}(t):t instanceof yn?function(n){const r=n.getFilters().map(i=>PS(i));return r.length===1?r[0]:{compositeFilter:{op:TV(n.op),filters:r}}}(t):Z()}function bV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,i,o=te.min(),s=te.min(),a=ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.Tt=e}}function SV(t){const e=_V({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.Tn=new RV}addToCollectionParentIndex(e,n){return this.Tn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ei.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class RV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(Te.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NS=41943040;class It{static withCacheSize(e){return new It(e,It.DEFAULT_COLLECTION_PERCENTILE,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */It.DEFAULT_COLLECTION_PERCENTILE=10,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,It.DEFAULT=new It(NS,It.DEFAULT_COLLECTION_PERCENTILE,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),It.DISABLED=new It(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new es(0)}static Un(){return new es(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="LruGarbageCollector",AV=1048576;function vw([t,e],[n,r]){const i=ue(t,n);return i===0?ue(e,r):i}class PV{constructor(e){this.Hn=e,this.buffer=new He(vw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){H(yw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ys(n)?H(yw,"Ignoring IndexedDB error during garbage collection: ",n):await gs(n)}await this.er(3e5)})}}class NV{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Nd.ae);const r=new PV(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(gw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gw):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),uo()<=ae.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${h} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function DV(t,e){return new NV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.changes=new qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fa(r.mutation,i,un.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=Si();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Xs();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=cr();const s=da(),a=function(){return da()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Qi)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),fa(d.mutation,c,d.mutation.getFieldMask(),We.now())):s.set(c.key,un.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new OV(d,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=da();let i=new ke((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||un.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=hS();d.forEach(p=>{if(!o.has(p)){const g=_S(n.get(p),r.get(p));g!==null&&h.set(p,g),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):U.resolve(Si());let a=Ua,u=o;return s.next(c=>U.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,le())).next(d=>({batchId:a,changes:fS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=Xs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Xs();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,u=>{const c=function(h,p){return new hl(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,pt.newInvalidDocument(d)))});let a=Xs();return s.forEach((u,c)=>{const d=o.get(u);d!==void 0&&fa(d.mutation,c,un.empty(),We.now()),Ld(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return U.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:SV(i.bundledQuery),readTime:Pn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.overlays=new ke(X.comparator),this.Rr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Si();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Si(),o=n.length+1,s=new X(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ke((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Si(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Si(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return U.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new nV(n,r));let o=this.Rr.get(n);o===void 0&&(o=le(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.sessionToken=ot.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.Vr=new He(Ge.mr),this.gr=new He(Ge.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Ge(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Ge(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new X(new Te([])),r=new Ge(n,e),i=new Ge(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new X(new Te([])),r=new Ge(n,e),i=new Ge(n,e+1);let o=le();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ge(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ge{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return X.comparator(e.key,n.key)||ue(e.Cr,n.Cr)}static pr(e,n){return ue(e.Cr,n.Cr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new He(Ge.mr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new tV(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new Ge(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,n){return U.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Ug:this.Fr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ge(n,0),i=new Ge(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(ue);return n.forEach(i=>{const o=new Ge(i,0),s=new Ge(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),U.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;X.isDocumentKey(o)||(o=o.child(""));const s=new Ge(new X(o),0);let a=new He(ue);return this.Mr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Cr)),!0)},s),U.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return U.forEach(n.mutations,i=>{const o=new Ge(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Ge(n,0),i=this.Mr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.kr=e,this.docs=function(){return new ke(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=cr();const s=n.path,a=new X(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||y5(g5(d),r)<=0||(i.has(d.key)||Ld(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Z()}qr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $V(this)}getSize(e){return U.resolve(this.size)}}class $V extends MV{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.persistence=e,this.Qr=new qi(n=>Bg(n),Wg),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Qg,this.targetCount=0,this.Ur=es.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),U.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new es(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.zn(n),U.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Kr.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Nd(0),this.zr=!1,this.zr=!0,this.jr=new jV,this.referenceDelegate=e(this),this.Hr=new BV(this),this.indexManager=new CV,this.remoteDocumentCache=function(i){return new zV(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new IV(n),this.Yr=new VV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new UV(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new WV(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return U.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class WV extends _5{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.ti=new Qg,this.ni=null}static ri(e){return new Yg(e)}get ii(){if(this.ni)return this.ni;throw Z()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),U.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.ii,r=>{const i=X.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return U.or([()=>U.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Hc{constructor(e,n){this.persistence=e,this.oi=new qi(r=>E5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=DV(this,n)}static ri(e,n){return new Hc(e,n)}Zr(){}Xr(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return U.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),U.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$u(e.data.value)),n}ar(e,n,r){return U.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=le(),i=le();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Xg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return B3()?8:w5(gt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new HV;return this._s(e,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,n,s,a.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(uo()<=ae.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),U.resolve()):(uo()<=ae.DEBUG&&H("QueryEngine","Query:",co(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(uo()<=ae.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(n))):U.resolve())}rs(e,n){if(sw(n))return U.resolve(null);let r=An(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bp(n,null,"F"),r=An(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=le(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.cs(n,a);return this.ls(n,c,s,u.readTime)?this.rs(e,Bp(n,null,"F")):this.hs(e,c,n,u)}))})))}ss(e,n,r,i){return sw(n)||i.isEqual(te.min())?U.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?U.resolve(null):(uo()<=ae.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),co(n)),this.hs(e,s,n,m5(i,Ua)).next(a=>a))})}cs(e,n){let r=new He(cS(e));return n.forEach((i,o)=>{Ld(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return uo()<=ae.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",co(n)),this.ns.getDocumentsMatchingQuery(e,n,ei.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="LocalStore",GV=3e8;class qV{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new ke(ue),this.Is=new qi(o=>Bg(o),Wg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LV(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function QV(t,e,n,r){return new qV(t,e,n,r)}async function MS(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=le();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Rs:c,removedBatchIds:s,addedBatchIds:a}))})})}function YV(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,p=h.keys();let g=U.resolve();return p.forEach(w=>{g=g.next(()=>d.getEntry(u,w)).next(E=>{const C=c.docVersions.get(w);ye(C!==null),E.version.compareTo(C)<0&&(h.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),d.addEntry(E)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function OS(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function XV(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Hr.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(o,d.addedDocuments,h)));let g=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(ot.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(E,C,y){return E.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=GV?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,g,d)&&a.push(n.Hr.updateTargetData(o,g))});let u=cr(),c=le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(JV(o,s,e.documentUpdates).next(d=>{u=d.Vs,c=d.fs})),!r.isEqual(te.min())){const d=n.Hr.getLastRemoteSnapshotVersion(o).next(h=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ts=i,o))}function JV(t,e,n){let r=le(),i=le();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=cr();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):H(Jg,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Vs:s,fs:i}})}function ZV(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ug),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eF(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):n.Hr.allocateTargetId(r).next(s=>(i=new Nr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function qp(t,e,n){const r=ne(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ys(s))throw s;H(Jg,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function _w(t,e,n){const r=ne(t);let i=te.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const h=ne(u),p=h.Is.get(d);return p!==void 0?U.resolve(h.Ts.get(p)):h.Hr.getTargetData(c,d)}(r,s,An(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:le())).next(a=>(tF(r,U5(e),a),{documents:a,gs:o})))}function tF(t,e,n){let r=t.Es.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class ww{constructor(){this.activeTargetIds=K5()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nF{constructor(){this.ho=new ww,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ww,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="ConnectivityMonitor";class Ew{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){H(xw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){H(xw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu=null;function Qp(){return fu===null?fu=function(){return 268435456+Math.round(2147483648*Math.random())}():fu++,"0x"+fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="RestConnection",iF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oF{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Fc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=Qp(),a=this.bo(e,n.toUriEncodedString());H(hh,`Sending RPC '${e}' ${s}:`,a,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,i,o),this.vo(e,a,u,r).then(c=>(H(hh,`Received RPC '${e}' ${s}: `,c),c),c=>{throw Yo(hh,`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ms}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=iF[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt="WebChannelConnection";class aF extends oF{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=Qp();return new Promise((s,a)=>{const u=new VI;u.setWithCredentials(!0),u.listenOnce(FI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case zu.NO_ERROR:const d=u.getResponseJson();H(dt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case zu.TIMEOUT:H(dt,`RPC '${e}' ${o} timed out`),a(new Q(z.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:const h=u.getStatus();if(H(dt,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(C){const y=C.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(y)>=0?y:z.UNKNOWN}(g.status);a(new Q(w,g.message))}else a(new Q(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Q(z.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{H(dt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);H(dt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=Qp(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=zI(),a=UI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");H(dt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=s.createWebChannel(d,u);let p=!1,g=!1;const w=new sF({Fo:C=>{g?H(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(p||(H(dt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),H(dt,`RPC '${e}' stream ${i} sending:`,C),h.send(C))},Mo:()=>h.close()}),E=(C,y,_)=>{C.listen(y,x=>{try{_(x)}catch(k){setTimeout(()=>{throw k},0)}})};return E(h,Ys.EventType.OPEN,()=>{g||(H(dt,`RPC '${e}' stream ${i} transport opened.`),w.Qo())}),E(h,Ys.EventType.CLOSE,()=>{g||(g=!0,H(dt,`RPC '${e}' stream ${i} transport closed`),w.Ko())}),E(h,Ys.EventType.ERROR,C=>{g||(g=!0,Yo(dt,`RPC '${e}' stream ${i} transport errored:`,C),w.Ko(new Q(z.UNAVAILABLE,"The operation could not be completed")))}),E(h,Ys.EventType.MESSAGE,C=>{var y;if(!g){const _=C.data[0];ye(!!_);const x=_,k=(x==null?void 0:x.error)||((y=x[0])===null||y===void 0?void 0:y.error);if(k){H(dt,`RPC '${e}' stream ${i} received error:`,k);const O=k.status;let M=function(R){const A=Fe[R];if(A!==void 0)return ES(A)}(O),I=k.message;M===void 0&&(M=z.INTERNAL,I="Unknown error status: "+O+" with message "+k.message),g=!0,w.Ko(new Q(M,I)),h.close()}else H(dt,`RPC '${e}' stream ${i} received:`,_),w.Uo(_)}}),E(a,jI.STAT_EVENT,C=>{C.stat===Vp.PROXY?H(dt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Vp.NOPROXY&&H(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.$o()},0),w}}function ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){return new dV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="PersistentStream";class VS{constructor(e,n,r,i,o,s,a,u){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new LS(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Q(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return H(Tw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(H(Tw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lF extends VS{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=pV(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?Pn(s.readTime):te.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Gp(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=zp(u)?{documents:yV(o,u)}:{query:vV(o,u).ht},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=IS(o,s.resumeToken);const c=Wp(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=Wc(o,s.snapshotVersion.toTimestamp());const c=Wp(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=wV(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Gp(this.serializer),n.removeTarget=e,this.I_(n)}}class uF extends VS{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ye(!!e.streamToken),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=gV(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Gp(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mV(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{}class dF extends cF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Hp(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(z.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,Hp(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(z.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class fF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ur(n),this.N_=!1):H("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="RemoteStore";class hF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{Yi(this)&&(H(zi,"Restarting streams for network reachability change."),await async function(u){const c=ne(u);c.W_.add(4),await gl(c),c.j_.set("Unknown"),c.W_.delete(4),await zd(c)}(this))})}),this.j_=new fF(r,i)}}async function zd(t){if(Yi(t))for(const e of t.G_)await e(!0)}async function gl(t){for(const e of t.G_)await e(!1)}function FS(t,e){const n=ne(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),n0(n)?t0(n):vs(n).c_()&&e0(n,e))}function Zg(t,e){const n=ne(t),r=vs(n);n.U_.delete(e),r.c_()&&jS(n,e),n.U_.size===0&&(r.c_()?r.P_():Yi(n)&&n.j_.set("Unknown"))}function e0(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vs(t).y_(e)}function jS(t,e){t.H_.Ne(e),vs(t).w_(e)}function t0(t){t.H_=new aV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),vs(t).start(),t.j_.B_()}function n0(t){return Yi(t)&&!vs(t).u_()&&t.U_.size>0}function Yi(t){return ne(t).W_.size===0}function US(t){t.H_=void 0}async function pF(t){t.j_.set("Online")}async function mF(t){t.U_.forEach((e,n)=>{e0(t,e)})}async function gF(t,e){US(t),n0(t)?(t.j_.q_(e),t0(t)):t.j_.set("Unknown")}async function yF(t,e,n){if(t.j_.set("Online"),e instanceof bS&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.U_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){H(zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kc(t,r)}else if(e instanceof Hu?t.H_.We(e):e instanceof TS?t.H_.Ze(e):t.H_.je(e),!n.isEqual(te.min()))try{const r=await OS(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.H_.ot(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.U_.get(c);d&&o.U_.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.U_.get(u);if(!d)return;o.U_.set(u,d.withResumeToken(ot.EMPTY_BYTE_STRING,d.snapshotVersion)),jS(o,u);const h=new Nr(d.target,u,c,d.sequenceNumber);e0(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){H(zi,"Failed to raise snapshot:",r),await Kc(t,r)}}async function Kc(t,e,n){if(!ys(e))throw e;t.W_.add(1),await gl(t),t.j_.set("Offline"),n||(n=()=>OS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(zi,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await zd(t)})}function zS(t,e){return e().catch(n=>Kc(t,n,e))}async function $d(t){const e=ne(t),n=ii(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ug;for(;vF(e);)try{const i=await ZV(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,_F(e,i)}catch(i){await Kc(e,i)}$S(e)&&BS(e)}function vF(t){return Yi(t)&&t.K_.length<10}function _F(t,e){t.K_.push(e);const n=ii(t);n.c_()&&n.S_&&n.b_(e.mutations)}function $S(t){return Yi(t)&&!ii(t).u_()&&t.K_.length>0}function BS(t){ii(t).start()}async function wF(t){ii(t).C_()}async function xF(t){const e=ii(t);for(const n of t.K_)e.b_(n.mutations)}async function EF(t,e,n){const r=t.K_.shift(),i=Kg.from(r,e,n);await zS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $d(t)}async function TF(t,e){e&&ii(t).S_&&await async function(r,i){if(function(s){return iV(s)&&s!==z.ABORTED}(i.code)){const o=r.K_.shift();ii(r).h_(),await zS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await $d(r)}}(t,e),$S(t)&&BS(t)}async function bw(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),H(zi,"RemoteStore received new credentials");const r=Yi(n);n.W_.add(3),await gl(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await zd(n)}async function bF(t,e){const n=ne(t);e?(n.W_.delete(2),await zd(n)):e||(n.W_.add(2),await gl(n),n.j_.set("Unknown"))}function vs(t){return t.J_||(t.J_=function(n,r,i){const o=ne(n);return o.M_(),new lF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:pF.bind(null,t),No:mF.bind(null,t),Lo:gF.bind(null,t),p_:yF.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),n0(t)?t0(t):t.j_.set("Unknown")):(await t.J_.stop(),US(t))})),t.J_}function ii(t){return t.Y_||(t.Y_=function(n,r,i){const o=ne(n);return o.M_(),new uF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:wF.bind(null,t),Lo:TF.bind(null,t),D_:xF.bind(null,t),v_:EF.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await $d(t)):(await t.Y_.stop(),t.K_.length>0&&(H(zi,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new r0(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function i0(t,e){if(ur("AsyncQueue",`${e}: ${t}`),ys(t))return new Q(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Xs(),this.sortedSet=new ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.Z_=new ke(X.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Z():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ts{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ts(e,n,Fo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class SF{constructor(){this.queries=Sw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=ne(n),o=i.queries;i.queries=Sw(),o.forEach((s,a)=>{for(const u of a.ta)u.onError(r)})})(this,new Q(z.ABORTED,"Firestore shutting down"))}}function Sw(){return new qi(t=>uS(t),Od)}async function CF(t,e){const n=ne(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new IF,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=i0(s,`Initialization of query '${co(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&o0(n)}async function RF(t,e){const n=ne(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ta.indexOf(e);s>=0&&(o.ta.splice(s,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function AF(t,e){const n=ne(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ta)a.oa(i)&&(r=!0);s.ea=i}}r&&o0(n)}function PF(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function o0(t){t.ia.forEach(e=>{e.next()})}var Yp,Cw;(Cw=Yp||(Yp={}))._a="default",Cw.Cache="cache";class kF{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ts(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.key=e}}class HS{constructor(e){this.key=e}}class NF{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=le(),this.mutatedKeys=le(),this.ya=cS(e),this.wa=new Fo(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new Iw,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=Ld(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;p&&g?p.data.isEqual(g.data)?w!==E&&(r.track({type:3,doc:g}),C=!0):this.va(p,g)||(r.track({type:2,doc:g}),C=!0,(u&&this.ya(g,u)>0||c&&this.ya(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),C=!0):p&&!g&&(r.track({type:1,doc:p}),C=!0,(u||c)&&(a=!0)),C&&(g?(s=s.add(g),o=E?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{wa:s,Da:r,ls:a,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const s=e.Da.X_();s.sort((d,h)=>function(g,w){const E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return E(g)-E(w)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],u=this.pa.size===0&&this.current&&!i?1:0,c=u!==this.ga;return this.ga=u,s.length!==0||c?{snapshot:new ts(this.query,e.wa,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Iw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=le(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new HS(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new WS(r))}),n}Oa(e){this.fa=e.gs,this.pa=le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return ts.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const s0="SyncEngine";class DF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MF{constructor(e){this.key=e,this.Ba=!1}}class OF{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new qi(a=>uS(a),Od),this.qa=new Map,this.Qa=new Set,this.$a=new ke(X.comparator),this.Ka=new Map,this.Ua=new Qg,this.Wa={},this.Ga=new Map,this.za=es.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function LF(t,e,n=!0){const r=XS(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await KS(r,e,n,!0),i}async function VF(t,e){const n=XS(t);await KS(n,e,!0,!1)}async function KS(t,e,n,r){const i=await eF(t.localStore,An(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await FF(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&FS(t.remoteStore,i),a}async function FF(t,e,n,r,i){t.Ha=(h,p,g)=>async function(E,C,y,_){let x=C.view.ba(y);x.ls&&(x=await _w(E.localStore,C.query,!1).then(({documents:I})=>C.view.ba(I,x)));const k=_&&_.targetChanges.get(C.targetId),O=_&&_.targetMismatches.get(C.targetId)!=null,M=C.view.applyChanges(x,E.isPrimaryClient,k,O);return Aw(E,C.targetId,M.Ma),M.snapshot}(t,h,p,g);const o=await _w(t.localStore,e,!0),s=new NF(e,o.gs),a=s.ba(o.documents),u=ml.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);Aw(t,n,c.Ma);const d=new DF(e,n,s);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function jF(t,e,n){const r=ne(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(s=>!Od(s,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await qp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zg(r.remoteStore,i.targetId),Xp(r,i.targetId)}).catch(gs)):(Xp(r,i.targetId),await qp(r.localStore,i.targetId,!0))}async function UF(t,e){const n=ne(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zg(n.remoteStore,r.targetId))}async function zF(t,e,n){const r=qF(t);try{const i=await function(s,a){const u=ne(s),c=We.now(),d=a.reduce((g,w)=>g.add(w.key),le());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=cr(),E=le();return u.ds.getEntries(g,d).next(C=>{w=C,w.forEach((y,_)=>{_.isValidDocument()||(E=E.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,w)).next(C=>{h=C;const y=[];for(const _ of a){const x=Z5(_,h.get(_.key).overlayedDocument);x!=null&&y.push(new Qi(_.key,x,eS(x.value.mapValue),Jn.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,y,a)}).next(C=>{p=C;const y=C.applyToLocalDocumentSet(h,E);return u.documentOverlayCache.saveOverlays(g,C.batchId,y)})}).then(()=>({batchId:p.batchId,changes:fS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Wa[s.currentUser.toKey()];c||(c=new ke(ue)),c=c.insert(a,u),s.Wa[s.currentUser.toKey()]=c}(r,i.batchId,n),await yl(r,i.changes),await $d(r.remoteStore)}catch(i){const o=i0(i,"Failed to persist write");n.reject(o)}}async function GS(t,e){const n=ne(t);try{const r=await XV(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ka.get(o);s&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ba=!0:i.modifiedDocuments.size>0?ye(s.Ba):i.removedDocuments.size>0&&(ye(s.Ba),s.Ba=!1))}),await yl(n,r,e)}catch(r){await gs(r)}}function Rw(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=ne(s);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const p of h.ta)p.sa(a)&&(c=!0)}),c&&o0(u)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $F(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ka.get(e),o=i&&i.key;if(o){let s=new ke(X.comparator);s=s.insert(o,pt.newNoDocument(o,te.min()));const a=le().add(o),u=new jd(te.min(),new Map,new ke(ue),s,a);await GS(r,u),r.$a=r.$a.remove(o),r.Ka.delete(e),a0(r)}else await qp(r.localStore,e,!1).then(()=>Xp(r,e,n)).catch(gs)}async function BF(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await YV(n.localStore,e);QS(n,r,null),qS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yl(n,i)}catch(i){await gs(i)}}async function WF(t,e,n){const r=ne(t);try{const i=await function(s,a){const u=ne(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(ye(h!==null),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);QS(r,e,n),qS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yl(r,i)}catch(i){await gs(i)}}function qS(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function QS(t,e,n){const r=ne(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Xp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.br(e).forEach(r=>{t.Ua.containsKey(r)||YS(t,r)})}function YS(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Zg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),a0(t))}function Aw(t,e,n){for(const r of n)r instanceof WS?(t.Ua.addReference(r.key,e),HF(t,r)):r instanceof HS?(H(s0,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||YS(t,r.key)):Z()}function HF(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(H(s0,"New document in limbo: "+n),t.Qa.add(r),a0(t))}function a0(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new X(Te.fromString(e)),r=t.za.next();t.Ka.set(r,new MF(n)),t.$a=t.$a.insert(n,r),FS(t.remoteStore,new Nr(An(aS(n.path)),r,"TargetPurposeLimboResolution",Nd.ae))}}async function yl(t,e,n){const r=ne(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,u)=>{s.push(r.Ha(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Xg.Yi(u.targetId,c);o.push(h)}}))}),await Promise.all(s),r.La.p_(i),await async function(u,c){const d=ne(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(c,p=>U.forEach(p.Hi,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>U.forEach(p.Ji,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!ys(h))throw h;H(Jg,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=d.Ts.get(p),w=g.snapshotVersion,E=g.withLastLimboFreeSnapshotVersion(w);d.Ts=d.Ts.insert(p,E)}}}(r.localStore,o))}async function KF(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){H(s0,"User change. New user:",e.toKey());const r=await MS(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(u=>{u.reject(new Q(z.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yl(n,r.Rs)}}function GF(t,e){const n=ne(t),r=n.Ka.get(e);if(r&&r.Ba)return le().add(r.key);{let i=le();const o=n.qa.get(e);if(!o)return i;for(const s of o){const a=n.ka.get(s);i=i.unionWith(a.view.Sa)}return i}}function XS(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$F.bind(null,e),e.La.p_=AF.bind(null,e.eventManager),e.La.Ja=PF.bind(null,e.eventManager),e}function qF(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WF.bind(null,e),e}class Gc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return QV(this.persistence,new KV,e.initialUser,this.serializer)}Xa(e){return new DS(Yg.ri,this.serializer)}Za(e){return new nF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gc.provider={build:()=>new Gc};class QF extends Gc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ye(this.persistence.referenceDelegate instanceof Hc);const r=this.persistence.referenceDelegate.garbageCollector;return new kV(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?It.withCacheSize(this.cacheSizeBytes):It.DEFAULT;return new DS(r=>Hc.ri(r,n),this.serializer)}}class Jp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KF.bind(null,this.syncEngine),await bF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new SF}()}createDatastore(e){const n=Ud(e.databaseInfo.databaseId),r=function(o){return new aF(o)}(e.databaseInfo);return function(o,s,a,u){return new dF(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new hF(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Rw(this.syncEngine,n,0),function(){return Ew.D()?new Ew:new rF}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,d){const h=new OF(i,o,s,a,u,c);return d&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ne(i);H(zi,"RemoteStore shutting down."),o.W_.add(5),await gl(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Jp.provider={build:()=>new Jp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="FirestoreClient";class XF{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=BI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{H(oi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(H(oi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=i0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mh(t,e){t.asyncQueue.verifyOperationInProgress(),H(oi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Pw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JF(t);H(oi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bw(e.remoteStore,i)),t._onlineComponents=e}async function JF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(oi,"Using user provided OfflineComponentProvider");try{await mh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await mh(t,new Gc)}}else H(oi,"Using default OfflineComponentProvider"),await mh(t,new QF(void 0));return t._offlineComponents}async function JS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(oi,"Using user provided OnlineComponentProvider"),await Pw(t,t._uninitializedComponentsProvider._online)):(H(oi,"Using default OnlineComponentProvider"),await Pw(t,new Jp))),t._onlineComponents}function ZF(t){return JS(t).then(e=>e.syncEngine)}async function e8(t){const e=await JS(t),n=e.eventManager;return n.onListen=LF.bind(null,e.syncEngine),n.onUnlisten=jF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UF.bind(null,e.syncEngine),n}function t8(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const d=new YF({next:p=>{d.su(),s.enqueueAndForget(()=>RF(o,h)),p.fromCache&&u.source==="server"?c.reject(new Q(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new kF(a,d,{includeMetadataChanges:!0,Ta:!0});return CF(o,h)}(await e8(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t,e,n){if(!n)throw new Q(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n8(t,e,n,r){if(e===!0&&r===!0)throw new Q(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nw(t){if(!X.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Dw(t){if(X.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function qc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bd(t);throw new Q(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firestore.googleapis.com",Mw=!0;class Ow{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tC,this.ssl=Mw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Mw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AV)throw new Q(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ow({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ow(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a5;switch(r.type){case"firstParty":return new d5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kw.get(n);r&&(H("ComponentProvider","Removing Datastore"),kw.delete(n),r.terminate())}(this),Promise.resolve()}}function r8(t,e,n,r={}){var i;const o=(t=qc(t,Wd))._getSettings(),s=`${e}:${n}`;if(o.host!==tC&&o.host!==s&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ft.MOCK_USER;else{a=L3(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Q(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ft(c)}t._authCredentials=new l5(new $I(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class Kr extends _s{constructor(e,n,r){super(e,n,aS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new X(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function hu(t,e,...n){if(t=en(t),eC("collection","path",e),t instanceof Wd){const r=Te.fromString(e,...n);return Dw(r),new Kr(t,null,r)}{if(!(t instanceof Yt||t instanceof Kr))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return Dw(r),new Kr(t.firestore,null,r)}}function i8(t,e,...n){if(t=en(t),arguments.length===1&&(e=BI.newId()),eC("doc","path",e),t instanceof Wd){const r=Te.fromString(e,...n);return Nw(r),new Yt(t,null,new X(r))}{if(!(t instanceof Yt||t instanceof Kr))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return Nw(r),new Yt(t.firestore,t instanceof Kr?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="AsyncQueue";class Vw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new LS(this,"async_queue_retry"),this.Su=()=>{const r=ph();r&&H(Lw,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ys(e))throw e;H(Lw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=r0.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Z()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class l0 extends Wd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Vw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vw(e),this._firestoreClient=void 0,await e}}}function o8(t,e){const n=typeof t=="object"?t:nI(),r=typeof t=="string"?t:Fc,i=Rg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=M3("firestore");o&&r8(i,...o)}return i}function nC(t){if(t._terminated)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||s8(t),t._firestoreClient}function s8(t){var e,n,r;const i=t._freezeSettings(),o=function(a,u,c,d){return new I5(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ZS(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new XF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ns(ot.fromBase64String(e))}catch(n){throw new Q(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ns(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=/^__.*__$/;class l8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new pl(e,this.data,n,this.fieldTransforms)}}function iC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class f0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new f0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Qc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(iC(this.Lu)&&a8.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class u8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ud(e)}ju(e,n,r,i=!1){return new f0({Lu:e,methodName:n,zu:r,path:nt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oC(t){const e=t._freezeSettings(),n=Ud(t._databaseId);return new u8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c8(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);lC("Data must be an object, but it was:",s,r);const a=sC(r,s);let u,c;if(o.merge)u=new un(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=f8(e,h,n);if(!s.contains(p))throw new Q(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);p8(d,p)||d.push(p)}u=new un(d),c=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=s.fieldTransforms;return new l8(new Kt(a),u,c)}function d8(t,e,n,r=!1){return h0(n,t.ju(r?4:3,e))}function h0(t,e){if(aC(t=en(t)))return lC("Unsupported field value:",e,t),sC(t,e);if(t instanceof rC)return function(r,i){if(!iC(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=h0(a,i.Uu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return G5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=We.fromDate(r);return{timestampValue:Wc(i.serializer,o)}}if(r instanceof We){const o=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wc(i.serializer,o)}}if(r instanceof c0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ns)return{bytesValue:IS(i.serializer,r._byteString)};if(r instanceof Yt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof d0)return function(s,a){return{mapValue:{fields:{[XI]:{stringValue:ZI},[jc]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return Hg(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Bd(r)}`)}(t,e)}function sC(t,e){const n={};return HI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gi(t,(r,i)=>{const o=h0(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function aC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof c0||t instanceof ns||t instanceof Yt||t instanceof rC||t instanceof d0)}function lC(t,e,n){if(!aC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Bd(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function f8(t,e,n){if((e=en(e))instanceof u0)return e._internalPath;if(typeof e=="string")return uC(t,e);throw Qc("Field path arguments must be of type string or ",t,!1,void 0,n)}const h8=new RegExp("[~\\*/\\[\\]]");function uC(t,e,n){if(e.search(h8)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new u0(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qc(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Q(z.INVALID_ARGUMENT,a+t+u)}function p8(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(p0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m8 extends cC{data(){return super.data()}}function p0(t,e){return typeof e=="string"?uC(t,e):e instanceof u0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m0{}class y8 extends m0{}function pu(t,e,...n){let r=[];e instanceof m0&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof g0).length,a=o.filter(u=>u instanceof Hd).length;if(s>1||s>0&&a>0)throw new Q(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Hd extends y8{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hd(e,n,r)}_apply(e){const n=this._parse(e);return dC(e._query,n),new _s(e.firestore,e.converter,$p(e._query,n))}_parse(e){const n=oC(e.firestore);return function(o,s,a,u,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Q(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){jw(h,d);const w=[];for(const E of h)w.push(Fw(u,o,E));p={arrayValue:{values:w}}}else p=Fw(u,o,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||jw(h,d),p=d8(a,s,h,d==="in"||d==="not-in");return Ue.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mu(t,e,n){const r=e,i=p0("where",t);return Hd._create(i,r,n)}class g0 extends m0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new g0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)dC(s,u),s=$p(s,u)}(e._query,n),new _s(e.firestore,e.converter,$p(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fw(t,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new Q(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lS(e)&&n.indexOf("/")!==-1)throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Te.fromString(n));if(!X.isDocumentKey(r))throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ew(t,new X(r))}if(n instanceof Yt)return ew(t,n._key);throw new Q(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bd(n)}.`)}function jw(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dC(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class v8{convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[jc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new d0(o)}convertGeoPoint(e){return new c0(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Md(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(za(e));default:return null}}convertTimestamp(e){const n=ti(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);ye(kS(r));const i=new $a(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(n)||ur(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class w8 extends cC{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(p0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ku extends w8{data(e={}){return super.data(e)}}class x8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ku(this._firestore,this._userDataWriter,r.key,r,new gu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new Ku(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new Ku(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:E8(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function E8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}class T8 extends v8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ns(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function yu(t){t=qc(t,_s);const e=qc(t.firestore,l0),n=nC(e),r=new T8(e);return g8(t._query),t8(n,t._query).then(i=>new x8(e,r,t,i))}function b8(t,e){const n=qc(t.firestore,l0),r=i8(t),i=_8(t.converter,e);return I8(n,[c8(oC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function I8(t,e){return function(r,i){const o=new Hr;return r.asyncQueue.enqueueAndForget(async()=>zF(await ZF(r),i,o)),o.promise}(nC(t),e)}(function(e,n=!0){(function(i){ms=i})(hs),qo(new Fi("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new l0(new u5(r.getProvider("auth-internal")),new f5(s,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Br(B_,W_,e),Br(B_,W_,"esm2017")})();const S8={apiKey:"AIzaSyDuzwrMs8ydith8dpNzfaQsV3CxAC8LO5o",authDomain:"zoove-website.firebaseapp.com",projectId:"zoove-website",storageBucket:"zoove-website.firebasestorage.app",messagingSenderId:"381514395438",appId:"1:381514395438:web:7e1e94a25d69e50341d4bf"},fC=tI(S8),C8=o5(fC),R8=new Bn,vu=o8(fC),A8={};var Zp=null;function P8(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return A8.randomBytes(t)}catch{}if(!Zp)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Zp(t)}function k8(t){Zp=t}function y0(t,e){if(t=t||v0,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(Yc(P8(Ka),Ka)),n.join("")}function hC(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=v0;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function r(i){cn(function(){try{i(null,y0(t))}catch(o){i(o)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(i,o){r(function(s,a){if(s){o(s);return}i(a)})})}function pC(t,e){if(typeof e>"u"&&(e=v0),typeof e=="number"&&(e=y0(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return em(t,e)}function mC(t,e,n,r){function i(o){typeof t=="string"&&typeof e=="number"?hC(e,function(s,a){em(t,a,o,r)}):typeof t=="string"&&typeof e=="string"?em(t,e,o,r):cn(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(o,s){i(function(a,u){if(a){s(a);return}o(u)})})}function gC(t,e){for(var n=t.length^e.length,r=0;r<t.length;++r)n|=t.charCodeAt(r)^e.charCodeAt(r);return n===0}function N8(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:gC(pC(t,e.substring(0,e.length-31)),e)}function D8(t,e,n,r){function i(o){if(typeof t!="string"||typeof e!="string"){cn(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){cn(o.bind(this,null,!1));return}mC(t,e.substring(0,29),function(s,a){s?o(s):o(null,gC(a,e))},r)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(o,s){i(function(a,u){if(a){s(a);return}o(u)})})}function M8(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function O8(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function L8(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return yC(t)>72}var cn=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function yC(t){for(var e=0,n=0,r=0;r<t.length;++r)n=t.charCodeAt(r),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320?(++r,e+=4):e+=3;return e}function V8(t){for(var e=0,n,r,i=new Array(yC(t)),o=0,s=t.length;o<s;++o)n=t.charCodeAt(o),n<128?i[e++]=n:n<2048?(i[e++]=n>>6|192,i[e++]=n&63|128):(n&64512)===55296&&((r=t.charCodeAt(o+1))&64512)===56320?(n=65536+((n&1023)<<10)+(r&1023),++o,i[e++]=n>>18|240,i[e++]=n>>12&63|128,i[e++]=n>>6&63|128,i[e++]=n&63|128):(i[e++]=n>>12|224,i[e++]=n>>6&63|128,i[e++]=n&63|128);return i}var lo="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),wr=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Yc(t,e){var n=0,r=[],i,o;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(i=t[n++]&255,r.push(lo[i>>2&63]),i=(i&3)<<4,n>=e){r.push(lo[i&63]);break}if(o=t[n++]&255,i|=o>>4&15,r.push(lo[i&63]),i=(o&15)<<2,n>=e){r.push(lo[i&63]);break}o=t[n++]&255,i|=o>>6&3,r.push(lo[i&63]),r.push(lo[o&63])}return r.join("")}function vC(t,e){var n=0,r=t.length,i=0,o=[],s,a,u,c,d,h;if(e<=0)throw Error("Illegal len: "+e);for(;n<r-1&&i<e&&(h=t.charCodeAt(n++),s=h<wr.length?wr[h]:-1,h=t.charCodeAt(n++),a=h<wr.length?wr[h]:-1,!(s==-1||a==-1||(d=s<<2>>>0,d|=(a&48)>>4,o.push(String.fromCharCode(d)),++i>=e||n>=r)||(h=t.charCodeAt(n++),u=h<wr.length?wr[h]:-1,u==-1)||(d=(a&15)<<4>>>0,d|=(u&60)>>2,o.push(String.fromCharCode(d)),++i>=e||n>=r)));)h=t.charCodeAt(n++),c=h<wr.length?wr[h]:-1,d=(u&3)<<6>>>0,d|=c,o.push(String.fromCharCode(d)),++i;var p=[];for(n=0;n<i;n++)p.push(o[n].charCodeAt(0));return p}var Ka=16,v0=10,F8=16,j8=100,Uw=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],zw=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],_C=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Ga(t,e,n,r){var i,o=t[e],s=t[e+1];return o^=n[0],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[1],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[2],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[3],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[4],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[5],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[6],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[7],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[8],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[9],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[10],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[11],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[12],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[13],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[14],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[15],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[16],t[e]=s^n[F8+1],t[e+1]=o,t}function po(t,e){for(var n=0,r=0;n<4;++n)r=r<<8|t[e]&255,e=(e+1)%t.length;return{key:r,offp:e}}function $w(t,e,n){for(var r=0,i=[0,0],o=e.length,s=n.length,a,u=0;u<o;u++)a=po(t,r),r=a.offp,e[u]=e[u]^a.key;for(u=0;u<o;u+=2)i=Ga(i,0,e,n),e[u]=i[0],e[u+1]=i[1];for(u=0;u<s;u+=2)i=Ga(i,0,e,n),n[u]=i[0],n[u+1]=i[1]}function U8(t,e,n,r){for(var i=0,o=[0,0],s=n.length,a=r.length,u,c=0;c<s;c++)u=po(e,i),i=u.offp,n[c]=n[c]^u.key;for(i=0,c=0;c<s;c+=2)u=po(t,i),i=u.offp,o[0]^=u.key,u=po(t,i),i=u.offp,o[1]^=u.key,o=Ga(o,0,n,r),n[c]=o[0],n[c+1]=o[1];for(c=0;c<a;c+=2)u=po(t,i),i=u.offp,o[0]^=u.key,u=po(t,i),i=u.offp,o[1]^=u.key,o=Ga(o,0,n,r),r[c]=o[0],r[c+1]=o[1]}function Bw(t,e,n,r,i){var o=_C.slice(),s=o.length,a;if(n<4||n>31)if(a=Error("Illegal number of rounds (4-31): "+n),r){cn(r.bind(this,a));return}else throw a;if(e.length!==Ka)if(a=Error("Illegal salt length: "+e.length+" != "+Ka),r){cn(r.bind(this,a));return}else throw a;n=1<<n>>>0;var u,c,d=0,h;typeof Int32Array=="function"?(u=new Int32Array(Uw),c=new Int32Array(zw)):(u=Uw.slice(),c=zw.slice()),U8(e,t,u,c);function p(){if(i&&i(d/n),d<n)for(var w=Date.now();d<n&&(d=d+1,$w(t,u,c),$w(e,u,c),!(Date.now()-w>j8)););else{for(d=0;d<64;d++)for(h=0;h<s>>1;h++)Ga(o,h<<1,u,c);var E=[];for(d=0;d<s;d++)E.push((o[d]>>24&255)>>>0),E.push((o[d]>>16&255)>>>0),E.push((o[d]>>8&255)>>>0),E.push((o[d]&255)>>>0);if(r){r(null,E);return}else return E}r&&cn(p)}if(typeof r<"u")p();else for(var g;;)if(typeof(g=p())<"u")return g||[]}function em(t,e,n,r){var i;if(typeof t!="string"||typeof e!="string")if(i=Error("Invalid string / salt: Not a string"),n){cn(n.bind(this,i));return}else throw i;var o,s;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(i=Error("Invalid salt version: "+e.substring(0,2)),n){cn(n.bind(this,i));return}else throw i;if(e.charAt(2)==="$")o="\0",s=3;else{if(o=e.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||e.charAt(3)!=="$")if(i=Error("Invalid salt revision: "+e.substring(2,4)),n){cn(n.bind(this,i));return}else throw i;s=4}if(e.charAt(s+2)>"$")if(i=Error("Missing salt rounds"),n){cn(n.bind(this,i));return}else throw i;var a=parseInt(e.substring(s,s+1),10)*10,u=parseInt(e.substring(s+1,s+2),10),c=a+u,d=e.substring(s+3,s+25);t+=o>="a"?"\0":"";var h=V8(t),p=vC(d,Ka);function g(w){var E=[];return E.push("$2"),o>="a"&&E.push(o),E.push("$"),c<10&&E.push("0"),E.push(c.toString()),E.push("$"),E.push(Yc(p,p.length)),E.push(Yc(w,_C.length*4-1)),E.join("")}if(typeof n>"u")return g(Bw(h,p,c));Bw(h,p,c,function(w,E){w?n(w,null):n(null,g(E))},r)}function z8(t,e){return Yc(t,e)}function $8(t,e){return vC(t,e)}const Ww={setRandomFallback:k8,genSaltSync:y0,genSalt:hC,hashSync:pC,hash:mC,compareSync:N8,compare:D8,getRounds:M8,getSalt:O8,truncates:L8,encodeBase64:z8,decodeBase64:$8},Je=[];for(let t=0;t<256;++t)Je.push((t+256).toString(16).slice(1));function B8(t,e=0){return(Je[t[e+0]]+Je[t[e+1]]+Je[t[e+2]]+Je[t[e+3]]+"-"+Je[t[e+4]]+Je[t[e+5]]+"-"+Je[t[e+6]]+Je[t[e+7]]+"-"+Je[t[e+8]]+Je[t[e+9]]+"-"+Je[t[e+10]]+Je[t[e+11]]+Je[t[e+12]]+Je[t[e+13]]+Je[t[e+14]]+Je[t[e+15]]).toLowerCase()}let gh;const W8=new Uint8Array(16);function H8(){if(!gh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");gh=crypto.getRandomValues.bind(crypto)}return gh(W8)}const K8=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Hw={randomUUID:K8};function G8(t,e,n){var i;if(Hw.randomUUID&&!e&&!t)return Hw.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??H8();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,B8(r)}const q8="/assets/LoginBgImage-DvOZtn5B.jpeg",Q8=void 0;function Y8(){const[t,e]=v.useState(!1),[n,r]=v.useState(""),[i,o]=v.useState(""),[s,a]=v.useState(""),u=CE(),c=Xm(),d=()=>e(!t),h=async g=>{g.preventDefault();try{if(t){const w=hu(vu,"users"),E=pu(w,mu("email","==",n));if(!(await yu(E)).empty){alert("Email already registered !"),e(!1);return}const y=G8(),_=await Ww.hash(i,parseInt(Q8));await b8(w,{userId:y,name:s,email:n,password:_,productAccess:!1}),alert("Account created successfully."),u(ih({name:s,email:n,userId:y})),c("/")}else{const w=hu(vu,"users"),E=pu(w,mu("email","==",n)),C=await yu(E),y=hu(vu,"admins"),_=pu(y,mu("email","==",n)),x=await yu(_);if(C.empty&&x.empty){alert("User not found!");return}if(C.empty){if(!x.empty){const k=x.docs[0].data();if(i!==k.password){alert("Invalid credentials!");return}else u(ih({name:k.fullName,email:k.email,userId:k.userId}))}}else{const k=C.docs[0].data();if(await Ww.compare(i,k.password))u(ih({name:k.name,email:k.email,userId:k.userId}));else{alert("Invalid credentials!");return}}c("/")}}catch{alert("something went wrong please try after some time")}},p=async()=>{try{const w=(await p9(C8,R8)).user;if(w.email!=null){const E=hu(vu,"users"),C=pu(E,mu("email","==",w.email));(await yu(C)).empty?(alert("As you are new to our page please sign up using a password."),e(!0),a(w.displayName?w.displayName:"please write your name"),r(w.email)):c("/")}else alert("something went wrong, please try to log in through email and password")}catch(g){console.log(g),alert("something went wrong with Google Auth. please try to log in through email and password")}};return b.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-black bg-no-repeat bg-cover bg-center",style:{backgroundImage:`url(${q8})`},children:[b.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),b.jsxs("div",{className:"relative z-10 max-w-md w-full bg-gray-900 bg-opacity-80 rounded-xl p-8 shadow-lg",children:[b.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:t?"Create an account":"Sign in"}),b.jsxs("form",{onSubmit:h,className:"flex flex-col space-y-4",children:[t&&b.jsx("input",{type:"text",placeholder:"Full name",className:"p-2 rounded bg-gray-800 text-white focus:outline-none",value:s,onChange:g=>a(g.target.value)}),b.jsx("input",{type:"email",placeholder:"Email",className:"p-2 rounded bg-gray-800 text-white focus:outline-none",value:n,onChange:g=>r(g.target.value),required:!0}),b.jsx("input",{type:"password",placeholder:"Password",className:"p-2 rounded bg-gray-800 text-white focus:outline-none",value:i,onChange:g=>o(g.target.value),required:!0}),b.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 rounded",children:t?"Sign Up":"Sign In"})]}),b.jsx("div",{className:"my-4 text-center text-gray-300",children:"OR"}),b.jsxs("button",{onClick:p,className:"w-full bg-white text-black font-semibold py-2 rounded flex items-center justify-center",children:[b.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5 mr-2"}),"Continue with Google"]}),b.jsxs("div",{className:"text-gray-300 mt-4 text-center",children:[t?"Already have an account?":"Don't have an account?",b.jsx("button",{onClick:d,className:"ml-2 text-purple-400 hover:text-purple-200 underline",children:t?"Sign in":"Sign up"})]})]})]})}function X8(){return b.jsx(BP,{children:b.jsxs(_P,{children:[b.jsx(Gs,{path:"/blog",element:b.jsx(T3,{})}),b.jsx(Gs,{path:"/",element:b.jsx(_3,{})}),b.jsx(Gs,{path:"/software",element:b.jsx(S3,{})}),b.jsx(Gs,{path:"/signIn",element:b.jsx(Y8,{})})]})})}const J8=ZO({reducer:{auth:p3}});oE(document.getElementById("root")).render(b.jsx(Dk,{store:J8,children:b.jsx(X8,{})}));
